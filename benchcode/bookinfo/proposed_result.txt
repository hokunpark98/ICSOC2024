Deleting existing deployments...
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/details.yaml": deployments.apps "details-1" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/details.yaml": deployments.apps "details-2" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/details.yaml": deployments.apps "details-3" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/details.yaml": deployments.apps "details-4" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/products.yaml": deployments.apps "productpage-1" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/products.yaml": deployments.apps "productpage-2" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/products.yaml": deployments.apps "productpage-3" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/products.yaml": deployments.apps "productpage-4" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/products.yaml": deployments.apps "productpage-5" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/ratings.yaml": deployments.apps "ratings-1" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/ratings.yaml": deployments.apps "ratings-2" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/ratings.yaml": deployments.apps "ratings-3" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/ratings.yaml": deployments.apps "ratings-4" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/ratings.yaml": deployments.apps "ratings-5" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/reviews.yaml": deployments.apps "reviews-1" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/reviews.yaml": deployments.apps "reviews-2" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/reviews.yaml": deployments.apps "reviews-3" not found
Error from server (NotFound): error when deleting "/home/dnc/master/bookinfoBench/deployment/reviews.yaml": deployments.apps "reviews-4" not found
Deleting existing virtual services...
No resources found
No resources found
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=10...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 933.427ms, rate sampling interval: 5615ms
  Thread calibration: mean lat.: 750.170ms, rate sampling interval: 4517ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    53.42ms   58.14ms 576.00ms   90.80%
    Req/Sec     4.58      0.49     5.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   32.08ms
 75.000%   68.61ms
 90.000%   94.27ms
 99.000%  266.49ms
 99.900%  576.51ms
 99.990%  576.51ms
 99.999%  576.51ms
100.000%  576.51ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      15.703     0.000000            1         1.00
      20.799     0.100000           50         1.11
      23.839     0.200000          100         1.25
      26.959     0.300000          150         1.43
      29.823     0.400000          200         1.67
      32.079     0.500000          251         2.00
      33.535     0.550000          275         2.22
      36.543     0.600000          300         2.50
      43.391     0.650000          325         2.86
      64.735     0.700000          350         3.33
      68.607     0.750000          376         4.00
      70.783     0.775000          388         4.44
      72.767     0.800000          400         5.00
      75.391     0.825000          413         5.71
      79.999     0.850000          425         6.67
      88.447     0.875000          438         8.00
      92.287     0.887500          444         8.89
      94.271     0.900000          450        10.00
     117.311     0.912500          457        11.43
     122.751     0.925000          463        13.33
     126.399     0.937500          469        16.00
     127.359     0.943750          472        17.78
     128.191     0.950000          475        20.00
     131.199     0.956250          479        22.86
     133.887     0.962500          482        26.67
     147.455     0.968750          485        32.00
     160.511     0.971875          486        35.56
     165.375     0.975000          488        40.00
     171.519     0.978125          490        45.71
     172.799     0.981250          491        53.33
     179.455     0.984375          493        64.00
     179.455     0.985938          493        71.11
     216.703     0.987500          494        80.00
     266.495     0.989062          495        91.43
     467.711     0.990625          496       106.67
     467.967     0.992188          497       128.00
     467.967     0.992969          497       142.22
     467.967     0.993750          497       160.00
     472.831     0.994531          498       182.86
     472.831     0.995313          498       213.33
     562.687     0.996094          499       256.00
     562.687     0.996484          499       284.44
     562.687     0.996875          499       320.00
     562.687     0.997266          499       365.71
     562.687     0.997656          499       426.67
     576.511     0.998047          500       512.00
     576.511     1.000000          500          inf
#[Mean    =       53.420, StdDeviation   =       58.142]
#[Max     =      576.000, Total count    =          500]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  601 requests in 1.00m, 8.79MB read
  Socket errors: connect 0, read 0, write 0, timeout 8
Requests/sec:     10.01
Transfer/sec:    149.93KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 53.535ms, rate sampling interval: 189ms
  Thread calibration: mean lat.: 54.436ms, rate sampling interval: 187ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    47.23ms   30.63ms 233.34ms   80.71%
    Req/Sec     4.87      9.16    26.00     83.22%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   31.12ms
 75.000%   67.90ms
 90.000%   92.61ms
 99.000%  129.34ms
 99.900%  198.01ms
 99.990%  233.47ms
 99.999%  233.47ms
100.000%  233.47ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      13.855     0.000000            1         1.00
      19.455     0.100000          110         1.11
      22.015     0.200000          221         1.25
      24.543     0.300000          331         1.43
      27.199     0.400000          440         1.67
      31.119     0.500000          550         2.00
      35.263     0.550000          605         2.22
      43.647     0.600000          660         2.50
      60.671     0.650000          715         2.86
      64.319     0.700000          770         3.33
      68.031     0.750000          826         4.00
      70.591     0.775000          853         4.44
      73.535     0.800000          880         5.00
      77.375     0.825000          907         5.71
      81.791     0.850000          935         6.67
      87.743     0.875000          962         8.00
      90.687     0.887500          976         8.89
      92.799     0.900000          990        10.00
      94.719     0.912500         1003        11.43
      99.071     0.925000         1017        13.33
     101.375     0.937500         1031        16.00
     102.271     0.943750         1038        17.78
     104.127     0.950000         1045        20.00
     105.535     0.956250         1051        22.86
     107.135     0.962500         1059        26.67
     108.543     0.968750         1065        32.00
     109.823     0.971875         1069        35.56
     111.871     0.975000         1072        40.00
     112.959     0.978125         1075        45.71
     116.543     0.981250         1079        53.33
     117.695     0.984375         1082        64.00
     121.087     0.985938         1084        71.11
     126.847     0.987500         1086        80.00
     127.551     0.989062         1087        91.43
     132.479     0.990625         1089       106.67
     137.983     0.992188         1091       128.00
     151.167     0.992969         1092       142.22
     152.959     0.993750         1093       160.00
     152.959     0.994531         1093       182.86
     153.087     0.995313         1094       213.33
     155.519     0.996094         1095       256.00
     156.543     0.996484         1096       284.44
     156.543     0.996875         1096       320.00
     156.543     0.997266         1096       365.71
     184.831     0.997656         1097       426.67
     184.831     0.998047         1097       512.00
     198.015     0.998242         1098       568.89
     198.015     0.998437         1098       640.00
     198.015     0.998633         1098       731.43
     198.015     0.998828         1098       853.33
     198.015     0.999023         1098      1024.00
     233.471     0.999121         1099      1137.78
     233.471     1.000000         1099          inf
#[Mean    =       47.233, StdDeviation   =       30.632]
#[Max     =      233.344, Total count    =         1099]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1202 requests in 2.00m, 17.58MB read
Requests/sec:     10.01
Transfer/sec:    149.97KB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 44)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 97)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 96)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 108)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 44)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 99)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 95)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 110)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 44)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 98)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 97)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 109)
filtered_path (['productpage-2', 'details-1'], 16)
filtered_path (['productpage-2', 'details-2'], 19)
filtered_path (['productpage-2', 'details-4'], 12)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 45)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 99)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 96)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 107)
filtered_path (['productpage-2', 'details-3'], 18)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 45)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 97)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 97)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 107)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 135)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 48)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 22)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 37)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 134)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 50)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 22)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 39)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 136)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 49)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 22)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 38)
filtered_path (['productpage-5', 'details-1'], 15)
filtered_path (['productpage-5', 'details-2'], 19)
filtered_path (['productpage-5', 'details-4'], 17)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 135)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 47)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 23)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 39)
filtered_path (['productpage-5', 'details-3'], 22)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 136)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 47)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 23)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 37)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 18)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 3051)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 26)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 20)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 3053)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 25)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 19)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 3052)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 27)
filtered_path (['productpage-3', 'details-1'], 11)
filtered_path (['productpage-3', 'details-2'], 12)
filtered_path (['productpage-3', 'details-4'], 9)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 20)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 3050)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 10)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 26)
filtered_path (['productpage-3', 'details-3'], 12)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 18)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 3050)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 10)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 27)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 38)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 36)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 17)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 8)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 40)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 35)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 19)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 8)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 39)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 37)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 18)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 8)
filtered_path (['productpage-4', 'details-1'], 15)
filtered_path (['productpage-4', 'details-2'], 12)
filtered_path (['productpage-4', 'details-4'], 11)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 40)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 36)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 16)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-4', 'details-3'], 13)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 38)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 37)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 9)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 18)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 47)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 3051)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 40)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 18)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 49)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 3053)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 39)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 18)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 48)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 3052)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 41)
filtered_path (['productpage-1', 'details-1'], 16)
filtered_path (['productpage-1', 'details-2'], 14)
filtered_path (['productpage-1', 'details-4'], 20)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 19)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 49)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 3050)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 40)
filtered_path (['productpage-1', 'details-3'], 16)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 19)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 47)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 3050)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 41)
original graph map
Node: ratings-4
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: reviews-2
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-4', 'productpage-5']
  Downstream: ['ratings-2', 'ratings-5', 'ratings-3', 'ratings-4', 'ratings-1']
Node: productpage-2
  Upstream: []
  Downstream: ['details-3', 'details-1', 'details-4', 'reviews-4', 'reviews-2', 'details-2', 'reviews-1', 'reviews-3']
Node: productpage-5
  Upstream: []
  Downstream: ['details-2', 'reviews-1', 'details-3', 'reviews-3', 'reviews-4', 'details-4', 'reviews-2', 'details-1']
Node: ratings-2
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
Node: details-1
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-4', 'productpage-5']
  Downstream: []
Node: productpage-3
  Upstream: []
  Downstream: ['details-3', 'reviews-2', 'details-1', 'reviews-3', 'reviews-4', 'details-2', 'reviews-1', 'details-4']
Node: reviews-3
  Upstream: ['productpage-5', 'productpage-2', 'productpage-4', 'productpage-1', 'productpage-3']
  Downstream: ['ratings-2', 'ratings-5', 'ratings-4', 'ratings-1', 'ratings-3']
Node: details-2
  Upstream: ['productpage-4', 'productpage-1', 'productpage-5', 'productpage-2', 'productpage-3']
  Downstream: []
Node: reviews-1
  Upstream: ['productpage-5', 'productpage-2', 'productpage-4', 'productpage-1', 'productpage-3']
  Downstream: ['ratings-3', 'ratings-1', 'ratings-2', 'ratings-4', 'ratings-5']
Node: productpage-4
  Upstream: []
  Downstream: ['details-3', 'details-2', 'reviews-2', 'details-1', 'details-4', 'reviews-1', 'reviews-3', 'reviews-4']
Node: productpage-1
  Upstream: []
  Downstream: ['details-1', 'reviews-4', 'details-4', 'details-2', 'reviews-2', 'details-3', 'reviews-3', 'reviews-1']
Node: details-4
  Upstream: ['productpage-2', 'productpage-1', 'productpage-4', 'productpage-5', 'productpage-3']
  Downstream: []
Node: ratings-1
  Upstream: ['reviews-3', 'reviews-1', 'reviews-2', 'reviews-4']
  Downstream: []
Node: details-3
  Upstream: ['productpage-2', 'productpage-3', 'productpage-4', 'productpage-5', 'productpage-1']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-1', 'productpage-2', 'productpage-4', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-3', 'ratings-2', 'ratings-4', 'ratings-1', 'ratings-5']
Node: ratings-3
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-4', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-4', 50), ('productpage', 'productpage-3', 'details', 'details-3', 100), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 100), ('productpage', 'productpage-4', 'details', 'details-3', 25), ('productpage', 'productpage-4', 'details', 'details-4', 75), ('productpage', 'productpage-4', 'reviews', 'reviews-3', 25), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 75), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-4', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-4', 50)
('productpage', 'productpage-3', 'details', 'details-3', 100)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 100)
('productpage', 'productpage-4', 'details', 'details-3', 25)
('productpage', 'productpage-4', 'details', 'details-4', 75)
('productpage', 'productpage-4', 'reviews', 'reviews-3', 25)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 75)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=10...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 35.810ms, rate sampling interval: 130ms
  Thread calibration: mean lat.: 42.994ms, rate sampling interval: 177ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    36.29ms   22.53ms  96.38ms   76.20%
    Req/Sec     4.92     10.80    38.00     85.74%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   25.12ms
 75.000%   57.06ms
 90.000%   71.61ms
 99.000%   90.50ms
 99.900%   96.45ms
 99.990%   96.45ms
 99.999%   96.45ms
100.000%   96.45ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.767     0.000000            1         1.00
      17.455     0.100000           50         1.11
      19.103     0.200000          101         1.25
      20.879     0.300000          150         1.43
      22.975     0.400000          202         1.67
      25.119     0.500000          250         2.00
      26.143     0.550000          275         2.22
      27.519     0.600000          300         2.50
      29.055     0.650000          325         2.86
      43.807     0.700000          350         3.33
      57.055     0.750000          375         4.00
      60.895     0.775000          388         4.44
      61.887     0.800000          400         5.00
      64.063     0.825000          413         5.71
      65.855     0.850000          426         6.67
      67.071     0.875000          438         8.00
      69.055     0.887500          444         8.89
      71.615     0.900000          450        10.00
      75.135     0.912500          457        11.43
      77.823     0.925000          463        13.33
      81.279     0.937500          469        16.00
      83.199     0.943750          472        17.78
      84.159     0.950000          475        20.00
      85.247     0.956250          479        22.86
      86.399     0.962500          482        26.67
      87.359     0.968750          485        32.00
      87.423     0.971875          486        35.56
      88.447     0.975000          488        40.00
      89.343     0.978125          491        45.71
      89.343     0.981250          491        53.33
      89.727     0.984375          493        64.00
      89.727     0.985938          493        71.11
      90.047     0.987500          494        80.00
      90.495     0.989062          495        91.43
      93.311     0.990625          496       106.67
      94.591     0.992188          497       128.00
      94.591     0.992969          497       142.22
      94.591     0.993750          497       160.00
      95.743     0.994531          498       182.86
      95.743     0.995313          498       213.33
      95.807     0.996094          499       256.00
      95.807     0.996484          499       284.44
      95.807     0.996875          499       320.00
      95.807     0.997266          499       365.71
      95.807     0.997656          499       426.67
      96.447     0.998047          500       512.00
      96.447     1.000000          500          inf
#[Mean    =       36.287, StdDeviation   =       22.526]
#[Max     =       96.384, Total count    =          500]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  600 requests in 1.00m, 8.79MB read
Requests/sec:     10.00
Transfer/sec:    149.96KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 37.467ms, rate sampling interval: 130ms
  Thread calibration: mean lat.: 44.456ms, rate sampling interval: 155ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    39.57ms   20.71ms 116.35ms   60.36%
    Req/Sec     4.93     11.26    38.00     85.82%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   34.91ms
 75.000%   56.35ms
 90.000%   72.64ms
 99.000%   88.96ms
 99.900%   93.18ms
 99.990%  116.42ms
 99.999%  116.42ms
100.000%  116.42ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      12.087     0.000000            1         1.00
      16.335     0.100000          110         1.11
      19.391     0.200000          220         1.25
      25.919     0.300000          330         1.43
      31.503     0.400000          440         1.67
      34.911     0.500000          553         2.00
      36.703     0.550000          605         2.22
      38.207     0.600000          660         2.50
      40.031     0.650000          716         2.86
      43.327     0.700000          770         3.33
      56.351     0.750000          825         4.00
      58.591     0.775000          854         4.44
      61.183     0.800000          880         5.00
      64.319     0.825000          908         5.71
      67.007     0.850000          935         6.67
      70.527     0.875000          965         8.00
      71.487     0.887500          977         8.89
      72.639     0.900000          990        10.00
      73.535     0.912500         1004        11.43
      75.391     0.925000         1019        13.33
      77.631     0.937500         1032        16.00
      79.295     0.943750         1039        17.78
      79.999     0.950000         1045        20.00
      81.151     0.956250         1052        22.86
      82.111     0.962500         1059        26.67
      83.583     0.968750         1066        32.00
      85.183     0.971875         1070        35.56
      85.375     0.975000         1073        40.00
      85.695     0.978125         1076        45.71
      86.271     0.981250         1080        53.33
      87.103     0.984375         1083        64.00
      87.999     0.985938         1085        71.11
      88.831     0.987500         1087        80.00
      88.959     0.989062         1089        91.43
      89.663     0.990625         1090       106.67
      90.047     0.992188         1092       128.00
      90.303     0.992969         1093       142.22
      90.431     0.993750         1094       160.00
      90.431     0.994531         1094       182.86
      90.623     0.995313         1095       213.33
      90.687     0.996094         1096       256.00
      91.199     0.996484         1097       284.44
      91.199     0.996875         1097       320.00
      91.199     0.997266         1097       365.71
      92.031     0.997656         1098       426.67
      92.031     0.998047         1098       512.00
      93.183     0.998242         1099       568.89
      93.183     0.998437         1099       640.00
      93.183     0.998633         1099       731.43
      93.183     0.998828         1099       853.33
      93.183     0.999023         1099      1024.00
     116.415     0.999121         1100      1137.78
     116.415     1.000000         1100          inf
#[Mean    =       39.573, StdDeviation   =       20.710]
#[Max     =      116.352, Total count    =         1100]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1202 requests in 2.00m, 17.58MB read
Requests/sec:     10.01
Transfer/sec:    149.95KB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=30...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 2205.355ms, rate sampling interval: 10092ms
  Thread calibration: mean lat.: 3034.464ms, rate sampling interval: 10158ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   218.48ms  695.61ms   7.11s    94.86%
    Req/Sec    15.00      1.32    18.00     87.50%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   56.58ms
 75.000%   90.30ms
 90.000%  268.80ms
 99.000%    3.84s 
 99.900%    6.52s 
 99.990%    7.11s 
 99.999%    7.11s 
100.000%    7.11s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      13.519     0.000000            1         1.00
      19.423     0.100000          156         1.11
      22.303     0.200000          311         1.25
      25.231     0.300000          467         1.43
      31.903     0.400000          622         1.67
      56.575     0.500000          778         2.00
      62.687     0.550000          857         2.22
      66.943     0.600000          934         2.50
      71.679     0.650000         1011         2.86
      78.591     0.700000         1090         3.33
      90.687     0.750000         1167         4.00
     104.447     0.775000         1206         4.44
     124.351     0.800000         1244         5.00
     146.687     0.825000         1284         5.71
     171.647     0.850000         1322         6.67
     204.543     0.875000         1361         8.00
     237.567     0.887500         1381         8.89
     268.799     0.900000         1400        10.00
     305.151     0.912500         1419        11.43
     411.135     0.925000         1439        13.33
     601.599     0.937500         1458        16.00
     757.759     0.943750         1468        17.78
     947.711     0.950000         1478        20.00
    1239.039     0.956250         1487        22.86
    1638.399     0.962500         1497        26.67
    2111.487     0.968750         1507        32.00
    2183.167     0.971875         1512        35.56
    2277.375     0.975000         1517        40.00
    2494.463     0.978125         1521        45.71
    2811.903     0.981250         1526        53.33
    3293.183     0.984375         1531        64.00
    3414.015     0.985938         1534        71.11
    3487.743     0.987500         1536        80.00
    3727.359     0.989062         1538        91.43
    4071.423     0.990625         1541       106.67
    4157.439     0.992188         1543       128.00
    4640.767     0.992969         1545       142.22
    4874.239     0.993750         1546       160.00
    5128.191     0.994531         1547       182.86
    5435.391     0.995313         1548       213.33
    5656.575     0.996094         1549       256.00
    5951.487     0.996484         1550       284.44
    5955.583     0.996875         1551       320.00
    5955.583     0.997266         1551       365.71
    6262.783     0.997656         1552       426.67
    6262.783     0.998047         1552       512.00
    6520.831     0.998242         1553       568.89
    6520.831     0.998437         1553       640.00
    6520.831     0.998633         1553       731.43
    6832.127     0.998828         1554       853.33
    6832.127     0.999023         1554      1024.00
    6832.127     0.999121         1554      1137.78
    6832.127     0.999219         1554      1280.00
    6832.127     0.999316         1554      1462.86
    7114.751     0.999414         1555      1706.67
    7114.751     1.000000         1555          inf
#[Mean    =      218.482, StdDeviation   =      695.609]
#[Max     =     7110.656, Total count    =         1555]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1802 requests in 1.00m, 26.35MB read
  Socket errors: connect 0, read 0, write 0, timeout 14
Requests/sec:     30.02
Transfer/sec:    449.62KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 50.385ms, rate sampling interval: 181ms
  Thread calibration: mean lat.: 47.821ms, rate sampling interval: 184ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    41.77ms   25.31ms 187.26ms   71.22%
    Req/Sec    14.69     11.31    27.00     36.71%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   28.16ms
 75.000%   65.41ms
 90.000%   74.94ms
 99.000%  112.51ms
 99.900%  160.51ms
 99.990%  187.39ms
 99.999%  187.39ms
100.000%  187.39ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.343     0.000000            1         1.00
      17.551     0.100000          330         1.11
      20.687     0.200000          660         1.25
      23.215     0.300000          992         1.43
      25.391     0.400000         1325         1.67
      28.159     0.500000         1652         2.00
      31.407     0.550000         1814         2.22
      40.319     0.600000         1980         2.50
      51.679     0.650000         2144         2.86
      62.047     0.700000         2309         3.33
      65.407     0.750000         2473         4.00
      66.751     0.775000         2558         4.44
      68.159     0.800000         2639         5.00
      69.119     0.825000         2723         5.71
      70.783     0.850000         2803         6.67
      72.703     0.875000         2886         8.00
      73.791     0.887500         2930         8.89
      74.943     0.900000         2968        10.00
      76.479     0.912500         3010        11.43
      78.015     0.925000         3052        13.33
      79.999     0.937500         3093        16.00
      81.471     0.943750         3114        17.78
      82.943     0.950000         3133        20.00
      84.863     0.956250         3153        22.86
      88.191     0.962500         3174        26.67
      91.327     0.968750         3194        32.00
      92.607     0.971875         3206        35.56
      94.143     0.975000         3215        40.00
      96.255     0.978125         3225        45.71
      98.751     0.981250         3236        53.33
     100.735     0.984375         3246        64.00
     104.639     0.985938         3252        71.11
     106.239     0.987500         3256        80.00
     109.247     0.989062         3261        91.43
     113.471     0.990625         3267       106.67
     117.695     0.992188         3272       128.00
     119.359     0.992969         3274       142.22
     121.663     0.993750         3277       160.00
     124.415     0.994531         3279       182.86
     126.911     0.995313         3282       213.33
     129.471     0.996094         3285       256.00
     130.175     0.996484         3286       284.44
     140.671     0.996875         3287       320.00
     141.311     0.997266         3288       365.71
     143.231     0.997656         3290       426.67
     149.887     0.998047         3291       512.00
     150.527     0.998242         3292       568.89
     150.527     0.998437         3292       640.00
     159.103     0.998633         3293       731.43
     160.511     0.998828         3294       853.33
     160.511     0.999023         3294      1024.00
     178.047     0.999121         3295      1137.78
     178.047     0.999219         3295      1280.00
     178.047     0.999316         3295      1462.86
     182.143     0.999414         3296      1706.67
     182.143     0.999512         3296      2048.00
     182.143     0.999561         3296      2275.56
     182.143     0.999609         3296      2560.00
     182.143     0.999658         3296      2925.71
     187.391     0.999707         3297      3413.33
     187.391     1.000000         3297          inf
#[Mean    =       41.773, StdDeviation   =       25.315]
#[Max     =      187.264, Total count    =         3297]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3602 requests in 2.00m, 52.67MB read
Requests/sec:     30.01
Transfer/sec:    449.39KB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-5', 'details-4'], 7)
filtered_path (['productpage-5', 'details-2'], 10)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 31)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 166)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 41)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 37)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 31)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 167)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 41)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 37)
filtered_path (['productpage-5', 'details-1'], 11)
filtered_path (['productpage-5', 'details-3'], 9)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 32)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 166)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 42)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 36)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 31)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 166)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 41)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 36)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 31)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 166)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 42)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 38)
filtered_path (['productpage-1', 'details-4'], 14)
filtered_path (['productpage-1', 'details-2'], 15)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 17)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 28)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 61)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 17)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 28)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 62)
filtered_path (['productpage-1', 'details-1'], 13)
filtered_path (['productpage-1', 'details-3'], 14)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 18)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 27)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 22)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 61)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 17)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 27)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 61)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 17)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 29)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 22)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 61)
filtered_path (['productpage-2', 'details-4'], 17)
filtered_path (['productpage-2', 'details-2'], 17)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 47)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 15)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 48)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 15)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 16)
filtered_path (['productpage-2', 'details-1'], 18)
filtered_path (['productpage-2', 'details-3'], 17)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 10)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 47)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 16)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 15)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 47)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 15)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 15)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 47)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 16)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 17)
filtered_path (['productpage-4', 'details-4'], 9)
filtered_path (['productpage-4', 'details-2'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 31)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 66)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 31)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 67)
filtered_path (['productpage-4', 'details-1'], 9)
filtered_path (['productpage-4', 'details-3'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 30)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 27)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 66)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 30)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 66)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 32)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 27)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 66)
filtered_path (['productpage-3', 'details-4'], 15)
filtered_path (['productpage-3', 'details-2'], 15)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 34)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 18)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 87)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 6)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 34)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 18)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 88)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-3', 'details-1'], 15)
filtered_path (['productpage-3', 'details-3'], 16)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 35)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 87)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 34)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 17)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 87)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 6)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 35)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 19)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 87)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 6)
original graph map
Node: details-4
  Upstream: ['productpage-1', 'productpage-5', 'productpage-2', 'productpage-4', 'productpage-3']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-2', 'productpage-1', 'productpage-5', 'productpage-4', 'productpage-3']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-3', 'ratings-5', 'ratings-4']
Node: productpage-5
  Upstream: []
  Downstream: ['details-1', 'reviews-4', 'details-2', 'details-3', 'details-4', 'reviews-1', 'reviews-2', 'reviews-3']
Node: productpage-1
  Upstream: []
  Downstream: ['details-2', 'details-3', 'details-4', 'reviews-4', 'reviews-3', 'details-1', 'reviews-2', 'reviews-1']
Node: reviews-3
  Upstream: ['productpage-3', 'productpage-5', 'productpage-1', 'productpage-4', 'productpage-2']
  Downstream: ['ratings-1', 'ratings-4', 'ratings-3', 'ratings-2', 'ratings-5']
Node: details-2
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: []
Node: ratings-3
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
Node: reviews-2
  Upstream: ['productpage-3', 'productpage-5', 'productpage-4', 'productpage-1', 'productpage-2']
  Downstream: ['ratings-1', 'ratings-4', 'ratings-3', 'ratings-2', 'ratings-5']
Node: ratings-4
  Upstream: ['reviews-2', 'reviews-3', 'reviews-1', 'reviews-4']
  Downstream: []
Node: details-1
  Upstream: ['productpage-5', 'productpage-3', 'productpage-4', 'productpage-1', 'productpage-2']
  Downstream: []
Node: details-3
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: []
Node: productpage-2
  Upstream: []
  Downstream: ['details-3', 'details-2', 'reviews-4', 'details-4', 'reviews-1', 'details-1', 'reviews-2', 'reviews-3']
Node: ratings-5
  Upstream: ['reviews-3', 'reviews-2', 'reviews-4', 'reviews-1']
  Downstream: []
Node: productpage-4
  Upstream: []
  Downstream: ['details-4', 'reviews-3', 'details-1', 'details-2', 'details-3', 'reviews-2', 'reviews-4', 'reviews-1']
Node: productpage-3
  Upstream: []
  Downstream: ['details-3', 'details-1', 'details-2', 'reviews-2', 'reviews-3', 'reviews-1', 'reviews-4', 'details-4']
Node: ratings-2
  Upstream: ['reviews-4', 'reviews-3', 'reviews-2', 'reviews-1']
  Downstream: []
Node: ratings-1
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
Node: reviews-1
  Upstream: ['productpage-5', 'productpage-1', 'productpage-2', 'productpage-3', 'productpage-4']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-3', 'ratings-4', 'ratings-5']
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=30...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 45.656ms, rate sampling interval: 153ms
  Thread calibration: mean lat.: 53.039ms, rate sampling interval: 210ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    43.39ms   29.22ms 175.23ms   77.44%
    Req/Sec    14.63     11.85    32.00     56.31%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   28.08ms
 75.000%   64.35ms
 90.000%   83.58ms
 99.000%  127.68ms
 99.900%  169.21ms
 99.990%  175.36ms
 99.999%  175.36ms
100.000%  175.36ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      10.711     0.000000            1         1.00
      15.807     0.100000          150         1.11
      20.335     0.200000          301         1.25
      22.191     0.300000          451         1.43
      24.607     0.400000          600         1.67
      28.079     0.500000          749         2.00
      32.207     0.550000          824         2.22
      45.087     0.600000          899         2.50
      52.255     0.650000          974         2.86
      58.847     0.700000         1049         3.33
      64.351     0.750000         1124         4.00
      66.431     0.775000         1162         4.44
      68.671     0.800000         1200         5.00
      71.423     0.825000         1237         5.71
      74.623     0.850000         1274         6.67
      77.951     0.875000         1311         8.00
      80.319     0.887500         1330         8.89
      83.711     0.900000         1349        10.00
      87.231     0.912500         1367        11.43
      92.543     0.925000         1386        13.33
      99.391     0.937500         1406        16.00
     101.631     0.943750         1414        17.78
     104.255     0.950000         1424        20.00
     105.791     0.956250         1433        22.86
     107.711     0.962500         1442        26.67
     111.807     0.968750         1452        32.00
     115.327     0.971875         1456        35.56
     116.927     0.975000         1461        40.00
     118.783     0.978125         1466        45.71
     121.663     0.981250         1471        53.33
     122.175     0.984375         1475        64.00
     124.415     0.985938         1477        71.11
     125.695     0.987500         1480        80.00
     126.911     0.989062         1482        91.43
     127.935     0.990625         1485       106.67
     130.111     0.992188         1487       128.00
     130.559     0.992969         1488       142.22
     131.583     0.993750         1489       160.00
     132.863     0.994531         1490       182.86
     134.655     0.995313         1491       213.33
     136.575     0.996094         1493       256.00
     136.575     0.996484         1493       284.44
     136.959     0.996875         1494       320.00
     136.959     0.997266         1494       365.71
     138.111     0.997656         1495       426.67
     140.415     0.998047         1496       512.00
     140.415     0.998242         1496       568.89
     140.415     0.998437         1496       640.00
     140.415     0.998633         1496       731.43
     169.215     0.998828         1497       853.33
     169.215     0.999023         1497      1024.00
     169.215     0.999121         1497      1137.78
     169.215     0.999219         1497      1280.00
     169.215     0.999316         1497      1462.86
     175.359     0.999414         1498      1706.67
     175.359     1.000000         1498          inf
#[Mean    =       43.391, StdDeviation   =       29.224]
#[Max     =      175.232, Total count    =         1498]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1800 requests in 1.00m, 26.32MB read
Requests/sec:     29.99
Transfer/sec:    449.03KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 38.032ms, rate sampling interval: 170ms
  Thread calibration: mean lat.: 47.840ms, rate sampling interval: 169ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    40.51ms   27.34ms 163.58ms   76.05%
    Req/Sec    14.55     11.83    29.00     42.52%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   26.42ms
 75.000%   63.65ms
 90.000%   80.57ms
 99.000%  107.52ms
 99.900%  137.21ms
 99.990%  163.71ms
 99.999%  163.71ms
100.000%  163.71ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      10.575     0.000000            1         1.00
      14.335     0.100000          332         1.11
      16.415     0.200000          662         1.25
      19.407     0.300000          992         1.43
      23.375     0.400000         1321         1.67
      26.415     0.500000         1650         2.00
      29.215     0.550000         1814         2.22
      42.495     0.600000         1980         2.50
      48.031     0.650000         2144         2.86
      56.415     0.700000         2309         3.33
      63.647     0.750000         2474         4.00
      65.983     0.775000         2558         4.44
      67.903     0.800000         2640         5.00
      70.527     0.825000         2721         5.71
      73.919     0.850000         2805         6.67
      77.119     0.875000         2888         8.00
      79.039     0.887500         2928         8.89
      80.639     0.900000         2970        10.00
      82.175     0.912500         3010        11.43
      85.375     0.925000         3051        13.33
      87.935     0.937500         3092        16.00
      89.855     0.943750         3113        17.78
      92.415     0.950000         3134        20.00
      94.719     0.956250         3155        22.86
      96.511     0.962500         3175        26.67
      98.175     0.968750         3195        32.00
      99.071     0.971875         3206        35.56
     100.095     0.975000         3216        40.00
     101.695     0.978125         3226        45.71
     102.975     0.981250         3237        53.33
     104.319     0.984375         3247        64.00
     104.767     0.985938         3252        71.11
     105.791     0.987500         3258        80.00
     106.879     0.989062         3262        91.43
     108.159     0.990625         3268       106.67
     109.375     0.992188         3273       128.00
     110.335     0.992969         3275       142.22
     127.231     0.993750         3278       160.00
     127.743     0.994531         3280       182.86
     130.047     0.995313         3283       213.33
     132.735     0.996094         3286       256.00
     132.863     0.996484         3287       284.44
     132.991     0.996875         3288       320.00
     133.375     0.997266         3289       365.71
     135.039     0.997656         3291       426.67
     135.167     0.998047         3292       512.00
     135.679     0.998242         3293       568.89
     135.679     0.998437         3293       640.00
     136.447     0.998633         3294       731.43
     137.215     0.998828         3295       853.33
     137.215     0.999023         3295      1024.00
     137.983     0.999121         3296      1137.78
     137.983     0.999219         3296      1280.00
     137.983     0.999316         3296      1462.86
     150.271     0.999414         3297      1706.67
     150.271     0.999512         3297      2048.00
     150.271     0.999561         3297      2275.56
     150.271     0.999609         3297      2560.00
     150.271     0.999658         3297      2925.71
     163.711     0.999707         3298      3413.33
     163.711     1.000000         3298          inf
#[Mean    =       40.506, StdDeviation   =       27.340]
#[Max     =      163.584, Total count    =         3298]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3602 requests in 2.00m, 52.68MB read
Requests/sec:     30.01
Transfer/sec:    449.39KB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=50...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 2026.988ms, rate sampling interval: 8007ms
  Thread calibration: mean lat.: 2619.793ms, rate sampling interval: 7700ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   231.20ms  559.92ms   3.60s    92.93%
    Req/Sec    25.17      1.46    29.00     91.67%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   64.00ms
 75.000%  110.53ms
 90.000%  401.15ms
 99.000%    3.12s 
 99.900%    3.46s 
 99.990%    3.60s 
 99.999%    3.60s 
100.000%    3.60s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      13.407     0.000000            1         1.00
      19.679     0.100000          257         1.11
      22.335     0.200000          514         1.25
      25.951     0.300000          769         1.43
      42.783     0.400000         1025         1.67
      63.999     0.500000         1281         2.00
      79.103     0.550000         1409         2.22
      89.599     0.600000         1537         2.50
      96.703     0.650000         1665         2.86
     102.911     0.700000         1793         3.33
     110.527     0.750000         1921         4.00
     118.399     0.775000         1985         4.44
     189.695     0.800000         2049         5.00
     200.447     0.825000         2113         5.71
     211.199     0.850000         2177         6.67
     292.095     0.875000         2241         8.00
     306.687     0.887500         2273         8.89
     401.151     0.900000         2305        10.00
     498.175     0.912500         2337        11.43
     703.487     0.925000         2370        13.33
     998.399     0.937500         2401        16.00
    1214.463     0.943750         2417        17.78
    1516.543     0.950000         2434        20.00
    1692.671     0.956250         2449        22.86
    1821.695     0.962500         2465        26.67
    2109.439     0.968750         2481        32.00
    2291.711     0.971875         2491        35.56
    2392.063     0.975000         2497        40.00
    2504.703     0.978125         2505        45.71
    2715.647     0.981250         2513        53.33
    2908.159     0.984375         2522        64.00
    2998.271     0.985938         2525        71.11
    3084.287     0.987500         2529        80.00
    3115.007     0.989062         2533        91.43
    3190.783     0.990625         2537       106.67
    3194.879     0.992188         2541       128.00
    3211.263     0.992969         2543       142.22
    3291.135     0.993750         2546       160.00
    3293.183     0.994531         2547       182.86
    3295.231     0.995313         2549       213.33
    3299.327     0.996094         2552       256.00
    3299.327     0.996484         2552       284.44
    3385.343     0.996875         2553       320.00
    3395.583     0.997266         2554       365.71
    3397.631     0.997656         2556       426.67
    3397.631     0.998047         2556       512.00
    3418.111     0.998242         2557       568.89
    3418.111     0.998437         2557       640.00
    3463.167     0.998633         2558       731.43
    3463.167     0.998828         2558       853.33
    3497.983     0.999023         2560      1024.00
    3497.983     0.999121         2560      1137.78
    3497.983     0.999219         2560      1280.00
    3497.983     0.999316         2560      1462.86
    3497.983     0.999414         2560      1706.67
    3497.983     0.999512         2560      2048.00
    3497.983     0.999561         2560      2275.56
    3497.983     0.999609         2560      2560.00
    3598.335     0.999658         2561      2925.71
    3598.335     1.000000         2561          inf
#[Mean    =      231.198, StdDeviation   =      559.919]
#[Max     =     3596.288, Total count    =         2561]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3001 requests in 1.00m, 43.89MB read
  Socket errors: connect 0, read 0, write 0, timeout 9
Requests/sec:     49.99
Transfer/sec:    748.65KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 57.593ms, rate sampling interval: 179ms
  Thread calibration: mean lat.: 58.591ms, rate sampling interval: 180ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    48.02ms   28.34ms 185.60ms   69.11%
    Req/Sec    24.47      5.74    44.00     78.19%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   45.60ms
 75.000%   68.42ms
 90.000%   81.98ms
 99.000%  157.57ms
 99.900%  176.64ms
 99.990%  179.07ms
 99.999%  185.73ms
100.000%  185.73ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.543     0.000000            1         1.00
      18.207     0.100000          553         1.11
      20.783     0.200000         1100         1.25
      23.423     0.300000         1651         1.43
      27.839     0.400000         2201         1.67
      45.599     0.500000         2750         2.00
      54.047     0.550000         3026         2.22
      58.815     0.600000         3300         2.50
      61.791     0.650000         3575         2.86
      64.991     0.700000         3850         3.33
      68.415     0.750000         4127         4.00
      70.207     0.775000         4263         4.44
      72.511     0.800000         4403         5.00
      74.751     0.825000         4542         5.71
      76.927     0.850000         4675         6.67
      79.103     0.875000         4813         8.00
      80.767     0.887500         4885         8.89
      81.983     0.900000         4950        10.00
      84.031     0.912500         5021        11.43
      85.759     0.925000         5089        13.33
      88.191     0.937500         5157        16.00
      89.087     0.943750         5191        17.78
      91.135     0.950000         5227        20.00
      92.991     0.956250         5260        22.86
      95.103     0.962500         5294        26.67
      97.215     0.968750         5330        32.00
      97.919     0.971875         5346        35.56
      99.839     0.975000         5364        40.00
     101.567     0.978125         5380        45.71
     103.423     0.981250         5397        53.33
     106.559     0.984375         5415        64.00
     108.095     0.985938         5423        71.11
     119.487     0.987500         5432        80.00
     154.111     0.989062         5440        91.43
     158.463     0.990625         5449       106.67
     159.487     0.992188         5458       128.00
     162.303     0.992969         5462       142.22
     163.967     0.993750         5466       160.00
     166.271     0.994531         5470       182.86
     168.319     0.995313         5475       213.33
     169.599     0.996094         5480       256.00
     170.239     0.996484         5481       284.44
     170.623     0.996875         5483       320.00
     171.263     0.997266         5486       365.71
     171.519     0.997656         5489       426.67
     171.647     0.998047         5490       512.00
     173.567     0.998242         5491       568.89
     173.823     0.998437         5492       640.00
     174.207     0.998633         5493       731.43
     174.335     0.998828         5494       853.33
     176.639     0.999023         5495      1024.00
     177.151     0.999121         5496      1137.78
     177.151     0.999219         5496      1280.00
     177.535     0.999316         5497      1462.86
     177.535     0.999414         5497      1706.67
     177.919     0.999512         5498      2048.00
     177.919     0.999561         5498      2275.56
     177.919     0.999609         5498      2560.00
     179.071     0.999658         5499      2925.71
     179.071     0.999707         5499      3413.33
     179.071     0.999756         5499      4096.00
     179.071     0.999780         5499      4551.11
     179.071     0.999805         5499      5120.00
     185.727     0.999829         5500      5851.43
     185.727     1.000000         5500          inf
#[Mean    =       48.020, StdDeviation   =       28.343]
#[Max     =      185.600, Total count    =         5500]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  6002 requests in 2.00m, 87.77MB read
Requests/sec:     50.00
Transfer/sec:    748.77KB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 10)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 17)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 63)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 16)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 11)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 17)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 63)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 17)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 9)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 17)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 63)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 15)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 9)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 18)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 62)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 16)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 63)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 15)
filtered_path (['productpage-1', 'details-3'], 18)
filtered_path (['productpage-1', 'details-1'], 18)
filtered_path (['productpage-1', 'details-4'], 20)
filtered_path (['productpage-1', 'details-2'], 18)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 28)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 104)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 33)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 11)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 28)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 104)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 34)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 12)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 28)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 104)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 32)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 10)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 29)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 103)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 33)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 10)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 28)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 104)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 32)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 10)
filtered_path (['productpage-4', 'details-3'], 14)
filtered_path (['productpage-4', 'details-1'], 15)
filtered_path (['productpage-4', 'details-4'], 15)
filtered_path (['productpage-4', 'details-2'], 15)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 24)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 103)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 20)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 24)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 103)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 21)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 8)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 24)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 103)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 19)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 6)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 25)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 102)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 20)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 24)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 103)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 19)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 6)
filtered_path (['productpage-2', 'details-3'], 9)
filtered_path (['productpage-2', 'details-1'], 6)
filtered_path (['productpage-2', 'details-4'], 6)
filtered_path (['productpage-2', 'details-2'], 3)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 6)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 11)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 38)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 13)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 7)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 12)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 38)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 13)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 5)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 38)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 13)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 5)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 11)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 37)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 14)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 5)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 38)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 13)
filtered_path (['productpage-5', 'details-3'], 8)
filtered_path (['productpage-5', 'details-1'], 6)
filtered_path (['productpage-5', 'details-4'], 7)
filtered_path (['productpage-5', 'details-2'], 7)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 16)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 23)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 109)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 20)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 17)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 24)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 109)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 20)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 15)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 22)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 109)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 20)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 15)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 23)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 108)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 21)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 15)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 22)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 109)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 20)
filtered_path (['productpage-3', 'details-3'], 17)
filtered_path (['productpage-3', 'details-1'], 13)
filtered_path (['productpage-3', 'details-4'], 9)
filtered_path (['productpage-3', 'details-2'], 12)
original graph map
Node: ratings-2
  Upstream: ['reviews-3', 'reviews-1', 'reviews-2', 'reviews-4']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-1', 'productpage-3', 'productpage-4', 'productpage-2', 'productpage-5']
  Downstream: ['ratings-4', 'ratings-2', 'ratings-1', 'ratings-3', 'ratings-5']
Node: ratings-1
  Upstream: ['reviews-3', 'reviews-1', 'reviews-2', 'reviews-4']
  Downstream: []
Node: ratings-3
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: productpage-1
  Upstream: []
  Downstream: ['details-2', 'details-3', 'reviews-4', 'reviews-3', 'details-1', 'details-4', 'reviews-1', 'reviews-2']
Node: ratings-4
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
Node: reviews-2
  Upstream: ['productpage-4', 'productpage-2', 'productpage-1', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-4', 'ratings-2', 'ratings-1', 'ratings-3', 'ratings-5']
Node: ratings-5
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: productpage-4
  Upstream: []
  Downstream: ['details-1', 'details-2', 'details-3', 'reviews-3', 'details-4', 'reviews-1', 'reviews-2', 'reviews-4']
Node: details-3
  Upstream: ['productpage-4', 'productpage-1', 'productpage-2', 'productpage-3', 'productpage-5']
  Downstream: []
Node: productpage-2
  Upstream: []
  Downstream: ['details-4', 'details-3', 'reviews-3', 'details-1', 'details-2', 'reviews-1', 'reviews-2', 'reviews-4']
Node: productpage-5
  Upstream: []
  Downstream: ['details-2', 'details-4', 'reviews-4', 'reviews-2', 'reviews-1', 'details-1', 'details-3', 'reviews-3']
Node: details-1
  Upstream: ['productpage-4', 'productpage-3', 'productpage-1', 'productpage-2', 'productpage-5']
  Downstream: []
Node: reviews-3
  Upstream: ['productpage-1', 'productpage-2', 'productpage-4', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-4', 'ratings-1', 'ratings-2', 'ratings-3', 'ratings-5']
Node: details-4
  Upstream: ['productpage-2', 'productpage-4', 'productpage-1', 'productpage-3', 'productpage-5']
  Downstream: []
Node: details-2
  Upstream: ['productpage-4', 'productpage-1', 'productpage-2', 'productpage-3', 'productpage-5']
  Downstream: []
Node: reviews-1
  Upstream: ['productpage-4', 'productpage-2', 'productpage-1', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-3', 'ratings-5', 'ratings-4']
Node: productpage-3
  Upstream: []
  Downstream: ['reviews-4', 'details-1', 'details-2', 'details-4', 'reviews-2', 'reviews-1', 'details-3', 'reviews-3']
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-4', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-4', 50), ('productpage', 'productpage-3', 'details', 'details-3', 100), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 100), ('productpage', 'productpage-4', 'details', 'details-3', 25), ('productpage', 'productpage-4', 'details', 'details-4', 75), ('productpage', 'productpage-4', 'reviews', 'reviews-3', 25), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 75), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-4', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-4', 50)
('productpage', 'productpage-3', 'details', 'details-3', 100)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 100)
('productpage', 'productpage-4', 'details', 'details-3', 25)
('productpage', 'productpage-4', 'details', 'details-4', 75)
('productpage', 'productpage-4', 'reviews', 'reviews-3', 25)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 75)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=50...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 38.975ms, rate sampling interval: 164ms
  Thread calibration: mean lat.: 38.531ms, rate sampling interval: 175ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    38.11ms   23.56ms 127.17ms   69.24%
    Req/Sec    24.56      6.31    45.00     83.70%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   26.88ms
 75.000%   58.88ms
 90.000%   76.54ms
 99.000%   92.35ms
 99.900%  101.63ms
 99.990%  127.23ms
 99.999%  127.23ms
100.000%  127.23ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       9.607     0.000000            2         1.00
      14.839     0.100000          251         1.11
      17.663     0.200000          500         1.25
      20.079     0.300000          750         1.43
      22.415     0.400000          999         1.67
      26.879     0.500000         1249         2.00
      33.055     0.550000         1375         2.22
      39.743     0.600000         1500         2.50
      43.903     0.650000         1624         2.86
      48.639     0.700000         1748         3.33
      58.879     0.750000         1874         4.00
      61.247     0.775000         1936         4.44
      62.815     0.800000         1998         5.00
      64.319     0.825000         2062         5.71
      66.367     0.850000         2123         6.67
      70.143     0.875000         2185         8.00
      73.919     0.887500         2217         8.89
      76.671     0.900000         2248        10.00
      78.911     0.912500         2279        11.43
      80.703     0.925000         2310        13.33
      82.175     0.937500         2341        16.00
      82.687     0.943750         2359        17.78
      83.583     0.950000         2373        20.00
      84.415     0.956250         2390        22.86
      85.567     0.962500         2404        26.67
      86.015     0.968750         2419        32.00
      86.399     0.971875         2427        35.56
      87.167     0.975000         2435        40.00
      87.679     0.978125         2443        45.71
      88.703     0.981250         2453        53.33
      89.663     0.984375         2458        64.00
      89.919     0.985938         2462        71.11
      90.559     0.987500         2467        80.00
      91.391     0.989062         2470        91.43
      93.503     0.990625         2474       106.67
      95.487     0.992188         2478       128.00
      95.807     0.992969         2481       142.22
      95.999     0.993750         2482       160.00
      96.447     0.994531         2484       182.86
      96.703     0.995313         2486       213.33
      96.895     0.996094         2489       256.00
      96.895     0.996484         2489       284.44
      96.959     0.996875         2490       320.00
      98.111     0.997266         2491       365.71
      98.879     0.997656         2492       426.67
      99.711     0.998047         2493       512.00
      99.711     0.998242         2493       568.89
     100.991     0.998437         2494       640.00
     100.991     0.998633         2494       731.43
     101.631     0.998828         2495       853.33
     101.631     0.999023         2495      1024.00
     101.631     0.999121         2495      1137.78
     108.799     0.999219         2496      1280.00
     108.799     0.999316         2496      1462.86
     108.799     0.999414         2496      1706.67
     108.799     0.999512         2496      2048.00
     108.799     0.999561         2496      2275.56
     127.231     0.999609         2497      2560.00
     127.231     1.000000         2497          inf
#[Mean    =       38.105, StdDeviation   =       23.563]
#[Max     =      127.168, Total count    =         2497]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3002 requests in 1.00m, 43.90MB read
Requests/sec:     50.02
Transfer/sec:    749.01KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 48.928ms, rate sampling interval: 163ms
  Thread calibration: mean lat.: 47.392ms, rate sampling interval: 153ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    43.75ms   23.28ms 174.08ms   56.32%
    Req/Sec    24.50      8.26    39.00     82.26%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   43.52ms
 75.000%   63.58ms
 90.000%   74.11ms
 99.000%   88.25ms
 99.900%  108.93ms
 99.990%  166.65ms
 99.999%  174.21ms
100.000%  174.21ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       9.471     0.000000            1         1.00
      16.815     0.100000          551         1.11
      19.423     0.200000         1101         1.25
      21.743     0.300000         1650         1.43
      31.599     0.400000         2199         1.67
      43.519     0.500000         2749         2.00
      47.327     0.550000         3024         2.22
      53.951     0.600000         3299         2.50
      58.911     0.650000         3574         2.86
      61.311     0.700000         3851         3.33
      63.583     0.750000         4124         4.00
      64.863     0.775000         4263         4.44
      66.111     0.800000         4400         5.00
      67.711     0.825000         4537         5.71
      69.823     0.850000         4674         6.67
      71.999     0.875000         4812         8.00
      73.087     0.887500         4883         8.89
      74.111     0.900000         4949        10.00
      75.967     0.912500         5019        11.43
      77.439     0.925000         5085        13.33
      79.167     0.937500         5154        16.00
      79.871     0.943750         5188        17.78
      80.831     0.950000         5225        20.00
      81.727     0.956250         5258        22.86
      82.559     0.962500         5295        26.67
      83.391     0.968750         5327        32.00
      83.839     0.971875         5346        35.56
      84.415     0.975000         5360        40.00
      85.119     0.978125         5379        45.71
      85.631     0.981250         5394        53.33
      86.271     0.984375         5414        64.00
      86.719     0.985938         5420        71.11
      87.167     0.987500         5429        80.00
      87.743     0.989062         5437        91.43
      88.639     0.990625         5446       106.67
      89.471     0.992188         5456       128.00
      89.663     0.992969         5459       142.22
      90.495     0.993750         5463       160.00
      91.455     0.994531         5467       182.86
      93.119     0.995313         5472       213.33
      94.271     0.996094         5476       256.00
      95.231     0.996484         5478       284.44
      95.615     0.996875         5480       320.00
      97.407     0.997266         5482       365.71
      98.879     0.997656         5485       426.67
      99.391     0.998047         5487       512.00
     100.607     0.998242         5489       568.89
     100.607     0.998437         5489       640.00
     107.583     0.998633         5490       731.43
     108.159     0.998828         5491       853.33
     108.927     0.999023         5492      1024.00
     120.255     0.999121         5493      1137.78
     120.255     0.999219         5493      1280.00
     154.239     0.999316         5494      1462.86
     154.239     0.999414         5494      1706.67
     156.287     0.999512         5495      2048.00
     156.287     0.999561         5495      2275.56
     156.287     0.999609         5495      2560.00
     166.655     0.999658         5496      2925.71
     166.655     0.999707         5496      3413.33
     166.655     0.999756         5496      4096.00
     166.655     0.999780         5496      4551.11
     166.655     0.999805         5496      5120.00
     174.207     0.999829         5497      5851.43
     174.207     1.000000         5497          inf
#[Mean    =       43.748, StdDeviation   =       23.278]
#[Max     =      174.080, Total count    =         5497]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  6002 requests in 2.00m, 87.77MB read
Requests/sec:     50.01
Transfer/sec:    748.81KB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=80...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 3967.779ms, rate sampling interval: 10436ms
  Thread calibration: mean lat.: 4416.629ms, rate sampling interval: 13123ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.46s     2.29s    8.83s    81.60%
    Req/Sec    44.43      5.31    55.00     85.71%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   83.97ms
 75.000%    2.52s 
 90.000%    5.60s 
 99.000%    7.86s 
 99.900%    8.65s 
 99.990%    8.84s 
 99.999%    8.84s 
100.000%    8.84s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      10.999     0.000000            1         1.00
      22.111     0.100000          440         1.11
      27.743     0.200000          877         1.25
      48.447     0.300000         1316         1.43
      65.791     0.400000         1754         1.67
      83.967     0.500000         2193         2.00
     105.983     0.550000         2412         2.22
     144.255     0.600000         2631         2.50
     339.199     0.650000         2851         2.86
    1409.023     0.700000         3071         3.33
    2516.991     0.750000         3289         4.00
    3004.415     0.775000         3399         4.44
    3510.271     0.800000         3508         5.00
    3930.111     0.825000         3618         5.71
    4399.103     0.850000         3728         6.67
    5079.039     0.875000         3838         8.00
    5328.895     0.887500         3892         8.89
    5599.231     0.900000         3947        10.00
    5877.759     0.912500         4002        11.43
    6115.327     0.925000         4057        13.33
    6328.319     0.937500         4112        16.00
    6483.967     0.943750         4139        17.78
    6660.095     0.950000         4166        20.00
    6811.647     0.956250         4195        22.86
    6955.007     0.962500         4222        26.67
    7114.751     0.968750         4248        32.00
    7192.575     0.971875         4263        35.56
    7278.591     0.975000         4276        40.00
    7364.607     0.978125         4291        45.71
    7430.143     0.981250         4303        53.33
    7643.135     0.984375         4317        64.00
    7737.343     0.985938         4324        71.11
    7815.167     0.987500         4332        80.00
    7843.839     0.989062         4338        91.43
    7888.895     0.990625         4345       106.67
    7983.103     0.992188         4352       128.00
    8019.967     0.992969         4355       142.22
    8060.927     0.993750         4358       160.00
    8105.983     0.994531         4362       182.86
    8204.287     0.995313         4365       213.33
    8343.551     0.996094         4368       256.00
    8396.799     0.996484         4370       284.44
    8413.183     0.996875         4372       320.00
    8462.335     0.997266         4374       365.71
    8470.527     0.997656         4375       426.67
    8544.255     0.998047         4377       512.00
    8552.447     0.998242         4378       568.89
    8560.639     0.998437         4379       640.00
    8634.367     0.998633         4380       731.43
    8634.367     0.998828         4380       853.33
    8650.751     0.999023         4381      1024.00
    8691.711     0.999121         4382      1137.78
    8691.711     0.999219         4382      1280.00
    8699.903     0.999316         4383      1462.86
    8699.903     0.999414         4383      1706.67
    8699.903     0.999512         4383      2048.00
    8790.015     0.999561         4384      2275.56
    8790.015     0.999609         4384      2560.00
    8790.015     0.999658         4384      2925.71
    8790.015     0.999707         4384      3413.33
    8790.015     0.999756         4384      4096.00
    8839.167     0.999780         4385      4551.11
    8839.167     1.000000         4385          inf
#[Mean    =     1458.327, StdDeviation   =     2291.927]
#[Max     =     8830.976, Total count    =         4385]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  4800 requests in 1.00m, 70.19MB read
  Socket errors: connect 0, read 0, write 0, timeout 14
Requests/sec:     79.96
Transfer/sec:      1.17MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 57.129ms, rate sampling interval: 229ms
  Thread calibration: mean lat.: 57.939ms, rate sampling interval: 248ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    46.65ms   30.36ms 232.70ms   75.68%
    Req/Sec    39.63      4.92    56.00     82.56%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   38.46ms
 75.000%   64.83ms
 90.000%   85.57ms
 99.000%  137.98ms
 99.900%  174.59ms
 99.990%  196.22ms
 99.999%  232.83ms
100.000%  232.83ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       9.111     0.000000            1         1.00
      16.207     0.100000          882         1.11
      18.927     0.200000         1763         1.25
      21.711     0.300000         2643         1.43
      27.935     0.400000         3521         1.67
      38.463     0.500000         4401         2.00
      45.599     0.550000         4842         2.22
      55.103     0.600000         5280         2.50
      58.975     0.650000         5724         2.86
      61.855     0.700000         6165         3.33
      64.831     0.750000         6601         4.00
      67.071     0.775000         6826         4.44
      69.503     0.800000         7040         5.00
      72.447     0.825000         7262         5.71
      75.967     0.850000         7480         6.67
      79.935     0.875000         7700         8.00
      82.111     0.887500         7811         8.89
      85.567     0.900000         7921        10.00
      89.279     0.912500         8030        11.43
      93.823     0.925000         8142        13.33
      99.967     0.937500         8251        16.00
     103.039     0.943750         8305        17.78
     105.791     0.950000         8360        20.00
     108.863     0.956250         8416        22.86
     112.191     0.962500         8470        26.67
     116.671     0.968750         8525        32.00
     118.463     0.971875         8553        35.56
     120.575     0.975000         8580        40.00
     123.455     0.978125         8608        45.71
     125.311     0.981250         8636        53.33
     128.319     0.984375         8663        64.00
     131.583     0.985938         8677        71.11
     132.991     0.987500         8690        80.00
     136.319     0.989062         8704        91.43
     139.391     0.990625         8718       106.67
     143.359     0.992188         8732       128.00
     146.559     0.992969         8739       142.22
     148.991     0.993750         8745       160.00
     150.527     0.994531         8752       182.86
     158.207     0.995313         8759       213.33
     159.999     0.996094         8767       256.00
     161.407     0.996484         8770       284.44
     163.327     0.996875         8774       320.00
     164.607     0.997266         8776       365.71
     165.759     0.997656         8780       426.67
     167.551     0.998047         8783       512.00
     168.319     0.998242         8785       568.89
     169.087     0.998437         8787       640.00
     170.879     0.998633         8788       731.43
     173.567     0.998828         8790       853.33
     175.487     0.999023         8792      1024.00
     181.759     0.999121         8793      1137.78
     184.959     0.999219         8794      1280.00
     184.959     0.999316         8794      1462.86
     185.471     0.999414         8795      1706.67
     187.519     0.999512         8796      2048.00
     194.175     0.999561         8797      2275.56
     194.175     0.999609         8797      2560.00
     194.175     0.999658         8797      2925.71
     194.303     0.999707         8798      3413.33
     194.303     0.999756         8798      4096.00
     196.223     0.999780         8799      4551.11
     196.223     0.999805         8799      5120.00
     196.223     0.999829         8799      5851.43
     196.223     0.999854         8799      6826.67
     196.223     0.999878         8799      8192.00
     232.831     0.999890         8800      9102.22
     232.831     1.000000         8800          inf
#[Mean    =       46.647, StdDeviation   =       30.358]
#[Max     =      232.704, Total count    =         8800]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  9602 requests in 2.00m, 140.42MB read
Requests/sec:     80.00
Transfer/sec:      1.17MB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-1', 'details-3'], 12)
filtered_path (['productpage-1', 'details-2'], 17)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 8)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 58)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 18)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 18)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 7)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 58)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 20)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 17)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 58)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 20)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 19)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 58)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 19)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 17)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 7)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 57)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 19)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 17)
filtered_path (['productpage-1', 'details-4'], 14)
filtered_path (['productpage-1', 'details-1'], 14)
filtered_path (['productpage-4', 'details-3'], 15)
filtered_path (['productpage-4', 'details-2'], 18)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 18)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 54)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 20)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 15)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 54)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 20)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 54)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 6)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 19)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 15)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 54)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 6)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 19)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 15)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 53)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-4', 'details-4'], 18)
filtered_path (['productpage-4', 'details-1'], 19)
filtered_path (['productpage-2', 'details-3'], 13)
filtered_path (['productpage-2', 'details-2'], 13)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 19)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 26)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 10)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 79)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 18)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 28)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 79)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 20)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 28)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 79)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 18)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 27)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 79)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 18)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 27)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 78)
filtered_path (['productpage-2', 'details-4'], 18)
filtered_path (['productpage-2', 'details-1'], 15)
filtered_path (['productpage-5', 'details-3'], 18)
filtered_path (['productpage-5', 'details-2'], 17)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 86)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 28)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 13)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 9)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 86)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 30)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 12)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 8)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 86)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 30)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 14)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 8)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 86)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 29)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 12)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 8)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 85)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 29)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 12)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 8)
filtered_path (['productpage-5', 'details-4'], 12)
filtered_path (['productpage-5', 'details-1'], 13)
filtered_path (['productpage-3', 'details-3'], 13)
filtered_path (['productpage-3', 'details-2'], 12)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 20)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 12)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 28)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 3052)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 19)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 11)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 30)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 3052)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 21)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 11)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 30)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 3052)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 19)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 11)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 29)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 3052)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 19)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 11)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 29)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 3051)
filtered_path (['productpage-3', 'details-4'], 10)
filtered_path (['productpage-3', 'details-1'], 13)
original graph map
Node: details-3
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: []
Node: details-2
  Upstream: ['productpage-5', 'productpage-2', 'productpage-4', 'productpage-3', 'productpage-1']
  Downstream: []
Node: productpage-1
  Upstream: []
  Downstream: ['details-3', 'reviews-4', 'details-4', 'details-1', 'reviews-1', 'reviews-2', 'reviews-3', 'details-2']
Node: reviews-1
  Upstream: ['productpage-2', 'productpage-5', 'productpage-1', 'productpage-3', 'productpage-4']
  Downstream: ['ratings-2', 'ratings-4', 'ratings-1', 'ratings-5', 'ratings-3']
Node: reviews-2
  Upstream: ['productpage-2', 'productpage-4', 'productpage-3', 'productpage-1', 'productpage-5']
  Downstream: ['ratings-2', 'ratings-4', 'ratings-1', 'ratings-5', 'ratings-3']
Node: productpage-4
  Upstream: []
  Downstream: ['details-2', 'reviews-2', 'details-4', 'reviews-3', 'details-1', 'reviews-1', 'details-3', 'reviews-4']
Node: productpage-2
  Upstream: []
  Downstream: ['details-4', 'reviews-3', 'details-1', 'details-2', 'details-3', 'reviews-2', 'reviews-4', 'reviews-1']
Node: ratings-3
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: reviews-3
  Upstream: ['productpage-2', 'productpage-3', 'productpage-1', 'productpage-5', 'productpage-4']
  Downstream: ['ratings-5', 'ratings-3', 'ratings-1', 'ratings-2', 'ratings-4']
Node: productpage-5
  Upstream: []
  Downstream: ['details-4', 'details-2', 'reviews-1', 'details-1', 'details-3', 'reviews-2', 'reviews-3', 'reviews-4']
Node: productpage-3
  Upstream: []
  Downstream: ['details-4', 'reviews-3', 'details-1', 'reviews-4', 'details-2', 'details-3', 'reviews-2', 'reviews-1']
Node: ratings-1
  Upstream: ['reviews-3', 'reviews-4', 'reviews-1', 'reviews-2']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-3', 'reviews-4', 'reviews-1', 'reviews-2']
  Downstream: []
Node: ratings-2
  Upstream: ['reviews-3', 'reviews-4', 'reviews-1', 'reviews-2']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-2', 'productpage-1', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: ['ratings-3', 'ratings-1', 'ratings-2', 'ratings-4', 'ratings-5']
Node: ratings-4
  Upstream: ['reviews-3', 'reviews-4', 'reviews-1', 'reviews-2']
  Downstream: []
Node: details-4
  Upstream: ['productpage-2', 'productpage-3', 'productpage-5', 'productpage-1', 'productpage-4']
  Downstream: []
Node: details-1
  Upstream: ['productpage-2', 'productpage-3', 'productpage-1', 'productpage-5', 'productpage-4']
  Downstream: []
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=80...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 37.699ms, rate sampling interval: 149ms
  Thread calibration: mean lat.: 47.648ms, rate sampling interval: 181ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    73.54ms  146.60ms   1.40s    94.91%
    Req/Sec    39.53      8.81    87.00     76.56%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   39.29ms
 75.000%   64.77ms
 90.000%  102.72ms
 99.000%  897.02ms
 99.900%    1.27s 
 99.990%    1.40s 
 99.999%    1.40s 
100.000%    1.40s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.591     0.000000            1         1.00
      12.959     0.100000          400         1.11
      17.679     0.200000          798         1.25
      21.599     0.300000         1197         1.43
      25.583     0.400000         1595         1.67
      39.295     0.500000         1993         2.00
      50.687     0.550000         2193         2.22
      54.527     0.600000         2393         2.50
      58.879     0.650000         2591         2.86
      62.111     0.700000         2791         3.33
      64.767     0.750000         2990         4.00
      66.687     0.775000         3091         4.44
      70.143     0.800000         3193         5.00
      74.943     0.825000         3289         5.71
      82.239     0.850000         3389         6.67
      91.839     0.875000         3488         8.00
      97.023     0.887500         3538         8.89
     102.783     0.900000         3589        10.00
     108.223     0.912500         3638        11.43
     120.639     0.925000         3688        13.33
     135.679     0.937500         3737        16.00
     165.375     0.943750         3762        17.78
     231.551     0.950000         3787        20.00
     295.935     0.956250         3812        22.86
     356.863     0.962500         3837        26.67
     464.383     0.968750         3862        32.00
     524.799     0.971875         3875        35.56
     564.735     0.975000         3887        40.00
     617.983     0.978125         3899        45.71
     702.463     0.981250         3912        53.33
     775.167     0.984375         3924        64.00
     811.519     0.985938         3930        71.11
     866.815     0.987500         3937        80.00
     885.247     0.989062         3943        91.43
     912.383     0.990625         3949       106.67
     957.439     0.992188         3955       128.00
     962.047     0.992969         3958       142.22
    1005.567     0.993750         3962       160.00
    1063.935     0.994531         3965       182.86
    1078.271     0.995313         3968       213.33
    1125.375     0.996094         3971       256.00
    1128.447     0.996484         3972       284.44
    1139.711     0.996875         3974       320.00
    1184.767     0.997266         3976       365.71
    1198.079     0.997656         3977       426.67
    1248.255     0.998047         3979       512.00
    1248.255     0.998242         3979       568.89
    1256.447     0.998437         3980       640.00
    1259.519     0.998633         3981       731.43
    1265.663     0.998828         3982       853.33
    1323.007     0.999023         3983      1024.00
    1323.007     0.999121         3983      1137.78
    1323.007     0.999219         3983      1280.00
    1338.367     0.999316         3984      1462.86
    1338.367     0.999414         3984      1706.67
    1387.519     0.999512         3985      2048.00
    1387.519     0.999561         3985      2275.56
    1387.519     0.999609         3985      2560.00
    1387.519     0.999658         3985      2925.71
    1387.519     0.999707         3985      3413.33
    1400.831     0.999756         3986      4096.00
    1400.831     1.000000         3986          inf
#[Mean    =       73.536, StdDeviation   =      146.597]
#[Max     =     1399.808, Total count    =         3986]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  4792 requests in 1.00m, 70.08MB read
Requests/sec:     79.84
Transfer/sec:      1.17MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 38.349ms, rate sampling interval: 157ms
  Thread calibration: mean lat.: 47.256ms, rate sampling interval: 167ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    40.41ms   25.04ms 358.40ms   64.08%
    Req/Sec    39.58      7.43    60.00     70.47%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   39.26ms
 75.000%   59.87ms
 90.000%   78.72ms
 99.000%   94.85ms
 99.900%  131.84ms
 99.990%  251.01ms
 99.999%  358.65ms
100.000%  358.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.399     0.000000            1         1.00
      12.999     0.100000          881         1.11
      15.783     0.200000         1760         1.25
      18.847     0.300000         2641         1.43
      23.871     0.400000         3521         1.67
      39.263     0.500000         4405         2.00
      41.343     0.550000         4843         2.22
      43.775     0.600000         5282         2.50
      47.647     0.650000         5725         2.86
      54.815     0.700000         6160         3.33
      59.871     0.750000         6600         4.00
      61.247     0.775000         6824         4.44
      62.751     0.800000         7041         5.00
      64.671     0.825000         7263         5.71
      68.159     0.850000         7482         6.67
      74.367     0.875000         7701         8.00
      76.607     0.887500         7812         8.89
      78.719     0.900000         7921        10.00
      80.511     0.912500         8036        11.43
      82.047     0.925000         8141        13.33
      83.583     0.937500         8250        16.00
      84.415     0.943750         8308        17.78
      85.183     0.950000         8361        20.00
      86.079     0.956250         8417        22.86
      87.167     0.962500         8471        26.67
      88.191     0.968750         8527        32.00
      88.895     0.971875         8556        35.56
      89.599     0.975000         8583        40.00
      90.239     0.978125         8609        45.71
      91.263     0.981250         8636        53.33
      92.543     0.984375         8664        64.00
      93.119     0.985938         8678        71.11
      93.567     0.987500         8691        80.00
      94.527     0.989062         8706        91.43
      95.359     0.990625         8718       106.67
      95.935     0.992188         8733       128.00
      96.767     0.992969         8739       142.22
      97.215     0.993750         8745       160.00
      98.239     0.994531         8752       182.86
      98.751     0.995313         8759       213.33
     100.927     0.996094         8766       256.00
     101.951     0.996484         8771       284.44
     102.463     0.996875         8773       320.00
     102.719     0.997266         8776       365.71
     104.319     0.997656         8780       426.67
     106.047     0.998047         8783       512.00
     107.007     0.998242         8785       568.89
     109.311     0.998437         8787       640.00
     109.567     0.998633         8788       731.43
     111.359     0.998828         8790       853.33
     135.423     0.999023         8792      1024.00
     137.087     0.999121         8793      1137.78
     141.567     0.999219         8794      1280.00
     141.567     0.999316         8794      1462.86
     156.159     0.999414         8795      1706.67
     185.087     0.999512         8796      2048.00
     238.847     0.999561         8797      2275.56
     238.847     0.999609         8797      2560.00
     238.847     0.999658         8797      2925.71
     244.863     0.999707         8798      3413.33
     244.863     0.999756         8798      4096.00
     251.007     0.999780         8799      4551.11
     251.007     0.999805         8799      5120.00
     251.007     0.999829         8799      5851.43
     251.007     0.999854         8799      6826.67
     251.007     0.999878         8799      8192.00
     358.655     0.999890         8800      9102.22
     358.655     1.000000         8800          inf
#[Mean    =       40.413, StdDeviation   =       25.042]
#[Max     =      358.400, Total count    =         8800]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  9602 requests in 2.00m, 140.42MB read
Requests/sec:     80.00
Transfer/sec:      1.17MB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=100...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 4953.460ms, rate sampling interval: 12173ms
  Thread calibration: mean lat.: 4608.641ms, rate sampling interval: 11689ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     6.85s     2.88s   11.58s    64.22%
    Req/Sec    52.25      9.19    65.00     62.50%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    7.14s 
 75.000%    9.36s 
 90.000%   10.23s 
 99.000%   11.17s 
 99.900%   11.49s 
 99.990%   11.58s 
 99.999%   11.58s 
100.000%   11.58s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      17.471     0.000000            1         1.00
    2322.431     0.100000          532         1.11
    4767.743     0.200000         1065         1.25
    5795.839     0.300000         1596         1.43
    6426.623     0.400000         2129         1.67
    7135.231     0.500000         2660         2.00
    7528.447     0.550000         2935         2.22
    7786.495     0.600000         3193         2.50
    8237.055     0.650000         3459         2.86
    8945.663     0.700000         3724         3.33
    9363.455     0.750000         3990         4.00
    9560.063     0.775000         4125         4.44
    9715.711     0.800000         4257         5.00
    9863.167     0.825000         4393         5.71
   10018.815     0.850000         4527         6.67
   10141.695     0.875000         4677         8.00
   10174.463     0.887500         4722         8.89
   10231.807     0.900000         4788        10.00
   10248.191     0.912500         4855        11.43
   10289.151     0.925000         4927        13.33
   10346.495     0.937500         4988        16.00
   10379.263     0.943750         5030        17.78
   10428.415     0.950000         5054        20.00
   10461.183     0.956250         5090        22.86
   10543.103     0.962500         5127        26.67
   10600.447     0.968750         5153        32.00
   10657.791     0.971875         5172        35.56
   10690.559     0.975000         5188        40.00
   10788.863     0.978125         5203        45.71
   10960.895     0.981250         5220        53.33
   11067.391     0.984375         5239        64.00
   11132.927     0.985938         5250        71.11
   11141.119     0.987500         5258        80.00
   11149.311     0.989062         5261        91.43
   11231.231     0.990625         5271       106.67
   11255.807     0.992188         5278       128.00
   11280.383     0.992969         5283       142.22
   11329.535     0.993750         5287       160.00
   11337.727     0.994531         5292       182.86
   11354.111     0.995313         5296       213.33
   11378.687     0.996094         5301       256.00
   11378.687     0.996484         5301       284.44
   11386.879     0.996875         5304       320.00
   11427.839     0.997266         5305       365.71
   11436.031     0.997656         5307       426.67
   11444.223     0.998047         5309       512.00
   11452.415     0.998242         5311       568.89
   11452.415     0.998437         5311       640.00
   11468.799     0.998633         5312       731.43
   11476.991     0.998828         5313       853.33
   11485.183     0.999023         5314      1024.00
   11493.375     0.999121         5315      1137.78
   11493.375     0.999219         5315      1280.00
   11542.527     0.999316         5316      1462.86
   11542.527     0.999414         5316      1706.67
   11550.719     0.999512         5317      2048.00
   11550.719     0.999561         5317      2275.56
   11550.719     0.999609         5317      2560.00
   11575.295     0.999658         5318      2925.71
   11575.295     0.999707         5318      3413.33
   11575.295     0.999756         5318      4096.00
   11575.295     0.999780         5318      4551.11
   11575.295     0.999805         5318      5120.00
   11583.487     0.999829         5319      5851.43
   11583.487     1.000000         5319          inf
#[Mean    =     6848.834, StdDeviation   =     2878.984]
#[Max     =    11575.296, Total count    =         5319]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  5717 requests in 1.00m, 83.60MB read
  Socket errors: connect 0, read 0, write 0, timeout 9
Requests/sec:     95.26
Transfer/sec:      1.39MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 76.153ms, rate sampling interval: 341ms
  Thread calibration: mean lat.: 58.869ms, rate sampling interval: 273ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    48.02ms   35.58ms 325.63ms   84.30%
    Req/Sec    49.50      4.76    67.00     81.08%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   39.65ms
 75.000%   65.34ms
 90.000%   95.04ms
 99.000%  161.92ms
 99.900%  259.45ms
 99.990%  324.10ms
 99.999%  325.89ms
100.000%  325.89ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       9.367     0.000000            1         1.00
      14.767     0.100000         1100         1.11
      17.711     0.200000         2207         1.25
      20.927     0.300000         3309         1.43
      24.767     0.400000         4400         1.67
      39.647     0.500000         5500         2.00
      49.535     0.550000         6050         2.22
      56.639     0.600000         6604         2.50
      60.191     0.650000         7155         2.86
      62.751     0.700000         7705         3.33
      65.343     0.750000         8254         4.00
      66.879     0.775000         8528         4.44
      68.543     0.800000         8804         5.00
      70.719     0.825000         9080         5.71
      74.751     0.850000         9350         6.67
      85.439     0.875000         9625         8.00
      90.943     0.887500         9763         8.89
      95.039     0.900000         9901        10.00
      98.943     0.912500        10037        11.43
     102.975     0.925000        10175        13.33
     106.495     0.937500        10312        16.00
     108.671     0.943750        10381        17.78
     110.207     0.950000        10450        20.00
     112.511     0.956250        10518        22.86
     118.591     0.962500        10587        26.67
     137.983     0.968750        10656        32.00
     141.183     0.971875        10690        35.56
     144.255     0.975000        10725        40.00
     147.199     0.978125        10760        45.71
     150.655     0.981250        10793        53.33
     153.855     0.984375        10829        64.00
     155.647     0.985938        10846        71.11
     157.311     0.987500        10864        80.00
     159.999     0.989062        10880        91.43
     163.327     0.990625        10896       106.67
     167.935     0.992188        10914       128.00
     170.239     0.992969        10922       142.22
     175.359     0.993750        10931       160.00
     187.903     0.994531        10939       182.86
     193.791     0.995313        10948       213.33
     205.439     0.996094        10957       256.00
     207.871     0.996484        10961       284.44
     216.063     0.996875        10966       320.00
     227.199     0.997266        10969       365.71
     236.927     0.997656        10974       426.67
     246.783     0.998047        10978       512.00
     248.575     0.998242        10980       568.89
     249.983     0.998437        10982       640.00
     250.367     0.998633        10985       731.43
     257.535     0.998828        10987       853.33
     269.567     0.999023        10989      1024.00
     269.823     0.999121        10990      1137.78
     271.615     0.999219        10991      1280.00
     273.663     0.999316        10992      1462.86
     274.175     0.999414        10993      1706.67
     277.247     0.999512        10994      2048.00
     282.111     0.999561        10995      2275.56
     282.111     0.999609        10995      2560.00
     308.223     0.999658        10996      2925.71
     308.223     0.999707        10996      3413.33
     310.783     0.999756        10997      4096.00
     310.783     0.999780        10997      4551.11
     310.783     0.999805        10997      5120.00
     324.095     0.999829        10998      5851.43
     324.095     0.999854        10998      6826.67
     324.095     0.999878        10998      8192.00
     324.095     0.999890        10998      9102.22
     324.095     0.999902        10998     10240.00
     325.887     0.999915        10999     11702.86
     325.887     1.000000        10999          inf
#[Mean    =       48.016, StdDeviation   =       35.580]
#[Max     =      325.632, Total count    =        10999]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  12002 requests in 2.00m, 175.51MB read
Requests/sec:    100.00
Transfer/sec:      1.46MB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 23)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 23)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 62)
filtered_path (['productpage-1', 'details-2'], 17)
filtered_path (['productpage-1', 'details-1'], 16)
filtered_path (['productpage-1', 'details-4'], 14)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 24)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 61)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 8)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 24)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 61)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 8)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 25)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 23)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 62)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 8)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 24)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 61)
filtered_path (['productpage-1', 'details-3'], 17)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 15)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 19)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 52)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-2', 'details-2'], 13)
filtered_path (['productpage-2', 'details-1'], 16)
filtered_path (['productpage-2', 'details-4'], 17)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 16)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 17)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 51)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 6)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 16)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 17)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 51)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 5)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 17)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 19)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 52)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 5)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 16)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 17)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 51)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 5)
filtered_path (['productpage-2', 'details-3'], 17)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 13)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 92)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 40)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 36)
filtered_path (['productpage-5', 'details-2'], 17)
filtered_path (['productpage-5', 'details-1'], 16)
filtered_path (['productpage-5', 'details-4'], 16)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 13)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 91)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 38)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 37)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 12)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 91)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 38)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 37)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 12)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 92)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 40)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 38)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 12)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 91)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 38)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 37)
filtered_path (['productpage-5', 'details-3'], 16)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 65)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 7)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 21)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 18)
filtered_path (['productpage-4', 'details-2'], 14)
filtered_path (['productpage-4', 'details-1'], 16)
filtered_path (['productpage-4', 'details-4'], 11)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 64)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 19)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 19)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 64)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 19)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 19)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 65)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 21)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 20)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 64)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 19)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 19)
filtered_path (['productpage-4', 'details-3'], 18)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 109)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 12)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 36)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 39)
filtered_path (['productpage-3', 'details-2'], 16)
filtered_path (['productpage-3', 'details-1'], 16)
filtered_path (['productpage-3', 'details-4'], 18)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 108)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 12)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 37)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 37)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 108)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 11)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 37)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 37)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 109)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 11)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 38)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 39)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 108)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 11)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 37)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 37)
filtered_path (['productpage-3', 'details-3'], 12)
original graph map
Node: productpage-1
  Upstream: []
  Downstream: ['details-1', 'details-3', 'reviews-4', 'details-2', 'details-4', 'reviews-2', 'reviews-3', 'reviews-1']
Node: productpage-2
  Upstream: []
  Downstream: ['details-4', 'details-2', 'details-1', 'details-3', 'reviews-2', 'reviews-3', 'reviews-1', 'reviews-4']
Node: reviews-1
  Upstream: ['productpage-3', 'productpage-4', 'productpage-5', 'productpage-1', 'productpage-2']
  Downstream: ['ratings-5', 'ratings-4', 'ratings-2', 'ratings-3', 'ratings-1']
Node: ratings-1
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: productpage-5
  Upstream: []
  Downstream: ['details-1', 'details-3', 'reviews-4', 'reviews-1', 'details-2', 'reviews-3', 'reviews-2', 'details-4']
Node: details-2
  Upstream: ['productpage-3', 'productpage-1', 'productpage-2', 'productpage-5', 'productpage-4']
  Downstream: []
Node: details-1
  Upstream: ['productpage-3', 'productpage-1', 'productpage-5', 'productpage-4', 'productpage-2']
  Downstream: []
Node: productpage-4
  Upstream: []
  Downstream: ['details-4', 'reviews-1', 'reviews-4', 'details-1', 'reviews-3', 'reviews-2', 'details-3', 'details-2']
Node: details-4
  Upstream: ['productpage-2', 'productpage-3', 'productpage-4', 'productpage-1', 'productpage-5']
  Downstream: []
Node: ratings-2
  Upstream: ['reviews-4', 'reviews-3', 'reviews-1', 'reviews-2']
  Downstream: []
Node: reviews-3
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-4', 'productpage-5']
  Downstream: ['ratings-1', 'ratings-5', 'ratings-2', 'ratings-3', 'ratings-4']
Node: ratings-3
  Upstream: ['reviews-2', 'reviews-4', 'reviews-3', 'reviews-1']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-4', 'reviews-1', 'reviews-2', 'reviews-3']
  Downstream: []
Node: ratings-4
  Upstream: ['reviews-4', 'reviews-3', 'reviews-1', 'reviews-2']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-5', 'productpage-1', 'productpage-3', 'productpage-4', 'productpage-2']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-3', 'ratings-4', 'ratings-5']
Node: productpage-3
  Upstream: []
  Downstream: ['details-1', 'details-2', 'details-3', 'details-4', 'reviews-1', 'reviews-4', 'reviews-2', 'reviews-3']
Node: reviews-2
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-4', 'productpage-5']
  Downstream: ['ratings-3', 'ratings-5', 'ratings-4', 'ratings-2', 'ratings-1']
Node: details-3
  Upstream: ['productpage-3', 'productpage-5', 'productpage-1', 'productpage-2', 'productpage-4']
  Downstream: []
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 40), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 60), ('reviews', 'reviews-3', 'ratings', 'ratings-2', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 40)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 60)
('reviews', 'reviews-3', 'ratings', 'ratings-2', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=100...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 49.329ms, rate sampling interval: 175ms
  Thread calibration: mean lat.: 46.426ms, rate sampling interval: 171ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   126.80ms  260.80ms   1.74s    91.32%
    Req/Sec    49.66     12.08   114.00     80.24%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   49.09ms
 75.000%   77.69ms
 90.000%  312.83ms
 99.000%    1.33s 
 99.900%    1.64s 
 99.990%    1.74s 
 99.999%    1.74s 
100.000%    1.74s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       9.423     0.000000            1         1.00
      16.103     0.100000          500         1.11
      17.743     0.200000         1003         1.25
      19.391     0.300000         1506         1.43
      22.383     0.400000         2001         1.67
      49.087     0.500000         2500         2.00
      58.879     0.550000         2751         2.22
      61.439     0.600000         3000         2.50
      65.407     0.650000         3251         2.86
      70.847     0.700000         3501         3.33
      77.695     0.750000         3752         4.00
      81.023     0.775000         3876         4.44
      84.863     0.800000         4001         5.00
      92.415     0.825000         4125         5.71
     134.271     0.850000         4252         6.67
     183.807     0.875000         4375         8.00
     242.431     0.887500         4437         8.89
     313.087     0.900000         4500        10.00
     380.927     0.912500         4562        11.43
     483.583     0.925000         4625        13.33
     625.151     0.937500         4687        16.00
     701.951     0.943750         4718        17.78
     768.511     0.950000         4751        20.00
     860.671     0.956250         4781        22.86
     954.367     0.962500         4812        26.67
    1037.311     0.968750         4843        32.00
    1072.127     0.971875         4861        35.56
    1120.255     0.975000         4875        40.00
    1146.879     0.978125         4891        45.71
    1176.575     0.981250         4906        53.33
    1240.063     0.984375         4921        64.00
    1255.423     0.985938         4929        71.11
    1282.047     0.987500         4937        80.00
    1313.791     0.989062         4945        91.43
    1333.247     0.990625         4954       106.67
    1350.655     0.992188         4960       128.00
    1367.039     0.992969         4964       142.22
    1383.423     0.993750         4968       160.00
    1406.975     0.994531         4972       182.86
    1429.503     0.995313         4976       213.33
    1451.007     0.996094         4980       256.00
    1463.295     0.996484         4982       284.44
    1495.039     0.996875         4984       320.00
    1510.399     0.997266         4986       365.71
    1543.167     0.997656         4988       426.67
    1567.743     0.998047         4990       512.00
    1579.007     0.998242         4991       568.89
    1596.415     0.998437         4992       640.00
    1620.991     0.998633         4993       731.43
    1638.399     0.998828         4994       853.33
    1640.447     0.999023         4995      1024.00
    1640.447     0.999121         4995      1137.78
    1652.735     0.999219         4996      1280.00
    1652.735     0.999316         4996      1462.86
    1667.071     0.999414         4997      1706.67
    1667.071     0.999512         4997      2048.00
    1667.071     0.999561         4997      2275.56
    1709.055     0.999609         4998      2560.00
    1709.055     0.999658         4998      2925.71
    1709.055     0.999707         4998      3413.33
    1709.055     0.999756         4998      4096.00
    1709.055     0.999780         4998      4551.11
    1743.871     0.999805         4999      5120.00
    1743.871     1.000000         4999          inf
#[Mean    =      126.797, StdDeviation   =      260.796]
#[Max     =     1742.848, Total count    =         4999]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  6002 requests in 1.00m, 87.77MB read
Requests/sec:    100.00
Transfer/sec:      1.46MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 187.130ms, rate sampling interval: 1389ms
  Thread calibration: mean lat.: 594.519ms, rate sampling interval: 3815ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     5.33s     7.71s   24.54s    78.74%
    Req/Sec    48.13      6.47    80.00     85.98%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   60.93ms
 75.000%   11.39s 
 90.000%   18.83s 
 99.000%   23.30s 
 99.900%   24.26s 
 99.990%   24.51s 
 99.999%   24.56s 
100.000%   24.56s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.479     0.000000            1         1.00
      17.183     0.100000         1071         1.11
      20.527     0.200000         2140         1.25
      23.455     0.300000         3204         1.43
      35.999     0.400000         4271         1.67
      60.927     0.500000         5343         2.00
      64.223     0.550000         5874         2.22
      74.111     0.600000         6410         2.50
    4296.703     0.650000         6939         2.86
    8691.711     0.700000         7473         3.33
   11386.879     0.750000         8006         4.00
   12500.991     0.775000         8275         4.44
   13721.599     0.800000         8541         5.00
   14876.671     0.825000         8808         5.71
   16302.079     0.850000         9074         6.67
   17383.423     0.875000         9344         8.00
   18087.935     0.887500         9478         8.89
   18825.215     0.900000         9607        10.00
   19415.039     0.912500         9741        11.43
   20070.399     0.925000         9876        13.33
   20676.607     0.937500        10007        16.00
   21168.127     0.943750        10074        17.78
   21594.111     0.950000        10141        20.00
   21856.255     0.956250        10208        22.86
   22036.479     0.962500        10275        26.67
   22298.623     0.968750        10349        32.00
   22478.847     0.971875        10379        35.56
   22659.071     0.975000        10409        40.00
   22790.143     0.978125        10445        45.71
   22888.447     0.981250        10482        53.33
   22986.751     0.984375        10510        64.00
   23052.287     0.985938        10524        71.11
   23134.207     0.987500        10543        80.00
   23216.127     0.989062        10561        91.43
   23314.431     0.990625        10575       106.67
   23396.351     0.992188        10592       128.00
   23478.271     0.992969        10601       142.22
   23560.191     0.993750        10608       160.00
   23609.343     0.994531        10617       182.86
   23691.263     0.995313        10625       213.33
   23789.567     0.996094        10634       256.00
   23871.487     0.996484        10637       284.44
   23904.255     0.996875        10642       320.00
   23986.175     0.997266        10646       365.71
   24035.327     0.997656        10649       426.67
   24084.479     0.998047        10654       512.00
   24100.863     0.998242        10656       568.89
   24117.247     0.998437        10658       640.00
   24199.167     0.998633        10662       731.43
   24199.167     0.998828        10662       853.33
   24281.087     0.999023        10666      1024.00
   24281.087     0.999121        10666      1137.78
   24281.087     0.999219        10666      1280.00
   24297.471     0.999316        10667      1462.86
   24363.007     0.999414        10668      1706.67
   24379.391     0.999512        10669      2048.00
   24428.543     0.999561        10670      2275.56
   24428.543     0.999609        10670      2560.00
   24477.695     0.999658        10672      2925.71
   24477.695     0.999707        10672      3413.33
   24477.695     0.999756        10672      4096.00
   24477.695     0.999780        10672      4551.11
   24477.695     0.999805        10672      5120.00
   24510.463     0.999829        10673      5851.43
   24510.463     0.999854        10673      6826.67
   24510.463     0.999878        10673      8192.00
   24510.463     0.999890        10673      9102.22
   24510.463     0.999902        10673     10240.00
   24559.615     0.999915        10674     11702.86
   24559.615     1.000000        10674          inf
#[Mean    =     5329.127, StdDeviation   =     7706.866]
#[Max     =    24543.232, Total count    =        10674]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  11591 requests in 2.00m, 169.50MB read
Requests/sec:     96.57
Transfer/sec:      1.41MB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=150...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 6001.188ms, rate sampling interval: 16760ms
  Thread calibration: mean lat.: 5802.816ms, rate sampling interval: 16547ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    18.38s     4.75s   28.70s    66.62%
    Req/Sec    48.60      7.71    61.00     80.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   19.38s 
 75.000%   21.99s 
 90.000%   23.58s 
 99.000%   27.79s 
 99.900%   28.43s 
 99.990%   28.67s 
 99.999%   28.72s 
100.000%   28.72s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7315.455     0.000000            1         1.00
   10977.279     0.100000          511         1.11
   13819.903     0.200000         1018         1.25
   15884.287     0.300000         1523         1.43
   17940.479     0.400000         2033         1.67
   19382.271     0.500000         2537         2.00
   19972.095     0.550000         2795         2.22
   20627.455     0.600000         3050         2.50
   21069.823     0.650000         3300         2.86
   21544.959     0.700000         3551         3.33
   21987.327     0.750000         3817         4.00
   22233.087     0.775000         3933         4.44
   22544.383     0.800000         4064         5.00
   22724.607     0.825000         4190         5.71
   22986.751     0.850000         4312         6.67
   23330.815     0.875000         4447         8.00
   23429.119     0.887500         4510         8.89
   23576.575     0.900000         4575        10.00
   23740.415     0.912500         4629        11.43
   23953.407     0.925000         4694        13.33
   24428.543     0.937500         4755        16.00
   24657.919     0.943750         4787        17.78
   24903.679     0.950000         4820        20.00
   25051.135     0.956250         4855        22.86
   25362.431     0.962500         4882        26.67
   25837.567     0.968750         4914        32.00
   26083.327     0.971875         4934        35.56
   26181.631     0.975000         4946        40.00
   26836.991     0.978125         4962        45.71
   27131.903     0.981250         4977        53.33
   27410.431     0.984375         4994        64.00
   27475.967     0.985938         5002        71.11
   27607.039     0.987500         5009        80.00
   27754.495     0.989062         5018        91.43
   27787.263     0.990625         5026       106.67
   27934.719     0.992188         5033       128.00
   27983.871     0.992969         5038       142.22
   28016.639     0.993750         5041       160.00
   28065.791     0.994531         5048       182.86
   28082.175     0.995313         5049       213.33
   28164.095     0.996094         5053       256.00
   28196.863     0.996484         5056       284.44
   28229.631     0.996875         5059       320.00
   28229.631     0.997266         5059       365.71
   28262.399     0.997656         5061       426.67
   28360.703     0.998047         5063       512.00
   28377.087     0.998242         5064       568.89
   28393.471     0.998437         5066       640.00
   28393.471     0.998633         5066       731.43
   28426.239     0.998828         5067       853.33
   28442.623     0.999023         5068      1024.00
   28442.623     0.999121         5068      1137.78
   28590.079     0.999219         5069      1280.00
   28590.079     0.999316         5069      1462.86
   28606.463     0.999414         5070      1706.67
   28606.463     0.999512         5070      2048.00
   28606.463     0.999561         5070      2275.56
   28671.999     0.999609         5071      2560.00
   28671.999     0.999658         5071      2925.71
   28671.999     0.999707         5071      3413.33
   28671.999     0.999756         5071      4096.00
   28671.999     0.999780         5071      4551.11
   28721.151     0.999805         5072      5120.00
   28721.151     1.000000         5072          inf
#[Mean    =    18384.448, StdDeviation   =     4748.958]
#[Max     =    28704.768, Total count    =         5072]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  5375 requests in 1.00m, 78.60MB read
  Socket errors: connect 0, read 0, write 0, timeout 14
Requests/sec:     89.53
Transfer/sec:      1.31MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 816.816ms, rate sampling interval: 5873ms
  Thread calibration: mean lat.: 1141.322ms, rate sampling interval: 6709ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     5.82s     6.17s   16.02s    72.46%
    Req/Sec    72.44      5.98    84.00     79.41%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%  207.10ms
 75.000%   12.25s 
 90.000%   14.16s 
 99.000%   15.48s 
 99.900%   15.89s 
 99.990%   16.00s 
 99.999%   16.03s 
100.000%   16.03s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      10.007     0.000000            1         1.00
      20.655     0.100000         1609         1.11
      56.991     0.200000         3214         1.25
      63.775     0.300000         4831         1.43
      87.871     0.400000         6426         1.67
     207.103     0.500000         8032         2.00
    7520.255     0.550000         8837         2.22
    9740.287     0.600000         9642         2.50
   10747.903     0.650000        10445         2.86
   11730.943     0.700000        11250         3.33
   12247.039     0.750000        12056         4.00
   12566.527     0.775000        12456         4.44
   12746.751     0.800000        12867         5.00
   12951.551     0.825000        13261         5.71
   13385.727     0.850000        13656         6.67
   13885.439     0.875000        14064         8.00
   14032.895     0.887500        14268         8.89
   14163.967     0.900000        14460        10.00
   14327.807     0.912500        14664        11.43
   14524.415     0.925000        14861        13.33
   14680.063     0.937500        15067        16.00
   14745.599     0.943750        15174        17.78
   14811.135     0.950000        15264        20.00
   14909.439     0.956250        15368        22.86
   14991.359     0.962500        15466        26.67
   15097.855     0.968750        15574        32.00
   15130.623     0.971875        15616        35.56
   15171.583     0.975000        15674        40.00
   15212.543     0.978125        15723        45.71
   15261.695     0.981250        15764        53.33
   15327.231     0.984375        15817        64.00
   15368.191     0.985938        15839        71.11
   15400.959     0.987500        15869        80.00
   15450.111     0.989062        15890        91.43
   15507.455     0.990625        15917       106.67
   15548.415     0.992188        15940       128.00
   15597.567     0.992969        15954       142.22
   15622.143     0.993750        15965       160.00
   15646.719     0.994531        15983       182.86
   15671.295     0.995313        15989       213.33
   15728.639     0.996094        16003       256.00
   15761.407     0.996484        16008       284.44
   15794.175     0.996875        16015       320.00
   15810.559     0.997266        16022       365.71
   15835.135     0.997656        16030       426.67
   15851.519     0.998047        16034       512.00
   15867.903     0.998242        16039       568.89
   15867.903     0.998437        16039       640.00
   15876.095     0.998633        16043       731.43
   15884.287     0.998828        16046       853.33
   15900.671     0.999023        16049      1024.00
   15917.055     0.999121        16050      1137.78
   15925.247     0.999219        16055      1280.00
   15925.247     0.999316        16055      1462.86
   15925.247     0.999414        16055      1706.67
   15949.823     0.999512        16057      2048.00
   15949.823     0.999561        16057      2275.56
   15982.591     0.999609        16059      2560.00
   15982.591     0.999658        16059      2925.71
   15990.783     0.999707        16061      3413.33
   15990.783     0.999756        16061      4096.00
   15990.783     0.999780        16061      4551.11
   15990.783     0.999805        16061      5120.00
   15998.975     0.999829        16063      5851.43
   15998.975     0.999854        16063      6826.67
   15998.975     0.999878        16063      8192.00
   15998.975     0.999890        16063      9102.22
   15998.975     0.999902        16063     10240.00
   15998.975     0.999915        16063     11702.86
   15998.975     0.999927        16063     13653.33
   16031.743     0.999939        16064     16384.00
   16031.743     1.000000        16064          inf
#[Mean    =     5820.686, StdDeviation   =     6171.912]
#[Max     =    16023.552, Total count    =        16064]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  17244 requests in 2.00m, 252.17MB read
Requests/sec:    143.69
Transfer/sec:      2.10MB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-3', 'details-2'], 19)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 22)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 68)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-3', 'details-1'], 24)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 22)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 68)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 16)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 23)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 68)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 17)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 23)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 68)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-3', 'details-4'], 18)
filtered_path (['productpage-3', 'details-3'], 22)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 22)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 69)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 16)
filtered_path (['productpage-2', 'details-2'], 22)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 16)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 46)
filtered_path (['productpage-2', 'details-1'], 24)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 16)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 16)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 46)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 17)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 17)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 46)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 17)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 46)
filtered_path (['productpage-2', 'details-4'], 20)
filtered_path (['productpage-2', 'details-3'], 19)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 16)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 16)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 47)
filtered_path (['productpage-1', 'details-2'], 18)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 30)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 33)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 83)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 9)
filtered_path (['productpage-1', 'details-1'], 18)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 30)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 33)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 83)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 8)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 31)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 34)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 83)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 8)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 31)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 34)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 83)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-1', 'details-4'], 17)
filtered_path (['productpage-1', 'details-3'], 19)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 30)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 33)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 84)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-4', 'details-2'], 17)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 51)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 198)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 38)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 13)
filtered_path (['productpage-4', 'details-1'], 20)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 51)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 198)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 38)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 12)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 52)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 198)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 39)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 12)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 52)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 198)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 39)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 13)
filtered_path (['productpage-4', 'details-4'], 20)
filtered_path (['productpage-4', 'details-3'], 16)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 51)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 199)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 38)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 13)
filtered_path (['productpage-5', 'details-2'], 23)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 18)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 21)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 44)
filtered_path (['productpage-5', 'details-1'], 22)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 18)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 21)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 44)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 19)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 22)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 44)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 19)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 22)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 44)
filtered_path (['productpage-5', 'details-4'], 21)
filtered_path (['productpage-5', 'details-3'], 22)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 18)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 21)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 45)
original graph map
Node: productpage-3
  Upstream: []
  Downstream: ['details-4', 'details-2', 'reviews-2', 'reviews-1', 'reviews-4', 'details-1', 'reviews-3', 'details-3']
Node: productpage-2
  Upstream: []
  Downstream: ['details-3', 'details-4', 'reviews-4', 'reviews-3', 'reviews-2', 'details-1', 'reviews-1', 'details-2']
Node: productpage-1
  Upstream: []
  Downstream: ['details-1', 'details-2', 'details-3', 'details-4', 'reviews-3', 'reviews-2', 'reviews-1', 'reviews-4']
Node: reviews-4
  Upstream: ['productpage-5', 'productpage-2', 'productpage-1', 'productpage-4', 'productpage-3']
  Downstream: ['ratings-3', 'ratings-1', 'ratings-5', 'ratings-2', 'ratings-4']
Node: details-2
  Upstream: ['productpage-1', 'productpage-4', 'productpage-3', 'productpage-5', 'productpage-2']
  Downstream: []
Node: reviews-2
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: ['ratings-4', 'ratings-5', 'ratings-1', 'ratings-2', 'ratings-3']
Node: ratings-3
  Upstream: ['reviews-4', 'reviews-3', 'reviews-2', 'reviews-1']
  Downstream: []
Node: details-1
  Upstream: ['productpage-1', 'productpage-2', 'productpage-4', 'productpage-5', 'productpage-3']
  Downstream: []
Node: ratings-1
  Upstream: ['reviews-4', 'reviews-3', 'reviews-2', 'reviews-1']
  Downstream: []
Node: ratings-4
  Upstream: ['reviews-2', 'reviews-3', 'reviews-1', 'reviews-4']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: details-4
  Upstream: ['productpage-5', 'productpage-2', 'productpage-3', 'productpage-1', 'productpage-4']
  Downstream: []
Node: reviews-1
  Upstream: ['productpage-1', 'productpage-5', 'productpage-4', 'productpage-2', 'productpage-3']
  Downstream: ['ratings-1', 'ratings-3', 'ratings-4', 'ratings-5', 'ratings-2']
Node: reviews-3
  Upstream: ['productpage-1', 'productpage-2', 'productpage-4', 'productpage-5', 'productpage-3']
  Downstream: ['ratings-4', 'ratings-5', 'ratings-1', 'ratings-2', 'ratings-3']
Node: productpage-4
  Upstream: []
  Downstream: ['details-2', 'reviews-3', 'details-1', 'details-3', 'details-4', 'reviews-1', 'reviews-2', 'reviews-4']
Node: details-3
  Upstream: ['productpage-1', 'productpage-2', 'productpage-5', 'productpage-4', 'productpage-3']
  Downstream: []
Node: ratings-2
  Upstream: ['reviews-3', 'reviews-2', 'reviews-4', 'reviews-1']
  Downstream: []
Node: productpage-5
  Upstream: []
  Downstream: ['details-4', 'reviews-4', 'reviews-3', 'details-3', 'details-2', 'reviews-2', 'details-1', 'reviews-1']
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=150...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 1144.516ms, rate sampling interval: 8863ms
  Thread calibration: mean lat.: 627.559ms, rate sampling interval: 5939ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     6.01s    10.55s   36.67s    81.31%
    Req/Sec    53.00      4.67    59.00     61.54%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   58.30ms
 75.000%    9.73s 
 90.000%   25.10s 
 99.000%   35.32s 
 99.900%   36.60s 
 99.990%   36.67s 
 99.999%   36.70s 
100.000%   36.70s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.887     0.000000            1         1.00
      17.487     0.100000          523         1.11
      21.247     0.200000         1049         1.25
      24.575     0.300000         1570         1.43
      32.143     0.400000         2092         1.67
      58.303     0.500000         2614         2.00
      61.215     0.550000         2877         2.22
      63.711     0.600000         3137         2.50
      66.751     0.650000         3402         2.86
      74.303     0.700000         3660         3.33
    9732.095     0.750000         3922         4.00
   12099.583     0.775000         4052         4.44
   14958.591     0.800000         4184         5.00
   18055.167     0.825000         4315         5.71
   20479.999     0.850000         4444         6.67
   23183.359     0.875000         4576         8.00
   24363.007     0.887500         4642         8.89
   25116.671     0.900000         4707        10.00
   26542.079     0.912500         4774        11.43
   27918.335     0.925000         4836        13.33
   29097.983     0.937500         4902        16.00
   29720.575     0.943750         4934        17.78
   30408.703     0.950000         4967        20.00
   31145.983     0.956250         5000        22.86
   31948.799     0.962500         5032        26.67
   32718.847     0.968750         5065        32.00
   33161.215     0.971875         5081        35.56
   33587.199     0.975000         5098        40.00
   33947.647     0.978125         5115        45.71
   34340.863     0.981250         5132        53.33
   34635.775     0.984375         5149        64.00
   34799.615     0.985938         5155        71.11
   34996.223     0.987500         5165        80.00
   35127.295     0.989062         5171        91.43
   35422.207     0.990625         5180       106.67
   35651.583     0.992188         5188       128.00
   35717.119     0.992969         5192       142.22
   35848.191     0.993750         5196       160.00
   35946.495     0.994531         5200       182.86
   36044.799     0.995313         5205       213.33
   36175.871     0.996094         5209       256.00
   36208.639     0.996484         5211       284.44
   36241.407     0.996875         5212       320.00
   36339.711     0.997266         5215       365.71
   36372.479     0.997656         5216       426.67
   36470.783     0.998047         5219       512.00
   36470.783     0.998242         5219       568.89
   36536.319     0.998437         5220       640.00
   36569.087     0.998633         5221       731.43
   36601.855     0.998828         5223       853.33
   36601.855     0.999023         5223      1024.00
   36634.623     0.999121         5225      1137.78
   36634.623     0.999219         5225      1280.00
   36634.623     0.999316         5225      1462.86
   36634.623     0.999414         5225      1706.67
   36667.391     0.999512         5227      2048.00
   36667.391     0.999561         5227      2275.56
   36667.391     0.999609         5227      2560.00
   36667.391     0.999658         5227      2925.71
   36667.391     0.999707         5227      3413.33
   36667.391     0.999756         5227      4096.00
   36667.391     0.999780         5227      4551.11
   36667.391     0.999805         5227      5120.00
   36700.159     0.999829         5228      5851.43
   36700.159     1.000000         5228          inf
#[Mean    =     6008.586, StdDeviation   =    10554.272]
#[Max     =    36667.392, Total count    =         5228]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  6265 requests in 1.00m, 91.62MB read
Requests/sec:    104.38
Transfer/sec:      1.53MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 41.703ms, rate sampling interval: 135ms
  Thread calibration: mean lat.: 40.604ms, rate sampling interval: 132ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    40.86ms   22.37ms 140.93ms   56.97%
    Req/Sec    74.82      8.67   106.00     81.90%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   50.85ms
 75.000%   60.35ms
 90.000%   66.18ms
 99.000%   83.78ms
 99.900%  106.88ms
 99.990%  127.81ms
 99.999%  141.05ms
100.000%  141.05ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.503     0.000000            1         1.00
      13.095     0.100000         1651         1.11
      16.751     0.200000         3306         1.25
      19.279     0.300000         4956         1.43
      24.847     0.400000         6600         1.67
      50.847     0.500000         8254         2.00
      53.151     0.550000         9083         2.22
      55.039     0.600000         9905         2.50
      57.311     0.650000        10726         2.86
      58.975     0.700000        11547         3.33
      60.351     0.750000        12377         4.00
      61.087     0.775000        12794         4.44
      61.855     0.800000        13205         5.00
      62.719     0.825000        13612         5.71
      63.615     0.850000        14024         6.67
      64.799     0.875000        14443         8.00
      65.503     0.887500        14649         8.89
      66.175     0.900000        14860        10.00
      67.071     0.912500        15058        11.43
      67.967     0.925000        15266        13.33
      69.119     0.937500        15475        16.00
      69.823     0.943750        15574        17.78
      70.591     0.950000        15677        20.00
      71.551     0.956250        15778        22.86
      73.023     0.962500        15879        26.67
      74.495     0.968750        15981        32.00
      75.455     0.971875        16032        35.56
      76.415     0.975000        16083        40.00
      77.503     0.978125        16139        45.71
      78.719     0.981250        16187        53.33
      80.319     0.984375        16239        64.00
      81.279     0.985938        16265        71.11
      82.239     0.987500        16290        80.00
      83.071     0.989062        16316        91.43
      84.351     0.990625        16341       106.67
      86.079     0.992188        16368       128.00
      87.359     0.992969        16383       142.22
      87.999     0.993750        16393       160.00
      89.599     0.994531        16405       182.86
      90.879     0.995313        16419       213.33
      92.799     0.996094        16432       256.00
      93.695     0.996484        16439       284.44
      95.295     0.996875        16445       320.00
      95.743     0.997266        16450       365.71
      97.023     0.997656        16457       426.67
      97.727     0.998047        16463       512.00
      99.071     0.998242        16467       568.89
     100.223     0.998437        16470       640.00
     102.271     0.998633        16473       731.43
     103.679     0.998828        16476       853.33
     106.879     0.999023        16479      1024.00
     107.775     0.999121        16481      1137.78
     111.103     0.999219        16483      1280.00
     111.935     0.999316        16484      1462.86
     118.207     0.999414        16486      1706.67
     119.551     0.999512        16487      2048.00
     121.471     0.999561        16488      2275.56
     122.879     0.999609        16489      2560.00
     123.391     0.999658        16490      2925.71
     126.335     0.999707        16491      3413.33
     126.335     0.999756        16491      4096.00
     127.039     0.999780        16492      4551.11
     127.039     0.999805        16492      5120.00
     127.807     0.999829        16493      5851.43
     127.807     0.999854        16493      6826.67
     127.807     0.999878        16493      8192.00
     135.807     0.999890        16494      9102.22
     135.807     0.999902        16494     10240.00
     135.807     0.999915        16494     11702.86
     135.807     0.999927        16494     13653.33
     135.807     0.999939        16494     16384.00
     141.055     0.999945        16495     18204.44
     141.055     1.000000        16495          inf
#[Mean    =       40.863, StdDeviation   =       22.369]
#[Max     =      140.928, Total count    =        16495]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  17999 requests in 2.00m, 263.20MB read
Requests/sec:    149.97
Transfer/sec:      2.19MB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=10...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 495.135ms, rate sampling interval: 3252ms
  Thread calibration: mean lat.: 551.993ms, rate sampling interval: 3891ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    55.66ms   44.38ms 395.78ms   86.40%
    Req/Sec     4.67      0.61     6.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   33.89ms
 75.000%   77.50ms
 90.000%  108.86ms
 99.000%  200.06ms
 99.900%  396.03ms
 99.990%  396.03ms
 99.999%  396.03ms
100.000%  396.03ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      17.023     0.000000            1         1.00
      21.775     0.100000           50         1.11
      25.807     0.200000          100         1.25
      27.695     0.300000          150         1.43
      30.095     0.400000          200         1.67
      33.887     0.500000          250         2.00
      37.055     0.550000          275         2.22
      49.631     0.600000          300         2.50
      66.751     0.650000          325         2.86
      72.191     0.700000          350         3.33
      77.503     0.750000          376         4.00
      81.023     0.775000          388         4.44
      85.887     0.800000          400         5.00
      90.623     0.825000          414         5.71
      96.831     0.850000          425         6.67
     103.935     0.875000          438         8.00
     105.919     0.887500          444         8.89
     108.863     0.900000          450        10.00
     111.423     0.912500          457        11.43
     113.471     0.925000          463        13.33
     115.455     0.937500          469        16.00
     120.127     0.943750          472        17.78
     121.215     0.950000          475        20.00
     129.087     0.956250          479        22.86
     130.815     0.962500          483        26.67
     131.455     0.968750          485        32.00
     132.735     0.971875          486        35.56
     139.007     0.975000          488        40.00
     178.047     0.978125          490        45.71
     178.303     0.981250          491        53.33
     188.799     0.984375          493        64.00
     188.799     0.985938          493        71.11
     188.927     0.987500          494        80.00
     200.063     0.989062          495        91.43
     203.391     0.990625          496       106.67
     290.559     0.992188          497       128.00
     290.559     0.992969          497       142.22
     290.559     0.993750          497       160.00
     292.607     0.994531          498       182.86
     292.607     0.995313          498       213.33
     386.559     0.996094          499       256.00
     386.559     0.996484          499       284.44
     386.559     0.996875          499       320.00
     386.559     0.997266          499       365.71
     386.559     0.997656          499       426.67
     396.031     0.998047          500       512.00
     396.031     1.000000          500          inf
#[Mean    =       55.661, StdDeviation   =       44.380]
#[Max     =      395.776, Total count    =          500]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  601 requests in 1.00m, 8.79MB read
  Socket errors: connect 0, read 0, write 0, timeout 7
Requests/sec:     10.01
Transfer/sec:    149.92KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 53.416ms, rate sampling interval: 183ms
  Thread calibration: mean lat.: 52.062ms, rate sampling interval: 191ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    40.84ms   25.80ms 260.61ms   75.34%
    Req/Sec     4.91      9.45    27.00     82.98%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   28.17ms
 75.000%   65.06ms
 90.000%   73.98ms
 99.000%   96.64ms
 99.900%  254.98ms
 99.990%  260.73ms
 99.999%  260.73ms
100.000%  260.73ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      13.463     0.000000            1         1.00
      18.511     0.100000          110         1.11
      21.503     0.200000          220         1.25
      23.391     0.300000          330         1.43
      25.487     0.400000          440         1.67
      28.175     0.500000          550         2.00
      29.407     0.550000          605         2.22
      31.583     0.600000          660         2.50
      41.951     0.650000          715         2.86
      61.279     0.700000          770         3.33
      65.055     0.750000          826         4.00
      66.751     0.775000          853         4.44
      67.967     0.800000          883         5.00
      69.183     0.825000          908         5.71
      70.335     0.850000          935         6.67
      71.679     0.875000          964         8.00
      72.575     0.887500          976         8.89
      73.983     0.900000          991        10.00
      75.199     0.912500         1003        11.43
      76.543     0.925000         1018        13.33
      77.887     0.937500         1031        16.00
      79.743     0.943750         1038        17.78
      80.639     0.950000         1046        20.00
      81.279     0.956250         1051        22.86
      83.711     0.962500         1059        26.67
      85.631     0.968750         1065        32.00
      87.167     0.971875         1069        35.56
      88.383     0.975000         1072        40.00
      90.239     0.978125         1075        45.71
      92.351     0.981250         1079        53.33
      93.503     0.984375         1082        64.00
      93.951     0.985938         1084        71.11
      95.487     0.987500         1086        80.00
      95.999     0.989062         1087        91.43
     100.607     0.990625         1089       106.67
     101.823     0.992188         1091       128.00
     104.319     0.992969         1092       142.22
     139.007     0.993750         1093       160.00
     139.007     0.994531         1093       182.86
     149.375     0.995313         1094       213.33
     151.039     0.996094         1095       256.00
     159.231     0.996484         1096       284.44
     159.231     0.996875         1096       320.00
     159.231     0.997266         1096       365.71
     173.311     0.997656         1097       426.67
     173.311     0.998047         1097       512.00
     254.975     0.998242         1098       568.89
     254.975     0.998437         1098       640.00
     254.975     0.998633         1098       731.43
     254.975     0.998828         1098       853.33
     254.975     0.999023         1098      1024.00
     260.735     0.999121         1099      1137.78
     260.735     1.000000         1099          inf
#[Mean    =       40.843, StdDeviation   =       25.797]
#[Max     =      260.608, Total count    =         1099]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1203 requests in 2.00m, 17.59MB read
Requests/sec:     10.02
Transfer/sec:    150.09KB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 25)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 44)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 66)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 30)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 24)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 45)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 68)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 32)
filtered_path (['productpage-4', 'details-4'], 3)
filtered_path (['productpage-4', 'details-2'], 4)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 24)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 44)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 67)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 30)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 24)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 44)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 66)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 30)
filtered_path (['productpage-4', 'details-3'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 24)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 45)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 66)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 30)
filtered_path (['productpage-4', 'details-1'], 6)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 48)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 18)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 49)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 24)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 50)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 20)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 50)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 23)
filtered_path (['productpage-3', 'details-4'], 16)
filtered_path (['productpage-3', 'details-2'], 7)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 48)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 19)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 49)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 23)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 48)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 18)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 49)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 23)
filtered_path (['productpage-3', 'details-3'], 10)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 48)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 18)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 50)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 23)
filtered_path (['productpage-3', 'details-1'], 18)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 82)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 15)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 60)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 29)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 81)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 17)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 62)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 30)
filtered_path (['productpage-1', 'details-4'], 19)
filtered_path (['productpage-1', 'details-2'], 16)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 81)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 15)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 61)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 29)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 81)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 15)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 60)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 29)
filtered_path (['productpage-1', 'details-3'], 16)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 81)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 15)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 60)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 30)
filtered_path (['productpage-1', 'details-1'], 13)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 25)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 19)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 53)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 38)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 24)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 21)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 54)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 40)
filtered_path (['productpage-2', 'details-4'], 15)
filtered_path (['productpage-2', 'details-2'], 17)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 24)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 19)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 53)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 39)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 24)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 19)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 53)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 38)
filtered_path (['productpage-2', 'details-3'], 17)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 24)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 19)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 54)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 38)
filtered_path (['productpage-2', 'details-1'], 16)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 15)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 11)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 12)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 7)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 16)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 10)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 14)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-5', 'details-4'], 15)
filtered_path (['productpage-5', 'details-2'], 14)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 15)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 10)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 13)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 15)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 10)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 12)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-5', 'details-3'], 15)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 16)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 10)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 12)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-5', 'details-1'], 12)
original graph map
Node: ratings-4
  Upstream: ['reviews-4', 'reviews-1', 'reviews-3', 'reviews-2']
  Downstream: []
Node: productpage-4
  Upstream: []
  Downstream: ['details-2', 'details-1', 'details-3', 'details-4', 'reviews-1', 'reviews-2', 'reviews-3', 'reviews-4']
Node: ratings-1
  Upstream: ['reviews-1', 'reviews-2', 'reviews-3', 'reviews-4']
  Downstream: []
Node: reviews-1
  Upstream: ['productpage-4', 'productpage-1', 'productpage-2', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-3', 'ratings-4', 'ratings-5']
Node: productpage-3
  Upstream: []
  Downstream: ['details-1', 'details-2', 'reviews-4', 'reviews-3', 'reviews-2', 'details-4', 'reviews-1', 'details-3']
Node: productpage-1
  Upstream: []
  Downstream: ['details-3', 'details-1', 'details-2', 'details-4', 'reviews-1', 'reviews-4', 'reviews-3', 'reviews-2']
Node: reviews-2
  Upstream: ['productpage-4', 'productpage-2', 'productpage-1', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-3', 'ratings-5', 'ratings-4']
Node: details-4
  Upstream: ['productpage-4', 'productpage-1', 'productpage-2', 'productpage-3', 'productpage-5']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-3', 'productpage-4', 'productpage-1', 'productpage-2', 'productpage-5']
  Downstream: ['ratings-4', 'ratings-1', 'ratings-2', 'ratings-3', 'ratings-5']
Node: details-2
  Upstream: ['productpage-2', 'productpage-1', 'productpage-4', 'productpage-3', 'productpage-5']
  Downstream: []
Node: reviews-3
  Upstream: ['productpage-4', 'productpage-2', 'productpage-1', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-3', 'ratings-4', 'ratings-5']
Node: ratings-2
  Upstream: ['reviews-1', 'reviews-4', 'reviews-2', 'reviews-3']
  Downstream: []
Node: ratings-3
  Upstream: ['reviews-1', 'reviews-4', 'reviews-3', 'reviews-2']
  Downstream: []
Node: details-3
  Upstream: ['productpage-1', 'productpage-2', 'productpage-4', 'productpage-3', 'productpage-5']
  Downstream: []
Node: productpage-2
  Upstream: []
  Downstream: ['details-3', 'details-1', 'details-2', 'details-4', 'reviews-1', 'reviews-4', 'reviews-2', 'reviews-3']
Node: ratings-5
  Upstream: ['reviews-1', 'reviews-4', 'reviews-3', 'reviews-2']
  Downstream: []
Node: details-1
  Upstream: ['productpage-2', 'productpage-1', 'productpage-3', 'productpage-4', 'productpage-5']
  Downstream: []
Node: productpage-5
  Upstream: []
  Downstream: ['details-2', 'details-1', 'reviews-2', 'details-4', 'reviews-1', 'reviews-3', 'reviews-4', 'details-3']
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=10...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 30.743ms, rate sampling interval: 116ms
  Thread calibration: mean lat.: 44.812ms, rate sampling interval: 165ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    35.30ms   21.98ms 109.44ms   77.31%
    Req/Sec     4.94     11.61    43.00     86.34%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   24.82ms
 75.000%   55.90ms
 90.000%   71.04ms
 99.000%   91.39ms
 99.900%  109.50ms
 99.990%  109.50ms
 99.999%  109.50ms
100.000%  109.50ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.583     0.000000            1         1.00
      15.167     0.100000           50         1.11
      17.359     0.200000          100         1.25
      20.223     0.300000          150         1.43
      22.159     0.400000          200         1.67
      24.815     0.500000          249         2.00
      26.431     0.550000          274         2.22
      28.783     0.600000          299         2.50
      33.311     0.650000          324         2.86
      41.375     0.700000          349         3.33
      55.903     0.750000          374         4.00
      57.023     0.775000          386         4.44
      58.271     0.800000          399         5.00
      60.639     0.825000          411         5.71
      64.191     0.850000          424         6.67
      67.455     0.875000          436         8.00
      70.207     0.887500          442         8.89
      71.551     0.900000          449        10.00
      73.663     0.912500          455        11.43
      74.687     0.925000          461        13.33
      76.223     0.937500          467        16.00
      77.823     0.943750          470        17.78
      78.911     0.950000          474        20.00
      79.743     0.956250          477        22.86
      80.703     0.962500          480        26.67
      81.087     0.968750          483        32.00
      83.647     0.971875          485        35.56
      83.839     0.975000          487        40.00
      84.863     0.978125          488        45.71
      85.823     0.981250          489        53.33
      88.831     0.984375          491        64.00
      88.831     0.985938          491        71.11
      89.215     0.987500          492        80.00
      91.391     0.989062          493        91.43
      91.839     0.990625          494       106.67
      93.183     0.992188          495       128.00
      93.183     0.992969          495       142.22
      93.183     0.993750          495       160.00
      93.759     0.994531          496       182.86
      93.759     0.995313          496       213.33
      95.743     0.996094          497       256.00
      95.743     0.996484          497       284.44
      95.743     0.996875          497       320.00
      95.743     0.997266          497       365.71
      95.743     0.997656          497       426.67
     109.503     0.998047          498       512.00
     109.503     1.000000          498          inf
#[Mean    =       35.305, StdDeviation   =       21.981]
#[Max     =      109.440, Total count    =          498]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  600 requests in 1.00m, 8.79MB read
Requests/sec:     10.00
Transfer/sec:    149.91KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 32.225ms, rate sampling interval: 128ms
  Thread calibration: mean lat.: 46.330ms, rate sampling interval: 166ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    37.06ms   23.96ms 115.26ms   75.32%
    Req/Sec     4.96     11.10    39.00     85.52%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   25.79ms
 75.000%   59.78ms
 90.000%   75.52ms
 99.000%   90.56ms
 99.900%  113.79ms
 99.990%  115.33ms
 99.999%  115.33ms
100.000%  115.33ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.039     0.000000            1         1.00
      15.943     0.100000          110         1.11
      17.231     0.200000          221         1.25
      19.279     0.300000          330         1.43
      21.103     0.400000          441         1.67
      25.791     0.500000          549         2.00
      28.015     0.550000          604         2.22
      31.007     0.600000          659         2.50
      34.719     0.650000          714         2.86
      46.047     0.700000          769         3.33
      59.775     0.750000          824         4.00
      63.583     0.775000          851         4.44
      66.815     0.800000          879         5.00
      68.991     0.825000          906         5.71
      71.615     0.850000          935         6.67
      73.599     0.875000          961         8.00
      74.815     0.887500          975         8.89
      75.775     0.900000          989        10.00
      76.479     0.912500         1002        11.43
      77.439     0.925000         1016        13.33
      79.231     0.937500         1031        16.00
      80.191     0.943750         1037        17.78
      80.831     0.950000         1044        20.00
      81.791     0.956250         1050        22.86
      83.135     0.962500         1057        26.67
      84.031     0.968750         1064        32.00
      84.287     0.971875         1068        35.56
      85.375     0.975000         1071        40.00
      86.143     0.978125         1074        45.71
      87.743     0.981250         1078        53.33
      88.639     0.984375         1081        64.00
      89.599     0.985938         1083        71.11
      89.663     0.987500         1085        80.00
      89.919     0.989062         1086        91.43
      90.751     0.990625         1088       106.67
      91.839     0.992188         1091       128.00
      91.839     0.992969         1091       142.22
      92.607     0.993750         1092       160.00
      92.607     0.994531         1092       182.86
      94.207     0.995313         1093       213.33
     107.391     0.996094         1094       256.00
     110.079     0.996484         1095       284.44
     110.079     0.996875         1095       320.00
     110.079     0.997266         1095       365.71
     110.591     0.997656         1096       426.67
     110.591     0.998047         1096       512.00
     113.791     0.998242         1097       568.89
     113.791     0.998437         1097       640.00
     113.791     0.998633         1097       731.43
     113.791     0.998828         1097       853.33
     113.791     0.999023         1097      1024.00
     115.327     0.999121         1098      1137.78
     115.327     1.000000         1098          inf
#[Mean    =       37.055, StdDeviation   =       23.962]
#[Max     =      115.264, Total count    =         1098]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1202 requests in 2.00m, 17.58MB read
Requests/sec:     10.01
Transfer/sec:    149.97KB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=30...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 1207.453ms, rate sampling interval: 5849ms
  Thread calibration: mean lat.: 2406.831ms, rate sampling interval: 9289ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   517.89ms    1.56s   12.27s    91.83%
    Req/Sec    15.62      1.73    19.00     84.62%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   61.73ms
 75.000%  122.24ms
 90.000%    1.30s 
 99.000%    8.56s 
 99.900%   11.74s 
 99.990%   12.28s 
 99.999%   12.28s 
100.000%   12.28s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      13.639     0.000000            1         1.00
      21.087     0.100000          159         1.11
      23.791     0.200000          317         1.25
      26.399     0.300000          474         1.43
      30.623     0.400000          632         1.67
      61.727     0.500000          789         2.00
      65.311     0.550000          868         2.22
      68.799     0.600000          947         2.50
      76.799     0.650000         1026         2.86
      92.223     0.700000         1106         3.33
     122.239     0.750000         1184         4.00
     141.695     0.775000         1223         4.44
     161.151     0.800000         1263         5.00
     186.495     0.825000         1302         5.71
     253.823     0.850000         1342         6.67
     385.023     0.875000         1381         8.00
     740.863     0.887500         1401         8.89
    1300.479     0.900000         1421        10.00
    1820.671     0.912500         1440        11.43
    2351.103     0.925000         1460        13.33
    2885.631     0.937500         1480        16.00
    3125.247     0.943750         1490        17.78
    3532.799     0.950000         1500        20.00
    3952.639     0.956250         1509        22.86
    4521.983     0.962500         1520        26.67
    5095.423     0.968750         1529        32.00
    5357.567     0.971875         1534        35.56
    5689.343     0.975000         1539        40.00
    6115.327     0.978125         1544        45.71
    6688.767     0.981250         1549        53.33
    7401.471     0.984375         1554        64.00
    7446.527     0.985938         1556        71.11
    7753.727     0.987500         1559        80.00
    8245.247     0.989062         1561        91.43
    9019.391     0.990625         1564       106.67
    9519.103     0.992188         1566       128.00
    9584.639     0.992969         1567       142.22
    9871.359     0.993750         1569       160.00
   10174.463     0.994531         1570       182.86
   10485.759     0.995313         1571       213.33
   10764.287     0.996094         1572       256.00
   11001.855     0.996484         1573       284.44
   11263.999     0.996875         1574       320.00
   11263.999     0.997266         1574       365.71
   11567.103     0.997656         1575       426.67
   11567.103     0.998047         1575       512.00
   11739.135     0.998242         1576       568.89
   11739.135     0.998437         1576       640.00
   11739.135     0.998633         1576       731.43
   12025.855     0.998828         1577       853.33
   12025.855     0.999023         1577      1024.00
   12025.855     0.999121         1577      1137.78
   12025.855     0.999219         1577      1280.00
   12025.855     0.999316         1577      1462.86
   12279.807     0.999414         1578      1706.67
   12279.807     1.000000         1578          inf
#[Mean    =      517.885, StdDeviation   =     1555.504]
#[Max     =    12271.616, Total count    =         1578]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1801 requests in 1.00m, 26.34MB read
  Socket errors: connect 0, read 0, write 0, timeout 16
Requests/sec:     30.00
Transfer/sec:    449.30KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 56.146ms, rate sampling interval: 235ms
  Thread calibration: mean lat.: 51.754ms, rate sampling interval: 218ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    40.42ms   25.87ms 154.50ms   79.75%
    Req/Sec    14.65      8.25    25.00     77.34%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   26.29ms
 75.000%   62.75ms
 90.000%   74.56ms
 99.000%  118.72ms
 99.900%  151.68ms
 99.990%  154.62ms
 99.999%  154.62ms
100.000%  154.62ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      12.015     0.000000            1         1.00
      17.151     0.100000          331         1.11
      19.359     0.200000          662         1.25
      21.247     0.300000          994         1.43
      23.359     0.400000         1321         1.67
      26.287     0.500000         1650         2.00
      29.007     0.550000         1814         2.22
      36.031     0.600000         1979         2.50
      49.823     0.650000         2144         2.86
      59.615     0.700000         2310         3.33
      62.751     0.750000         2474         4.00
      64.159     0.775000         2556         4.44
      65.471     0.800000         2641         5.00
      66.943     0.825000         2721         5.71
      68.735     0.850000         2806         6.67
      70.975     0.875000         2886         8.00
      72.575     0.887500         2928         8.89
      74.687     0.900000         2969        10.00
      76.799     0.912500         3011        11.43
      79.039     0.925000         3053        13.33
      81.535     0.937500         3092        16.00
      83.135     0.943750         3113        17.78
      84.287     0.950000         3135        20.00
      87.551     0.956250         3154        22.86
      90.047     0.962500         3175        26.67
      92.287     0.968750         3196        32.00
      95.295     0.971875         3206        35.56
      99.135     0.975000         3216        40.00
     105.855     0.978125         3226        45.71
     111.103     0.981250         3237        53.33
     113.919     0.984375         3247        64.00
     115.583     0.985938         3252        71.11
     116.543     0.987500         3257        80.00
     118.399     0.989062         3262        91.43
     119.295     0.990625         3268       106.67
     120.319     0.992188         3274       128.00
     120.575     0.992969         3275       142.22
     122.047     0.993750         3278       160.00
     124.927     0.994531         3280       182.86
     131.711     0.995313         3283       213.33
     142.463     0.996094         3286       256.00
     142.591     0.996484         3287       284.44
     143.231     0.996875         3288       320.00
     145.535     0.997266         3289       365.71
     149.631     0.997656         3291       426.67
     150.015     0.998047         3292       512.00
     150.655     0.998242         3293       568.89
     150.655     0.998437         3293       640.00
     151.039     0.998633         3294       731.43
     151.679     0.998828         3295       853.33
     151.679     0.999023         3295      1024.00
     152.959     0.999121         3296      1137.78
     152.959     0.999219         3296      1280.00
     152.959     0.999316         3296      1462.86
     153.087     0.999414         3297      1706.67
     153.087     0.999512         3297      2048.00
     153.087     0.999561         3297      2275.56
     153.087     0.999609         3297      2560.00
     153.087     0.999658         3297      2925.71
     154.623     0.999707         3298      3413.33
     154.623     1.000000         3298          inf
#[Mean    =       40.416, StdDeviation   =       25.872]
#[Max     =      154.496, Total count    =         3298]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3602 requests in 2.00m, 52.67MB read
Requests/sec:     30.01
Transfer/sec:    449.39KB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 30)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 52)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 23)
filtered_path (['productpage-2', 'details-1'], 14)
filtered_path (['productpage-2', 'details-3'], 13)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 29)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 8)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 52)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 23)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 31)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 50)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 24)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 30)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 8)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 51)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 23)
filtered_path (['productpage-2', 'details-2'], 13)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 29)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 52)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 24)
filtered_path (['productpage-2', 'details-4'], 12)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 25)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 28)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 15)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 60)
filtered_path (['productpage-3', 'details-1'], 17)
filtered_path (['productpage-3', 'details-3'], 19)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 24)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 28)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 14)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 60)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 26)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 29)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 15)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 58)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 25)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 28)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 14)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 59)
filtered_path (['productpage-3', 'details-2'], 20)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 24)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 29)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 15)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 60)
filtered_path (['productpage-3', 'details-4'], 14)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 31)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 62)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 12)
filtered_path (['productpage-4', 'details-1'], 14)
filtered_path (['productpage-4', 'details-3'], 11)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 30)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 62)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 11)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 32)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 60)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 27)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 12)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 31)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 61)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 11)
filtered_path (['productpage-4', 'details-2'], 12)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 30)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 62)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 27)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 12)
filtered_path (['productpage-4', 'details-4'], 13)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 37)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 11)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 14)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 16)
filtered_path (['productpage-1', 'details-1'], 11)
filtered_path (['productpage-1', 'details-3'], 13)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 37)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 10)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 13)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 35)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 11)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 15)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 36)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 10)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 14)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 16)
filtered_path (['productpage-1', 'details-2'], 12)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 37)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 11)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 13)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 17)
filtered_path (['productpage-1', 'details-4'], 13)
original graph map
Node: ratings-2
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: productpage-2
  Upstream: []
  Downstream: ['details-2', 'details-3', 'reviews-2', 'details-4', 'details-1', 'reviews-4', 'reviews-1', 'reviews-3']
Node: productpage-3
  Upstream: []
  Downstream: ['details-1', 'details-2', 'details-3', 'reviews-2', 'details-4', 'reviews-3', 'reviews-4', 'reviews-1']
Node: details-1
  Upstream: ['productpage-3', 'productpage-4', 'productpage-2', 'productpage-1']
  Downstream: []
Node: reviews-3
  Upstream: ['productpage-3', 'productpage-4', 'productpage-2', 'productpage-1']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-5', 'ratings-4', 'ratings-3']
Node: productpage-4
  Upstream: []
  Downstream: ['details-1', 'details-3', 'details-4', 'reviews-2', 'details-2', 'reviews-1', 'reviews-3', 'reviews-4']
Node: reviews-4
  Upstream: ['productpage-3', 'productpage-1', 'productpage-4', 'productpage-2']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-5', 'ratings-4', 'ratings-3']
Node: reviews-2
  Upstream: ['productpage-2', 'productpage-3', 'productpage-4', 'productpage-1']
  Downstream: ['ratings-5', 'ratings-1', 'ratings-3', 'ratings-4', 'ratings-2']
Node: reviews-1
  Upstream: ['productpage-1', 'productpage-4', 'productpage-2', 'productpage-3']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-4', 'ratings-5', 'ratings-3']
Node: details-3
  Upstream: ['productpage-1', 'productpage-4', 'productpage-2', 'productpage-3']
  Downstream: []
Node: productpage-1
  Upstream: []
  Downstream: ['details-3', 'details-2', 'reviews-1', 'reviews-4', 'reviews-2', 'details-4', 'details-1', 'reviews-3']
Node: ratings-3
  Upstream: ['reviews-2', 'reviews-4', 'reviews-3', 'reviews-1']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: ratings-4
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: details-2
  Upstream: ['productpage-2', 'productpage-3', 'productpage-1', 'productpage-4']
  Downstream: []
Node: ratings-1
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: details-4
  Upstream: ['productpage-4', 'productpage-3', 'productpage-2', 'productpage-1']
  Downstream: []
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=30...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 41.809ms, rate sampling interval: 143ms
  Thread calibration: mean lat.: 34.636ms, rate sampling interval: 135ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    36.63ms   21.26ms 117.06ms   64.22%
    Req/Sec    14.74     14.86    37.00     76.88%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   26.17ms
 75.000%   62.37ms
 90.000%   68.80ms
 99.000%   81.86ms
 99.900%  111.87ms
 99.990%  117.12ms
 99.999%  117.12ms
100.000%  117.12ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.623     0.000000            1         1.00
      16.543     0.100000          150         1.11
      20.127     0.200000          301         1.25
      22.127     0.300000          450         1.43
      23.967     0.400000          600         1.67
      26.175     0.500000          749         2.00
      27.487     0.550000          825         2.22
      29.215     0.600000          899         2.50
      32.271     0.650000          974         2.86
      43.583     0.700000         1049         3.33
      62.367     0.750000         1124         4.00
      63.487     0.775000         1161         4.44
      64.543     0.800000         1199         5.00
      65.599     0.825000         1237         5.71
      66.495     0.850000         1274         6.67
      67.775     0.875000         1311         8.00
      68.287     0.887500         1331         8.89
      68.799     0.900000         1350        10.00
      69.439     0.912500         1367        11.43
      70.015     0.925000         1388        13.33
      70.655     0.937500         1405        16.00
      71.615     0.943750         1415        17.78
      72.319     0.950000         1424        20.00
      73.151     0.956250         1433        22.86
      74.175     0.962500         1443        26.67
      75.135     0.968750         1452        32.00
      75.583     0.971875         1456        35.56
      76.735     0.975000         1461        40.00
      77.375     0.978125         1466        45.71
      78.463     0.981250         1470        53.33
      79.743     0.984375         1475        64.00
      80.575     0.985938         1477        71.11
      81.279     0.987500         1481        80.00
      81.599     0.989062         1482        91.43
      82.111     0.990625         1484       106.67
      84.671     0.992188         1487       128.00
      85.055     0.992969         1488       142.22
      85.951     0.993750         1489       160.00
      86.143     0.994531         1490       182.86
      87.487     0.995313         1491       213.33
      91.007     0.996094         1493       256.00
      91.007     0.996484         1493       284.44
      91.391     0.996875         1494       320.00
      91.391     0.997266         1494       365.71
     107.007     0.997656         1495       426.67
     110.399     0.998047         1496       512.00
     110.399     0.998242         1496       568.89
     110.399     0.998437         1496       640.00
     110.399     0.998633         1496       731.43
     111.871     0.998828         1497       853.33
     111.871     0.999023         1497      1024.00
     111.871     0.999121         1497      1137.78
     111.871     0.999219         1497      1280.00
     111.871     0.999316         1497      1462.86
     117.119     0.999414         1498      1706.67
     117.119     1.000000         1498          inf
#[Mean    =       36.629, StdDeviation   =       21.257]
#[Max     =      117.056, Total count    =         1498]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1802 requests in 1.00m, 26.35MB read
Requests/sec:     30.02
Transfer/sec:    449.58KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 38.322ms, rate sampling interval: 134ms
  Thread calibration: mean lat.: 42.648ms, rate sampling interval: 160ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    40.90ms   36.07ms 634.37ms   91.84%
    Req/Sec    14.79     14.33    45.00     74.02%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   25.97ms
 75.000%   59.74ms
 90.000%   72.45ms
 99.000%  124.67ms
 99.900%  435.45ms
 99.990%  634.88ms
 99.999%  634.88ms
100.000%  634.88ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.119     0.000000            1         1.00
      14.879     0.100000          330         1.11
      17.871     0.200000          660         1.25
      20.191     0.300000          992         1.43
      22.959     0.400000         1320         1.67
      25.967     0.500000         1649         2.00
      31.327     0.550000         1815         2.22
      41.119     0.600000         1980         2.50
      50.751     0.650000         2144         2.86
      55.775     0.700000         2308         3.33
      59.743     0.750000         2473         4.00
      61.599     0.775000         2556         4.44
      62.943     0.800000         2640         5.00
      64.031     0.825000         2723         5.71
      66.111     0.850000         2805         6.67
      68.671     0.875000         2886         8.00
      70.399     0.887500         2927         8.89
      72.447     0.900000         2968        10.00
      75.903     0.912500         3010        11.43
      79.231     0.925000         3050        13.33
      83.007     0.937500         3091        16.00
      85.247     0.943750         3113        17.78
      87.359     0.950000         3133        20.00
      90.303     0.956250         3153        22.86
      92.543     0.962500         3174        26.67
      95.295     0.968750         3194        32.00
      97.983     0.971875         3205        35.56
      99.775     0.975000         3215        40.00
     102.719     0.978125         3225        45.71
     105.215     0.981250         3237        53.33
     107.647     0.984375         3246        64.00
     108.287     0.985938         3251        71.11
     112.191     0.987500         3256        80.00
     122.303     0.989062         3261        91.43
     137.343     0.990625         3267       106.67
     156.159     0.992188         3272       128.00
     180.863     0.992969         3274       142.22
     194.687     0.993750         3277       160.00
     198.783     0.994531         3279       182.86
     208.511     0.995313         3282       213.33
     260.351     0.996094         3285       256.00
     269.567     0.996484         3286       284.44
     274.431     0.996875         3287       320.00
     335.359     0.997266         3288       365.71
     356.095     0.997656         3290       426.67
     361.471     0.998047         3291       512.00
     374.527     0.998242         3292       568.89
     374.527     0.998437         3292       640.00
     417.279     0.998633         3293       731.43
     435.455     0.998828         3294       853.33
     435.455     0.999023         3294      1024.00
     603.135     0.999121         3295      1137.78
     603.135     0.999219         3295      1280.00
     603.135     0.999316         3295      1462.86
     634.367     0.999414         3296      1706.67
     634.367     0.999512         3296      2048.00
     634.367     0.999561         3296      2275.56
     634.367     0.999609         3296      2560.00
     634.367     0.999658         3296      2925.71
     634.879     0.999707         3297      3413.33
     634.879     1.000000         3297          inf
#[Mean    =       40.898, StdDeviation   =       36.074]
#[Max     =      634.368, Total count    =         3297]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3602 requests in 2.00m, 52.68MB read
Requests/sec:     30.01
Transfer/sec:    449.40KB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=50...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 4604.016ms, rate sampling interval: 15482ms
  Thread calibration: mean lat.: 3085.122ms, rate sampling interval: 9846ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.39s     2.42s   10.11s    83.35%
    Req/Sec    27.50      3.97    36.00     87.50%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   89.34ms
 75.000%    1.48s 
 90.000%    5.69s 
 99.000%    9.10s 
 99.900%    9.95s 
 99.990%   10.12s 
 99.999%   10.12s 
100.000%   10.12s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      14.023     0.000000            1         1.00
      22.559     0.100000          280         1.11
      28.463     0.200000          560         1.25
      62.111     0.300000          840         1.43
      78.207     0.400000         1120         1.67
      89.343     0.500000         1399         2.00
      98.047     0.550000         1541         2.22
     171.391     0.600000         1679         2.50
     200.831     0.650000         1819         2.86
     567.295     0.700000         1959         3.33
    1481.727     0.750000         2099         4.00
    2083.839     0.775000         2169         4.44
    2912.255     0.800000         2239         5.00
    3612.671     0.825000         2309         5.71
    4321.279     0.850000         2379         6.67
    5115.903     0.875000         2449         8.00
    5414.911     0.887500         2485         8.89
    5697.535     0.900000         2519        10.00
    5988.351     0.912500         2555        11.43
    6307.839     0.925000         2590        13.33
    6799.359     0.937500         2624        16.00
    7081.983     0.943750         2641        17.78
    7303.167     0.950000         2659        20.00
    7499.775     0.956250         2676        22.86
    7671.807     0.962500         2694        26.67
    7811.071     0.968750         2711        32.00
    7938.047     0.971875         2721        35.56
    8056.831     0.975000         2729        40.00
    8118.271     0.978125         2737        45.71
    8282.111     0.981250         2746        53.33
    8478.719     0.984375         2755        64.00
    8544.255     0.985938         2759        71.11
    8757.247     0.987500         2764        80.00
    9003.007     0.989062         2768        91.43
    9175.039     0.990625         2772       106.67
    9306.111     0.992188         2777       128.00
    9338.879     0.992969         2779       142.22
    9420.799     0.993750         2781       160.00
    9519.103     0.994531         2784       182.86
    9543.679     0.995313         2785       213.33
    9633.791     0.996094         2788       256.00
    9699.327     0.996484         2789       284.44
    9723.903     0.996875         2790       320.00
    9789.439     0.997266         2792       365.71
    9789.439     0.997656         2792       426.67
    9797.631     0.998047         2793       512.00
    9846.783     0.998242         2794       568.89
    9846.783     0.998437         2794       640.00
    9945.087     0.998633         2795       731.43
    9945.087     0.998828         2795       853.33
   10027.007     0.999023         2796      1024.00
   10027.007     0.999121         2796      1137.78
   10027.007     0.999219         2796      1280.00
   10092.543     0.999316         2797      1462.86
   10092.543     0.999414         2797      1706.67
   10092.543     0.999512         2797      2048.00
   10092.543     0.999561         2797      2275.56
   10092.543     0.999609         2797      2560.00
   10117.119     0.999658         2798      2925.71
   10117.119     1.000000         2798          inf
#[Mean    =     1386.721, StdDeviation   =     2418.942]
#[Max     =    10108.928, Total count    =         2798]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3002 requests in 1.00m, 43.90MB read
  Socket errors: connect 0, read 0, write 0, timeout 21
Requests/sec:     50.01
Transfer/sec:    748.92KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 64.678ms, rate sampling interval: 299ms
  Thread calibration: mean lat.: 52.676ms, rate sampling interval: 229ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    51.25ms   32.75ms 235.90ms   78.52%
    Req/Sec    24.49      5.32    43.00     80.40%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   40.45ms
 75.000%   67.90ms
 90.000%  103.04ms
 99.000%  152.06ms
 99.900%  168.06ms
 99.990%  169.73ms
 99.999%  236.03ms
100.000%  236.03ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.967     0.000000            1         1.00
      19.711     0.100000          550         1.11
      23.583     0.200000         1100         1.25
      26.591     0.300000         1652         1.43
      31.135     0.400000         2202         1.67
      40.447     0.500000         2749         2.00
      49.087     0.550000         3024         2.22
      55.007     0.600000         3301         2.50
      61.151     0.650000         3576         2.86
      64.703     0.700000         3851         3.33
      67.903     0.750000         4125         4.00
      69.887     0.775000         4269         4.44
      72.063     0.800000         4404         5.00
      74.879     0.825000         4537         5.71
      80.255     0.850000         4675         6.67
      95.679     0.875000         4811         8.00
     100.735     0.887500         4880         8.89
     103.039     0.900000         4950        10.00
     105.855     0.912500         5017        11.43
     110.015     0.925000         5086        13.33
     113.535     0.937500         5155        16.00
     114.879     0.943750         5190        17.78
     117.439     0.950000         5225        20.00
     120.895     0.956250         5258        22.86
     123.327     0.962500         5292        26.67
     130.239     0.968750         5327        32.00
     132.735     0.971875         5344        35.56
     135.807     0.975000         5361        40.00
     138.751     0.978125         5378        45.71
     143.487     0.981250         5395        53.33
     147.071     0.984375         5413        64.00
     148.223     0.985938         5421        71.11
     149.375     0.987500         5430        80.00
     150.783     0.989062         5438        91.43
     152.703     0.990625         5447       106.67
     154.623     0.992188         5457       128.00
     155.903     0.992969         5460       142.22
     156.671     0.993750         5464       160.00
     157.311     0.994531         5469       182.86
     158.079     0.995313         5473       213.33
     158.847     0.996094         5477       256.00
     160.255     0.996484         5479       284.44
     160.639     0.996875         5482       320.00
     161.279     0.997266         5483       365.71
     162.175     0.997656         5486       426.67
     162.431     0.998047         5488       512.00
     162.559     0.998242         5489       568.89
     166.015     0.998437         5490       640.00
     166.911     0.998633         5491       731.43
     167.679     0.998828         5492       853.33
     168.063     0.999023         5494      1024.00
     168.063     0.999121         5494      1137.78
     168.063     0.999219         5494      1280.00
     168.703     0.999316         5495      1462.86
     168.703     0.999414         5495      1706.67
     169.599     0.999512         5496      2048.00
     169.599     0.999561         5496      2275.56
     169.599     0.999609         5496      2560.00
     169.727     0.999658         5497      2925.71
     169.727     0.999707         5497      3413.33
     169.727     0.999756         5497      4096.00
     169.727     0.999780         5497      4551.11
     169.727     0.999805         5497      5120.00
     236.031     0.999829         5498      5851.43
     236.031     1.000000         5498          inf
#[Mean    =       51.251, StdDeviation   =       32.753]
#[Max     =      235.904, Total count    =         5498]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  6002 requests in 2.00m, 87.77MB read
Requests/sec:     50.00
Transfer/sec:    748.79KB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-1', 'details-2'], 18)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 20)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 138)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 15)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 38)
filtered_path (['productpage-1', 'details-4'], 17)
filtered_path (['productpage-1', 'details-3'], 20)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 137)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 15)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 38)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 20)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 137)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 17)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 40)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 22)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 137)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 17)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 40)
filtered_path (['productpage-1', 'details-1'], 20)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 21)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 137)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 15)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 38)
filtered_path (['productpage-3', 'details-2'], 17)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 63)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 18)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 15)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 8)
filtered_path (['productpage-3', 'details-4'], 15)
filtered_path (['productpage-3', 'details-3'], 16)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 62)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 18)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 16)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 8)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 62)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 20)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 15)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 10)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 62)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 20)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 17)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 10)
filtered_path (['productpage-3', 'details-1'], 16)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 62)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 18)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 8)
filtered_path (['productpage-2', 'details-2'], 10)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 16)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 15)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 31)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 3051)
filtered_path (['productpage-2', 'details-4'], 8)
filtered_path (['productpage-2', 'details-3'], 10)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 17)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 15)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 31)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 3050)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 16)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 17)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 33)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 3050)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 18)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 17)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 33)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 3050)
filtered_path (['productpage-2', 'details-1'], 11)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 17)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 15)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 31)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 3050)
filtered_path (['productpage-4', 'details-2'], 5)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 21)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 95)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 7)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 19)
filtered_path (['productpage-4', 'details-4'], 5)
filtered_path (['productpage-4', 'details-3'], 7)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 22)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 94)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 19)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 21)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 94)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 21)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 23)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 94)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 21)
filtered_path (['productpage-4', 'details-1'], 3)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 22)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 94)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 19)
filtered_path (['productpage-5', 'details-2'], 13)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 67)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 17)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 17)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 10)
filtered_path (['productpage-5', 'details-4'], 9)
filtered_path (['productpage-5', 'details-3'], 13)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 66)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 17)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 18)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 66)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 19)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 12)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 66)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 19)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 19)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 12)
filtered_path (['productpage-5', 'details-1'], 13)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 66)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 17)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 18)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 10)
original graph map
Node: details-2
  Upstream: ['productpage-1', 'productpage-3', 'productpage-5', 'productpage-2', 'productpage-4']
  Downstream: []
Node: productpage-1
  Upstream: []
  Downstream: ['details-3', 'details-2', 'details-1', 'details-4', 'reviews-3', 'reviews-1', 'reviews-4', 'reviews-2']
Node: productpage-3
  Upstream: []
  Downstream: ['details-2', 'details-1', 'details-3', 'details-4', 'reviews-1', 'reviews-2', 'reviews-3', 'reviews-4']
Node: reviews-2
  Upstream: ['productpage-3', 'productpage-5', 'productpage-2', 'productpage-1', 'productpage-4']
  Downstream: ['ratings-1', 'ratings-5', 'ratings-2', 'ratings-3', 'ratings-4']
Node: reviews-1
  Upstream: ['productpage-3', 'productpage-5', 'productpage-1', 'productpage-4', 'productpage-2']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-3', 'ratings-4', 'ratings-5']
Node: productpage-2
  Upstream: []
  Downstream: ['details-4', 'reviews-3', 'reviews-4', 'details-1', 'details-2', 'details-3', 'reviews-2', 'reviews-1']
Node: ratings-4
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: ['ratings-1', 'ratings-5', 'ratings-2', 'ratings-3', 'ratings-4']
Node: details-4
  Upstream: ['productpage-2', 'productpage-1', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: []
Node: details-3
  Upstream: ['productpage-1', 'productpage-5', 'productpage-3', 'productpage-2', 'productpage-4']
  Downstream: []
Node: ratings-2
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-3', 'reviews-2', 'reviews-4', 'reviews-1']
  Downstream: []
Node: productpage-4
  Upstream: []
  Downstream: ['details-1', 'reviews-3', 'reviews-1', 'details-2', 'reviews-4', 'reviews-2', 'details-3', 'details-4']
Node: ratings-1
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: productpage-5
  Upstream: []
  Downstream: ['details-3', 'details-2', 'details-4', 'reviews-1', 'reviews-2', 'reviews-3', 'reviews-4', 'details-1']
Node: reviews-3
  Upstream: ['productpage-4', 'productpage-1', 'productpage-5', 'productpage-2', 'productpage-3']
  Downstream: ['ratings-2', 'ratings-3', 'ratings-1', 'ratings-4', 'ratings-5']
Node: details-1
  Upstream: ['productpage-4', 'productpage-1', 'productpage-3', 'productpage-2', 'productpage-5']
  Downstream: []
Node: ratings-3
  Upstream: ['reviews-3', 'reviews-4', 'reviews-2', 'reviews-1']
  Downstream: []
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=50...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 37.506ms, rate sampling interval: 135ms
  Thread calibration: mean lat.: 32.993ms, rate sampling interval: 130ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    58.77ms  125.25ms   1.86s    96.60%
    Req/Sec    24.64     14.18   100.00     73.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   31.39ms
 75.000%   58.43ms
 90.000%   75.78ms
 99.000%  739.84ms
 99.900%    1.58s 
 99.990%    1.86s 
 99.999%    1.86s 
100.000%    1.86s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      10.823     0.000000            1         1.00
      18.095     0.100000          250         1.11
      22.207     0.200000          500         1.25
      25.007     0.300000          752         1.43
      27.263     0.400000          999         1.67
      31.391     0.500000         1250         2.00
      35.007     0.550000         1374         2.22
      38.943     0.600000         1499         2.50
      42.463     0.650000         1624         2.86
      49.599     0.700000         1748         3.33
      58.431     0.750000         1873         4.00
      60.895     0.775000         1936         4.44
      62.559     0.800000         1998         5.00
      64.703     0.825000         2062         5.71
      67.263     0.850000         2124         6.67
      70.271     0.875000         2185         8.00
      73.023     0.887500         2217         8.89
      76.095     0.900000         2248        10.00
      78.463     0.912500         2282        11.43
      80.831     0.925000         2310        13.33
      88.255     0.937500         2341        16.00
      99.711     0.943750         2357        17.78
     102.911     0.950000         2373        20.00
     117.183     0.956250         2388        22.86
     136.959     0.962500         2404        26.67
     198.655     0.968750         2419        32.00
     276.735     0.971875         2427        35.56
     360.447     0.975000         2435        40.00
     392.959     0.978125         2443        45.71
     513.535     0.981250         2451        53.33
     551.423     0.984375         2458        64.00
     569.343     0.985938         2462        71.11
     641.023     0.987500         2466        80.00
     698.367     0.989062         2470        91.43
     743.423     0.990625         2474       106.67
     756.223     0.992188         2478       128.00
     820.223     0.992969         2480       142.22
     877.055     0.993750         2482       160.00
     892.415     0.994531         2484       182.86
     935.935     0.995313         2486       213.33
    1071.103     0.996094         2488       256.00
    1116.159     0.996484         2489       284.44
    1248.255     0.996875         2490       320.00
    1272.831     0.997266         2491       365.71
    1290.239     0.997656         2492       426.67
    1393.663     0.998047         2493       512.00
    1393.663     0.998242         2493       568.89
    1416.191     0.998437         2494       640.00
    1416.191     0.998633         2494       731.43
    1583.103     0.998828         2495       853.33
    1583.103     0.999023         2495      1024.00
    1583.103     0.999121         2495      1137.78
    1722.367     0.999219         2496      1280.00
    1722.367     0.999316         2496      1462.86
    1722.367     0.999414         2496      1706.67
    1722.367     0.999512         2496      2048.00
    1722.367     0.999561         2496      2275.56
    1864.703     0.999609         2497      2560.00
    1864.703     1.000000         2497          inf
#[Mean    =       58.771, StdDeviation   =      125.246]
#[Max     =     1863.680, Total count    =         2497]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  3001 requests in 1.00m, 43.88MB read
Requests/sec:     50.00
Transfer/sec:    748.64KB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 33.547ms, rate sampling interval: 119ms
  Thread calibration: mean lat.: 39.153ms, rate sampling interval: 134ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    35.66ms   23.68ms 155.52ms   76.61%
    Req/Sec    24.69     14.07    45.00     60.30%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   23.58ms
 75.000%   54.33ms
 90.000%   64.64ms
 99.000%  113.28ms
 99.900%  121.73ms
 99.990%  125.25ms
 99.999%  155.65ms
100.000%  155.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       9.055     0.000000            1         1.00
      13.463     0.100000          554         1.11
      16.239     0.200000         1100         1.25
      18.895     0.300000         1650         1.43
      21.007     0.400000         2202         1.67
      23.583     0.500000         2749         2.00
      28.639     0.550000         3024         2.22
      33.375     0.600000         3300         2.50
      42.335     0.650000         3575         2.86
      50.399     0.700000         3849         3.33
      54.335     0.750000         4128         4.00
      55.935     0.775000         4265         4.44
      57.823     0.800000         4399         5.00
      59.615     0.825000         4536         5.71
      60.959     0.850000         4676         6.67
      62.655     0.875000         4814         8.00
      63.487     0.887500         4880         8.89
      64.671     0.900000         4949        10.00
      66.175     0.912500         5018        11.43
      68.287     0.925000         5087        13.33
      73.727     0.937500         5155        16.00
      79.231     0.943750         5189        17.78
      82.303     0.950000         5224        20.00
      85.247     0.956250         5259        22.86
      87.423     0.962500         5292        26.67
      89.855     0.968750         5328        32.00
      91.839     0.971875         5344        35.56
      92.991     0.975000         5361        40.00
      95.999     0.978125         5378        45.71
     108.415     0.981250         5395        53.33
     109.887     0.984375         5414        64.00
     110.335     0.985938         5421        71.11
     111.359     0.987500         5430        80.00
     112.767     0.989062         5438        91.43
     113.727     0.990625         5447       106.67
     114.815     0.992188         5456       128.00
     115.135     0.992969         5461       142.22
     115.455     0.993750         5465       160.00
     115.967     0.994531         5468       182.86
     116.991     0.995313         5473       213.33
     117.247     0.996094         5477       256.00
     118.207     0.996484         5479       284.44
     118.655     0.996875         5482       320.00
     118.847     0.997266         5484       365.71
     119.103     0.997656         5487       426.67
     119.423     0.998047         5488       512.00
     119.615     0.998242         5489       568.89
     120.575     0.998437         5490       640.00
     120.831     0.998633         5491       731.43
     121.343     0.998828         5492       853.33
     121.727     0.999023         5493      1024.00
     122.751     0.999121         5494      1137.78
     122.751     0.999219         5494      1280.00
     122.879     0.999316         5495      1462.86
     122.879     0.999414         5495      1706.67
     124.799     0.999512         5496      2048.00
     124.799     0.999561         5496      2275.56
     124.799     0.999609         5496      2560.00
     125.247     0.999658         5497      2925.71
     125.247     0.999707         5497      3413.33
     125.247     0.999756         5497      4096.00
     125.247     0.999780         5497      4551.11
     125.247     0.999805         5497      5120.00
     155.647     0.999829         5498      5851.43
     155.647     1.000000         5498          inf
#[Mean    =       35.665, StdDeviation   =       23.676]
#[Max     =      155.520, Total count    =         5498]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  6001 requests in 2.00m, 87.76MB read
Requests/sec:     50.00
Transfer/sec:    748.67KB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=80...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 5933.527ms, rate sampling interval: 17907ms
  Thread calibration: mean lat.: 3138.930ms, rate sampling interval: 10354ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     5.34s     4.66s   15.02s    52.39%
    Req/Sec    44.83      6.67    54.00     50.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.62s 
 75.000%    9.39s 
 90.000%   12.30s 
 99.000%   14.38s 
 99.900%   14.82s 
 99.990%   15.03s 
 99.999%   15.03s 
100.000%   15.03s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      11.463     0.000000            1         1.00
      40.959     0.100000          460         1.11
      91.327     0.200000          920         1.25
    1436.671     0.300000         1380         1.43
    2766.847     0.400000         1841         1.67
    4624.383     0.500000         2299         2.00
    5328.895     0.550000         2529         2.22
    6123.519     0.600000         2759         2.50
    7233.535     0.650000         2991         2.86
    8790.015     0.700000         3221         3.33
    9388.031     0.750000         3450         4.00
    9682.943     0.775000         3564         4.44
   10272.767     0.800000         3679         5.00
   10788.863     0.825000         3796         5.71
   11304.959     0.850000         3909         6.67
   11919.359     0.875000         4025         8.00
   12132.351     0.887500         4083         8.89
   12296.191     0.900000         4139        10.00
   12517.375     0.912500         4196        11.43
   12828.671     0.925000         4254        13.33
   13254.655     0.937500         4311        16.00
   13426.687     0.943750         4343        17.78
   13582.335     0.950000         4369        20.00
   13729.791     0.956250         4397        22.86
   13852.671     0.962500         4426        26.67
   13950.975     0.968750         4455        32.00
   14024.703     0.971875         4472        35.56
   14065.663     0.975000         4485        40.00
   14131.199     0.978125         4498        45.71
   14180.351     0.981250         4512        53.33
   14254.079     0.984375         4530        64.00
   14270.463     0.985938         4536        71.11
   14311.423     0.987500         4541        80.00
   14352.383     0.989062         4549        91.43
   14401.535     0.990625         4555       106.67
   14458.879     0.992188         4563       128.00
   14475.263     0.992969         4567       142.22
   14516.223     0.993750         4570       160.00
   14524.415     0.994531         4573       182.86
   14598.143     0.995313         4578       213.33
   14647.295     0.996094         4582       256.00
   14647.295     0.996484         4582       284.44
   14696.447     0.996875         4584       320.00
   14737.407     0.997266         4587       365.71
   14745.599     0.997656         4589       426.67
   14778.367     0.998047         4591       512.00
   14778.367     0.998242         4591       568.89
   14778.367     0.998437         4591       640.00
   14794.751     0.998633         4592       731.43
   14819.327     0.998828         4593       853.33
   14843.903     0.999023         4594      1024.00
   14843.903     0.999121         4594      1137.78
   14852.095     0.999219         4595      1280.00
   14852.095     0.999316         4595      1462.86
   14868.479     0.999414         4596      1706.67
   14868.479     0.999512         4596      2048.00
   14868.479     0.999561         4596      2275.56
   14917.631     0.999609         4597      2560.00
   14917.631     0.999658         4597      2925.71
   14917.631     0.999707         4597      3413.33
   14917.631     0.999756         4597      4096.00
   14917.631     0.999780         4597      4551.11
   15032.319     0.999805         4598      5120.00
   15032.319     1.000000         4598          inf
#[Mean    =     5339.977, StdDeviation   =     4663.462]
#[Max     =    15024.128, Total count    =         4598]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  4801 requests in 1.00m, 70.19MB read
  Socket errors: connect 0, read 0, write 0, timeout 21
Requests/sec:     79.98
Transfer/sec:      1.17MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 54.299ms, rate sampling interval: 193ms
  Thread calibration: mean lat.: 59.450ms, rate sampling interval: 219ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    46.08ms   30.15ms 219.39ms   76.20%
    Req/Sec    39.63      6.35    59.00     75.89%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   36.80ms
 75.000%   66.24ms
 90.000%   84.54ms
 99.000%  139.13ms
 99.900%  175.62ms
 99.990%  208.51ms
 99.999%  219.52ms
100.000%  219.52ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       9.167     0.000000            1         1.00
      16.023     0.100000          880         1.11
      19.071     0.200000         1761         1.25
      21.775     0.300000         2641         1.43
      26.175     0.400000         3521         1.67
      36.799     0.500000         4400         2.00
      42.815     0.550000         4842         2.22
      54.047     0.600000         5280         2.50
      60.223     0.650000         5721         2.86
      63.551     0.700000         6163         3.33
      66.239     0.750000         6601         4.00
      67.775     0.775000         6827         4.44
      69.695     0.800000         7043         5.00
      72.191     0.825000         7260         5.71
      74.943     0.850000         7481         6.67
      78.463     0.875000         7703         8.00
      81.279     0.887500         7810         8.89
      84.543     0.900000         7920        10.00
      87.871     0.912500         8030        11.43
      91.839     0.925000         8140        13.33
      97.407     0.937500         8252        16.00
      99.967     0.943750         8305        17.78
     103.999     0.950000         8362        20.00
     106.559     0.956250         8416        22.86
     110.591     0.962500         8470        26.67
     114.047     0.968750         8527        32.00
     115.903     0.971875         8552        35.56
     117.567     0.975000         8580        40.00
     120.319     0.978125         8607        45.71
     123.967     0.981250         8637        53.33
     128.191     0.984375         8662        64.00
     131.007     0.985938         8676        71.11
     135.039     0.987500         8691        80.00
     136.703     0.989062         8703        91.43
     140.543     0.990625         8717       106.67
     143.359     0.992188         8731       128.00
     145.919     0.992969         8738       142.22
     148.095     0.993750         8745       160.00
     149.247     0.994531         8751       182.86
     150.655     0.995313         8758       213.33
     152.447     0.996094         8766       256.00
     153.343     0.996484         8769       284.44
     154.367     0.996875         8772       320.00
     155.391     0.997266         8775       365.71
     159.103     0.997656         8780       426.67
     160.255     0.998047         8782       512.00
     161.279     0.998242         8784       568.89
     167.551     0.998437         8786       640.00
     167.679     0.998633         8787       731.43
     170.879     0.998828         8789       853.33
     175.871     0.999023         8791      1024.00
     181.247     0.999121         8792      1137.78
     190.719     0.999219         8793      1280.00
     190.719     0.999316         8793      1462.86
     195.711     0.999414         8794      1706.67
     200.831     0.999512         8795      2048.00
     201.471     0.999561         8796      2275.56
     201.471     0.999609         8796      2560.00
     201.471     0.999658         8796      2925.71
     201.855     0.999707         8797      3413.33
     201.855     0.999756         8797      4096.00
     208.511     0.999780         8798      4551.11
     208.511     0.999805         8798      5120.00
     208.511     0.999829         8798      5851.43
     208.511     0.999854         8798      6826.67
     208.511     0.999878         8798      8192.00
     219.519     0.999890         8799      9102.22
     219.519     1.000000         8799          inf
#[Mean    =       46.084, StdDeviation   =       30.145]
#[Max     =      219.392, Total count    =         8799]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  9602 requests in 2.00m, 140.42MB read
Requests/sec:     80.00
Transfer/sec:      1.17MB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 10)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 62)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 19)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 18)
filtered_path (['productpage-3', 'details-3'], 17)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 10)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 60)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 18)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 18)
filtered_path (['productpage-3', 'details-4'], 20)
filtered_path (['productpage-3', 'details-2'], 21)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 60)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 19)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 19)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 61)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 18)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 18)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 61)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 20)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 17)
filtered_path (['productpage-3', 'details-1'], 21)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 25)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 8)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 76)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 27)
filtered_path (['productpage-2', 'details-3'], 13)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 25)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 8)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 74)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 26)
filtered_path (['productpage-2', 'details-4'], 16)
filtered_path (['productpage-2', 'details-2'], 6)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 26)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 7)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 74)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 27)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 25)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 7)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 75)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 26)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 24)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 75)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 28)
filtered_path (['productpage-2', 'details-1'], 13)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 11)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 29)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 23)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 79)
filtered_path (['productpage-1', 'details-3'], 16)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 11)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 28)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 23)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 77)
filtered_path (['productpage-1', 'details-4'], 17)
filtered_path (['productpage-1', 'details-2'], 17)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 10)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 29)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 24)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 77)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 10)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 28)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 23)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 78)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 10)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 30)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 22)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 78)
filtered_path (['productpage-1', 'details-1'], 16)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 78)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 26)
filtered_path (['productpage-4', 'details-3'], 11)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 76)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 25)
filtered_path (['productpage-4', 'details-4'], 8)
filtered_path (['productpage-4', 'details-2'], 12)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 76)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 27)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 26)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 77)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 26)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 25)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 77)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 25)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 6)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 27)
filtered_path (['productpage-4', 'details-1'], 9)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 11)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 32)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 81)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 27)
filtered_path (['productpage-5', 'details-3'], 15)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 11)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 31)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 79)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 27)
filtered_path (['productpage-5', 'details-4'], 15)
filtered_path (['productpage-5', 'details-2'], 17)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 10)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 32)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 79)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 28)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 10)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 31)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 80)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 27)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 10)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 33)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 80)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 26)
filtered_path (['productpage-5', 'details-1'], 15)
original graph map
Node: productpage-3
  Upstream: []
  Downstream: ['reviews-4', 'details-3', 'details-4', 'details-2', 'reviews-1', 'reviews-3', 'reviews-2', 'details-1']
Node: reviews-1
  Upstream: ['productpage-4', 'productpage-1', 'productpage-2', 'productpage-3', 'productpage-5']
  Downstream: ['ratings-3', 'ratings-1', 'ratings-2', 'ratings-4', 'ratings-5']
Node: productpage-2
  Upstream: []
  Downstream: ['details-2', 'details-3', 'details-1', 'reviews-2', 'reviews-4', 'details-4', 'reviews-1', 'reviews-3']
Node: ratings-3
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: details-3
  Upstream: ['productpage-2', 'productpage-3', 'productpage-4', 'productpage-1', 'productpage-5']
  Downstream: []
Node: productpage-1
  Upstream: []
  Downstream: ['reviews-4', 'reviews-3', 'details-4', 'details-1', 'details-2', 'details-3', 'reviews-2', 'reviews-1']
Node: ratings-2
  Upstream: ['reviews-3', 'reviews-2', 'reviews-4', 'reviews-1']
  Downstream: []
Node: details-4
  Upstream: ['productpage-1', 'productpage-2', 'productpage-3', 'productpage-5', 'productpage-4']
  Downstream: []
Node: productpage-4
  Upstream: []
  Downstream: ['details-2', 'details-3', 'reviews-1', 'reviews-2', 'reviews-4', 'reviews-3', 'details-4', 'details-1']
Node: reviews-3
  Upstream: ['productpage-1', 'productpage-5', 'productpage-2', 'productpage-3', 'productpage-4']
  Downstream: ['ratings-2', 'ratings-4', 'ratings-3', 'ratings-5', 'ratings-1']
Node: details-2
  Upstream: ['productpage-2', 'productpage-4', 'productpage-5', 'productpage-1', 'productpage-3']
  Downstream: []
Node: ratings-1
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
Node: reviews-2
  Upstream: ['productpage-2', 'productpage-1', 'productpage-4', 'productpage-5', 'productpage-3']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-4', 'ratings-3', 'ratings-5']
Node: ratings-4
  Upstream: ['reviews-4', 'reviews-3', 'reviews-2', 'reviews-1']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-4', 'reviews-2', 'reviews-3', 'reviews-1']
  Downstream: []
Node: productpage-5
  Upstream: []
  Downstream: ['details-1', 'details-2', 'reviews-4', 'reviews-3', 'details-4', 'reviews-1', 'details-3', 'reviews-2']
Node: details-1
  Upstream: ['productpage-5', 'productpage-2', 'productpage-1', 'productpage-4', 'productpage-3']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-1', 'productpage-3', 'productpage-5', 'productpage-2', 'productpage-4']
  Downstream: ['ratings-1', 'ratings-4', 'ratings-5', 'ratings-2', 'ratings-3']
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=80...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 58.409ms, rate sampling interval: 194ms
  Thread calibration: mean lat.: 75.233ms, rate sampling interval: 368ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    60.98ms  101.60ms 833.54ms   94.13%
    Req/Sec    39.52      6.32    77.00     77.55%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   25.10ms
 75.000%   63.36ms
 90.000%  103.36ms
 99.000%  633.85ms
 99.900%  809.98ms
 99.990%  834.05ms
 99.999%  834.05ms
100.000%  834.05ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.911     0.000000            1         1.00
      12.775     0.100000          399         1.11
      14.807     0.200000          797         1.25
      17.615     0.300000         1197         1.43
      20.351     0.400000         1599         1.67
      25.103     0.500000         1992         2.00
      34.239     0.550000         2191         2.22
      52.959     0.600000         2390         2.50
      56.959     0.650000         2589         2.86
      60.159     0.700000         2789         3.33
      63.359     0.750000         2989         4.00
      65.215     0.775000         3088         4.44
      68.991     0.800000         3187         5.00
      73.151     0.825000         3287         5.71
      80.767     0.850000         3386         6.67
      91.711     0.875000         3486         8.00
      96.959     0.887500         3535         8.89
     103.359     0.900000         3585        10.00
     114.495     0.912500         3635        11.43
     132.351     0.925000         3685        13.33
     156.415     0.937500         3735        16.00
     171.391     0.943750         3759        17.78
     197.631     0.950000         3784        20.00
     237.311     0.956250         3809        22.86
     279.551     0.962500         3834        26.67
     335.615     0.968750         3859        32.00
     353.791     0.971875         3871        35.56
     382.207     0.975000         3884        40.00
     414.463     0.978125         3896        45.71
     438.783     0.981250         3909        53.33
     491.007     0.984375         3921        64.00
     524.287     0.985938         3927        71.11
     559.103     0.987500         3934        80.00
     616.447     0.989062         3940        91.43
     656.895     0.990625         3946       106.67
     722.431     0.992188         3952       128.00
     731.135     0.992969         3955       142.22
     746.495     0.993750         3959       160.00
     758.783     0.994531         3962       182.86
     763.903     0.995313         3965       213.33
     774.655     0.996094         3968       256.00
     777.727     0.996484         3969       284.44
     785.407     0.996875         3971       320.00
     787.967     0.997266         3973       365.71
     797.183     0.997656         3974       426.67
     800.767     0.998047         3976       512.00
     800.767     0.998242         3976       568.89
     809.983     0.998437         3979       640.00
     809.983     0.998633         3979       731.43
     809.983     0.998828         3979       853.33
     816.127     0.999023         3980      1024.00
     816.127     0.999121         3980      1137.78
     816.127     0.999219         3980      1280.00
     817.663     0.999316         3981      1462.86
     817.663     0.999414         3981      1706.67
     828.415     0.999512         3982      2048.00
     828.415     0.999561         3982      2275.56
     828.415     0.999609         3982      2560.00
     828.415     0.999658         3982      2925.71
     828.415     0.999707         3982      3413.33
     834.047     0.999756         3983      4096.00
     834.047     1.000000         3983          inf
#[Mean    =       60.984, StdDeviation   =      101.600]
#[Max     =      833.536, Total count    =         3983]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  4789 requests in 1.00m, 70.03MB read
Requests/sec:     79.79
Transfer/sec:      1.17MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 53.398ms, rate sampling interval: 177ms
  Thread calibration: mean lat.: 39.698ms, rate sampling interval: 156ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    45.52ms   28.54ms 182.53ms   52.44%
    Req/Sec    39.67      7.10    64.00     81.72%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   45.85ms
 75.000%   66.24ms
 90.000%   87.42ms
 99.000%  104.70ms
 99.900%  118.27ms
 99.990%  180.86ms
 99.999%  182.65ms
100.000%  182.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.187     0.000000            1         1.00
      12.159     0.100000          880         1.11
      14.175     0.200000         1761         1.25
      19.151     0.300000         2641         1.43
      36.319     0.400000         3520         1.67
      45.855     0.500000         4401         2.00
      48.831     0.550000         4842         2.22
      52.191     0.600000         5284         2.50
      55.103     0.650000         5723         2.86
      58.879     0.700000         6160         3.33
      66.239     0.750000         6600         4.00
      71.167     0.775000         6822         4.44
      75.839     0.800000         7042         5.00
      79.423     0.825000         7260         5.71
      82.303     0.850000         7486         6.67
      84.927     0.875000         7706         8.00
      86.143     0.887500         7810         8.89
      87.423     0.900000         7922        10.00
      88.703     0.912500         8034        11.43
      90.239     0.925000         8143        13.33
      91.839     0.937500         8254        16.00
      92.415     0.943750         8306        17.78
      93.439     0.950000         8363        20.00
      94.399     0.956250         8416        22.86
      95.551     0.962500         8470        26.67
      97.215     0.968750         8527        32.00
      97.855     0.971875         8552        35.56
      98.495     0.975000         8583        40.00
      99.199     0.978125         8608        45.71
     100.031     0.981250         8637        53.33
     101.183     0.984375         8662        64.00
     102.207     0.985938         8676        71.11
     103.103     0.987500         8690        80.00
     104.191     0.989062         8703        91.43
     105.471     0.990625         8718       106.67
     108.159     0.992188         8731       128.00
     110.207     0.992969         8738       142.22
     111.039     0.993750         8745       160.00
     111.615     0.994531         8751       182.86
     112.255     0.995313         8758       213.33
     112.895     0.996094         8766       256.00
     113.279     0.996484         8769       284.44
     113.791     0.996875         8772       320.00
     114.111     0.997266         8775       365.71
     114.367     0.997656         8779       426.67
     116.031     0.998047         8782       512.00
     116.159     0.998242         8784       568.89
     116.351     0.998437         8786       640.00
     116.607     0.998633         8787       731.43
     117.375     0.998828         8789       853.33
     121.663     0.999023         8791      1024.00
     138.879     0.999121         8792      1137.78
     139.135     0.999219         8793      1280.00
     139.135     0.999316         8793      1462.86
     148.991     0.999414         8794      1706.67
     151.679     0.999512         8795      2048.00
     160.255     0.999561         8796      2275.56
     160.255     0.999609         8796      2560.00
     160.255     0.999658         8796      2925.71
     175.743     0.999707         8797      3413.33
     175.743     0.999756         8797      4096.00
     180.863     0.999780         8798      4551.11
     180.863     0.999805         8798      5120.00
     180.863     0.999829         8798      5851.43
     180.863     0.999854         8798      6826.67
     180.863     0.999878         8798      8192.00
     182.655     0.999890         8799      9102.22
     182.655     1.000000         8799          inf
#[Mean    =       45.525, StdDeviation   =       28.535]
#[Max     =      182.528, Total count    =         8799]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  9602 requests in 2.00m, 140.42MB read
Requests/sec:     80.00
Transfer/sec:      1.17MB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=100...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 4470.238ms, rate sampling interval: 13262ms
  Thread calibration: mean lat.: 4602.243ms, rate sampling interval: 11493ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     6.87s     3.74s   13.37s    60.94%
    Req/Sec    50.57      7.78    61.00     71.43%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    7.04s 
 75.000%   10.13s 
 90.000%   11.85s 
 99.000%   13.04s 
 99.900%   13.33s 
 99.990%   13.38s 
 99.999%   13.38s 
100.000%   13.38s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

      12.055     0.000000            1         1.00
     798.719     0.100000          523         1.11
    3534.847     0.200000         1045         1.25
    5136.383     0.300000         1573         1.43
    5955.583     0.400000         2090         1.67
    7041.023     0.500000         2614         2.00
    7438.335     0.550000         2878         2.22
    8077.311     0.600000         3135         2.50
    8617.983     0.650000         3399         2.86
    9461.759     0.700000         3659         3.33
   10125.311     0.750000         3924         4.00
   10371.071     0.775000         4053         4.44
   10698.751     0.800000         4184         5.00
   10960.895     0.825000         4316         5.71
   11255.807     0.850000         4442         6.67
   11460.607     0.875000         4573         8.00
   11657.215     0.887500         4642         8.89
   11845.631     0.900000         4709        10.00
   11968.511     0.912500         4768        11.43
   12091.391     0.925000         4836        13.33
   12238.847     0.937500         4902        16.00
   12279.807     0.943750         4940        17.78
   12361.727     0.950000         4973        20.00
   12443.647     0.956250         5001        22.86
   12484.607     0.962500         5032        26.67
   12558.335     0.968750         5062        32.00
   12640.255     0.971875         5079        35.56
   12738.559     0.975000         5096        40.00
   12804.095     0.978125         5111        45.71
   12861.439     0.981250         5133        53.33
   12886.015     0.984375         5144        64.00
   12935.167     0.985938         5154        71.11
   12951.551     0.987500         5160        80.00
   13000.703     0.989062         5168        91.43
   13066.239     0.990625         5177       106.67
   13131.775     0.992188         5188       128.00
   13139.967     0.992969         5191       142.22
   13156.351     0.993750         5194       160.00
   13172.735     0.994531         5198       182.86
   13221.887     0.995313         5203       213.33
   13230.079     0.996094         5207       256.00
   13230.079     0.996484         5207       284.44
   13238.271     0.996875         5209       320.00
   13254.655     0.997266         5211       365.71
   13271.039     0.997656         5216       426.67
   13271.039     0.998047         5216       512.00
   13271.039     0.998242         5216       568.89
   13279.231     0.998437         5217       640.00
   13328.383     0.998633         5220       731.43
   13328.383     0.998828         5220       853.33
   13328.383     0.999023         5220      1024.00
   13336.575     0.999121         5221      1137.78
   13336.575     0.999219         5221      1280.00
   13352.959     0.999316         5222      1462.86
   13352.959     0.999414         5222      1706.67
   13377.535     0.999512         5225      2048.00
   13377.535     1.000000         5225          inf
#[Mean    =     6870.419, StdDeviation   =     3741.359]
#[Max     =    13369.344, Total count    =         5225]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  5622 requests in 1.00m, 82.22MB read
  Socket errors: connect 0, read 0, write 0, timeout 11
Requests/sec:     93.66
Transfer/sec:      1.37MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 63.657ms, rate sampling interval: 262ms
  Thread calibration: mean lat.: 69.839ms, rate sampling interval: 280ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    50.55ms   36.93ms 339.46ms   81.01%
    Req/Sec    49.61      5.52    72.00     72.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   41.34ms
 75.000%   65.12ms
 90.000%  102.14ms
 99.000%  153.60ms
 99.900%  244.10ms
 99.990%  294.40ms
 99.999%  339.71ms
100.000%  339.71ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.807     0.000000            1         1.00
      15.863     0.100000         1104         1.11
      19.423     0.200000         2200         1.25
      22.911     0.300000         3300         1.43
      30.591     0.400000         4400         1.67
      41.343     0.500000         5500         2.00
      47.071     0.550000         6049         2.22
      54.559     0.600000         6603         2.50
      59.103     0.650000         7151         2.86
      61.983     0.700000         7703         3.33
      65.119     0.750000         8253         4.00
      67.327     0.775000         8527         4.44
      70.783     0.800000         8802         5.00
      77.631     0.825000         9074         5.71
      84.863     0.850000         9349         6.67
      93.247     0.875000         9624         8.00
      97.919     0.887500         9763         8.89
     102.207     0.900000         9901        10.00
     107.967     0.912500        10036        11.43
     113.855     0.925000        10174        13.33
     122.687     0.937500        10311        16.00
     126.975     0.943750        10380        17.78
     129.663     0.950000        10449        20.00
     132.095     0.956250        10519        22.86
     134.911     0.962500        10587        26.67
     137.343     0.968750        10655        32.00
     139.007     0.971875        10689        35.56
     140.415     0.975000        10724        40.00
     141.695     0.978125        10758        45.71
     143.359     0.981250        10792        53.33
     145.663     0.984375        10827        64.00
     148.095     0.985938        10844        71.11
     150.399     0.987500        10861        80.00
     152.191     0.989062        10878        91.43
     154.751     0.990625        10896       106.67
     159.615     0.992188        10913       128.00
     181.375     0.992969        10921       142.22
     200.319     0.993750        10930       160.00
     209.279     0.994531        10938       182.86
     223.231     0.995313        10947       213.33
     229.503     0.996094        10956       256.00
     232.063     0.996484        10961       284.44
     232.703     0.996875        10964       320.00
     233.599     0.997266        10968       365.71
     239.359     0.997656        10973       426.67
     240.255     0.998047        10977       512.00
     241.151     0.998242        10979       568.89
     242.175     0.998437        10981       640.00
     243.199     0.998633        10983       731.43
     243.583     0.998828        10986       853.33
     244.223     0.999023        10988      1024.00
     244.479     0.999121        10989      1137.78
     245.247     0.999219        10990      1280.00
     249.343     0.999316        10991      1462.86
     249.727     0.999414        10992      1706.67
     251.135     0.999512        10993      2048.00
     252.671     0.999561        10994      2275.56
     252.671     0.999609        10994      2560.00
     253.951     0.999658        10995      2925.71
     253.951     0.999707        10995      3413.33
     260.479     0.999756        10996      4096.00
     260.479     0.999780        10996      4551.11
     260.479     0.999805        10996      5120.00
     294.399     0.999829        10997      5851.43
     294.399     0.999854        10997      6826.67
     294.399     0.999878        10997      8192.00
     294.399     0.999890        10997      9102.22
     294.399     0.999902        10997     10240.00
     339.711     0.999915        10998     11702.86
     339.711     1.000000        10998          inf
#[Mean    =       50.555, StdDeviation   =       36.930]
#[Max     =      339.456, Total count    =        10998]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  12001 requests in 2.00m, 175.51MB read
Requests/sec:     99.98
Transfer/sec:      1.46MB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 87)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 22)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 23)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 7)
filtered_path (['productpage-2', 'details-2'], 20)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 86)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 21)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 24)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 7)
filtered_path (['productpage-2', 'details-4'], 16)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 86)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 22)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 23)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 6)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 87)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 22)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 23)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-2', 'details-1'], 18)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 86)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 21)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 22)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-2', 'details-3'], 21)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 83)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 22)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 24)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 8)
filtered_path (['productpage-4', 'details-2'], 13)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 82)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 21)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 25)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 8)
filtered_path (['productpage-4', 'details-4'], 13)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 82)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 22)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 24)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 83)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 22)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 24)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 7)
filtered_path (['productpage-4', 'details-1'], 16)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 82)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 21)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 23)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 7)
filtered_path (['productpage-4', 'details-3'], 13)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 79)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 23)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 25)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 8)
filtered_path (['productpage-5', 'details-2'], 19)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 78)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 22)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 26)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 8)
filtered_path (['productpage-5', 'details-4'], 15)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 78)
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 23)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 25)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 79)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 23)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 25)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 7)
filtered_path (['productpage-5', 'details-1'], 20)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 78)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 22)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 24)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 7)
filtered_path (['productpage-5', 'details-3'], 18)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 11)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 3051)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 33)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 30)
filtered_path (['productpage-1', 'details-2'], 19)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 11)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 3050)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 34)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 29)
filtered_path (['productpage-1', 'details-4'], 15)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 10)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 3050)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 33)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 30)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 10)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 3051)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 33)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 30)
filtered_path (['productpage-1', 'details-1'], 18)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 10)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 3050)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 32)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 29)
filtered_path (['productpage-1', 'details-3'], 19)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 8)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 68)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 19)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 23)
filtered_path (['productpage-3', 'details-2'], 15)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 8)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 67)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 18)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 24)
filtered_path (['productpage-3', 'details-4'], 17)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 7)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 67)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 19)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 23)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 7)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 68)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 19)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 23)
filtered_path (['productpage-3', 'details-1'], 13)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 7)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 67)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 18)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 22)
filtered_path (['productpage-3', 'details-3'], 15)
original graph map
Node: ratings-2
  Upstream: ['reviews-1', 'reviews-2', 'reviews-3', 'reviews-4']
  Downstream: []
Node: details-2
  Upstream: ['productpage-3', 'productpage-2', 'productpage-1', 'productpage-4', 'productpage-5']
  Downstream: []
Node: ratings-5
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: productpage-2
  Upstream: []
  Downstream: ['details-2', 'details-4', 'reviews-1', 'reviews-2', 'reviews-3', 'details-1', 'reviews-4', 'details-3']
Node: details-4
  Upstream: ['productpage-4', 'productpage-5', 'productpage-1', 'productpage-3', 'productpage-2']
  Downstream: []
Node: ratings-3
  Upstream: ['reviews-4', 'reviews-1', 'reviews-2', 'reviews-3']
  Downstream: []
Node: ratings-4
  Upstream: ['reviews-4', 'reviews-1', 'reviews-2', 'reviews-3']
  Downstream: []
Node: productpage-4
  Upstream: []
  Downstream: ['details-2', 'details-1', 'details-3', 'details-4', 'reviews-1', 'reviews-2', 'reviews-3', 'reviews-4']
Node: productpage-5
  Upstream: []
  Downstream: ['details-3', 'details-1', 'details-2', 'details-4', 'reviews-1', 'reviews-2', 'reviews-3', 'reviews-4']
Node: reviews-1
  Upstream: ['productpage-4', 'productpage-5', 'productpage-3', 'productpage-2', 'productpage-1']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-3', 'ratings-4', 'ratings-5']
Node: details-1
  Upstream: ['productpage-1', 'productpage-5', 'productpage-4', 'productpage-3', 'productpage-2']
  Downstream: []
Node: reviews-3
  Upstream: ['productpage-4', 'productpage-5', 'productpage-3', 'productpage-1', 'productpage-2']
  Downstream: ['ratings-5', 'ratings-2', 'ratings-3', 'ratings-4', 'ratings-1']
Node: ratings-1
  Upstream: ['reviews-4', 'reviews-1', 'reviews-3', 'reviews-2']
  Downstream: []
Node: productpage-1
  Upstream: []
  Downstream: ['details-1', 'details-2', 'details-4', 'reviews-4', 'details-3', 'reviews-1', 'reviews-3', 'reviews-2']
Node: reviews-2
  Upstream: ['productpage-4', 'productpage-5', 'productpage-3', 'productpage-2', 'productpage-1']
  Downstream: ['ratings-5', 'ratings-2', 'ratings-3', 'ratings-4', 'ratings-1']
Node: productpage-3
  Upstream: []
  Downstream: ['details-2', 'details-3', 'details-4', 'reviews-4', 'details-1', 'reviews-1', 'reviews-2', 'reviews-3']
Node: reviews-4
  Upstream: ['productpage-4', 'productpage-5', 'productpage-1', 'productpage-3', 'productpage-2']
  Downstream: ['ratings-5', 'ratings-2', 'ratings-1', 'ratings-3', 'ratings-4']
Node: details-3
  Upstream: ['productpage-3', 'productpage-5', 'productpage-4', 'productpage-1', 'productpage-2']
  Downstream: []
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 80), ('reviews', 'reviews-3', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 80)
('reviews', 'reviews-3', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=100...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 36.013ms, rate sampling interval: 128ms
  Thread calibration: mean lat.: 32.488ms, rate sampling interval: 129ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    34.28ms   21.96ms 136.19ms   60.24%
    Req/Sec    49.70      8.29    78.00     66.80%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   22.94ms
 75.000%   58.11ms
 90.000%   65.44ms
 99.000%   79.23ms
 99.900%   97.09ms
 99.990%  136.32ms
 99.999%  136.32ms
100.000%  136.32ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.295     0.000000            1         1.00
      11.943     0.100000          504         1.11
      13.639     0.200000         1002         1.25
      16.687     0.300000         1503         1.43
      20.191     0.400000         1999         1.67
      22.943     0.500000         2499         2.00
      26.687     0.550000         2749         2.22
      35.423     0.600000         2999         2.50
      42.367     0.650000         3250         2.86
      53.855     0.700000         3499         3.33
      58.111     0.750000         3753         4.00
      59.583     0.775000         3874         4.44
      60.671     0.800000         3998         5.00
      61.919     0.825000         4123         5.71
      63.039     0.850000         4250         6.67
      64.063     0.875000         4373         8.00
      64.639     0.887500         4438         8.89
      65.439     0.900000         4498        10.00
      66.367     0.912500         4564        11.43
      67.007     0.925000         4623        13.33
      68.223     0.937500         4687        16.00
      68.927     0.943750         4721        17.78
      69.759     0.950000         4750        20.00
      70.783     0.956250         4781        22.86
      72.063     0.962500         4810        26.67
      73.535     0.968750         4841        32.00
      74.559     0.971875         4860        35.56
      75.135     0.975000         4873        40.00
      75.967     0.978125         4889        45.71
      76.863     0.981250         4904        53.33
      77.503     0.984375         4919        64.00
      78.015     0.985938         4927        71.11
      78.271     0.987500         4935        80.00
      78.655     0.989062         4943        91.43
      79.359     0.990625         4951       106.67
      79.743     0.992188         4958       128.00
      80.063     0.992969         4962       142.22
      80.319     0.993750         4967       160.00
      80.511     0.994531         4970       182.86
      81.343     0.995313         4975       213.33
      82.175     0.996094         4978       256.00
      82.495     0.996484         4982       284.44
      82.495     0.996875         4982       320.00
      82.943     0.997266         4985       365.71
      83.071     0.997656         4986       426.67
      83.583     0.998047         4988       512.00
      84.159     0.998242         4989       568.89
      84.287     0.998437         4990       640.00
      84.543     0.998633         4991       731.43
      97.087     0.998828         4992       853.33
      99.007     0.999023         4993      1024.00
      99.007     0.999121         4993      1137.78
     105.151     0.999219         4994      1280.00
     105.151     0.999316         4994      1462.86
     124.671     0.999414         4995      1706.67
     124.671     0.999512         4995      2048.00
     124.671     0.999561         4995      2275.56
     133.759     0.999609         4996      2560.00
     133.759     0.999658         4996      2925.71
     133.759     0.999707         4996      3413.33
     133.759     0.999756         4996      4096.00
     133.759     0.999780         4996      4551.11
     136.319     0.999805         4997      5120.00
     136.319     1.000000         4997          inf
#[Mean    =       34.279, StdDeviation   =       21.965]
#[Max     =      136.192, Total count    =         4997]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  6002 requests in 1.00m, 87.77MB read
Requests/sec:    100.01
Transfer/sec:      1.46MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 315.560ms, rate sampling interval: 2338ms
  Thread calibration: mean lat.: 365.762ms, rate sampling interval: 2971ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     4.68s     7.58s   26.18s    81.66%
    Req/Sec    45.38      2.50    53.00     88.10%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   55.26ms
 75.000%    8.16s 
 90.000%   19.17s 
 99.000%   24.07s 
 99.900%   26.08s 
 99.990%   26.18s 
 99.999%   26.20s 
100.000%   26.20s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.191     0.000000            1         1.00
      12.015     0.100000         1009         1.11
      14.295     0.200000         2019         1.25
      20.639     0.300000         3025         1.43
      35.967     0.400000         4033         1.67
      55.263     0.500000         5049         2.00
      60.927     0.550000         5546         2.22
      71.807     0.600000         6050         2.50
      81.791     0.650000         6553         2.86
    4698.111     0.700000         7058         3.33
    8155.135     0.750000         7562         4.00
    9691.135     0.775000         7816         4.44
   11190.271     0.800000         8069         5.00
   13066.239     0.825000         8318         5.71
   14770.175     0.850000         8569         6.67
   16957.439     0.875000         8821         8.00
   18087.935     0.887500         8947         8.89
   19169.279     0.900000         9075        10.00
   20185.087     0.912500         9204        11.43
   21102.591     0.925000         9326        13.33
   21692.415     0.937500         9452        16.00
   21970.943     0.943750         9518        17.78
   22200.319     0.950000         9584        20.00
   22396.927     0.956250         9656        22.86
   22609.919     0.962500         9703        26.67
   22888.447     0.968750         9772        32.00
   22986.751     0.971875         9805        35.56
   23085.055     0.975000         9836        40.00
   23183.359     0.978125         9861        45.71
   23363.583     0.981250         9892        53.33
   23576.575     0.984375         9925        64.00
   23756.799     0.985938         9940        71.11
   23904.255     0.987500         9958        80.00
   23986.175     0.989062         9972        91.43
   24084.479     0.990625         9990       106.67
   24281.087     0.992188        10004       128.00
   24395.775     0.992969        10012       142.22
   24575.999     0.993750        10018       160.00
   24690.687     0.994531        10027       182.86
   24969.215     0.995313        10034       213.33
   25182.207     0.996094        10042       256.00
   25280.511     0.996484        10048       284.44
   25296.895     0.996875        10052       320.00
   25378.815     0.997266        10055       365.71
   25477.119     0.997656        10059       426.67
   25673.727     0.998047        10062       512.00
   25804.799     0.998242        10064       568.89
   25886.719     0.998437        10066       640.00
   26066.943     0.998633        10070       731.43
   26066.943     0.998828        10070       853.33
   26099.711     0.999023        10074      1024.00
   26099.711     0.999121        10074      1137.78
   26099.711     0.999219        10074      1280.00
   26132.479     0.999316        10075      1462.86
   26165.247     0.999414        10079      1706.67
   26165.247     0.999512        10079      2048.00
   26165.247     0.999561        10079      2275.56
   26165.247     0.999609        10079      2560.00
   26165.247     0.999658        10079      2925.71
   26165.247     0.999707        10079      3413.33
   26165.247     0.999756        10079      4096.00
   26165.247     0.999780        10079      4551.11
   26181.631     0.999805        10080      5120.00
   26181.631     0.999829        10080      5851.43
   26181.631     0.999854        10080      6826.67
   26181.631     0.999878        10080      8192.00
   26181.631     0.999890        10080      9102.22
   26198.015     0.999902        10081     10240.00
   26198.015     1.000000        10081          inf
#[Mean    =     4684.534, StdDeviation   =     7582.334]
#[Max     =    26181.632, Total count    =        10081]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  11010 requests in 2.00m, 161.02MB read
Requests/sec:     91.73
Transfer/sec:      1.34MB
Deleting existing deployments...
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Deleting existing virtual services...
virtualservice.networking.istio.io "productpage-to-reviews-vs" deleted
virtualservice.networking.istio.io "reviews-to-ratings-vs" deleted
destinationrule.networking.istio.io "details-dr" deleted
destinationrule.networking.istio.io "productpage-dr" deleted
destinationrule.networking.istio.io "ratings-dr" deleted
destinationrule.networking.istio.io "reviews-dr" deleted
Creating new deployments...
deployment.apps/details-1 created
deployment.apps/details-2 created
deployment.apps/details-3 created
deployment.apps/details-4 created
deployment.apps/productpage-1 created
deployment.apps/productpage-2 created
deployment.apps/productpage-3 created
deployment.apps/productpage-4 created
deployment.apps/productpage-5 created
deployment.apps/ratings-1 created
deployment.apps/ratings-2 created
deployment.apps/ratings-3 created
deployment.apps/ratings-4 created
deployment.apps/ratings-5 created
deployment.apps/reviews-1 created
deployment.apps/reviews-2 created
deployment.apps/reviews-3 created
deployment.apps/reviews-4 created
Running first wrk2 load test with QPS=150...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 5466.002ms, rate sampling interval: 14106ms
  Thread calibration: mean lat.: 4749.726ms, rate sampling interval: 12836ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     9.70s     2.55s   15.95s    63.23%
    Req/Sec    65.00      3.42    70.00     83.33%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.65s 
 75.000%   11.10s 
 90.000%   13.48s 
 99.000%   15.51s 
 99.900%   15.91s 
 99.990%   15.94s 
 99.999%   15.96s 
100.000%   15.96s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4612.095     0.000000            1         1.00
    6344.703     0.100000          680         1.11
    7225.343     0.200000         1356         1.25
    8126.463     0.300000         2030         1.43
    9084.927     0.400000         2710         1.67
    9650.175     0.500000         3383         2.00
    9953.279     0.550000         3726         2.22
   10158.079     0.600000         4069         2.50
   10461.183     0.650000         4410         2.86
   10764.287     0.700000         4739         3.33
   11100.159     0.750000         5086         4.00
   11239.423     0.775000         5259         4.44
   11534.335     0.800000         5413         5.00
   12271.615     0.825000         5584         5.71
   12722.175     0.850000         5752         6.67
   13074.431     0.875000         5927         8.00
   13279.231     0.887500         6005         8.89
   13475.839     0.900000         6095        10.00
   13729.791     0.912500         6174        11.43
   14073.855     0.925000         6260        13.33
   14286.847     0.937500         6346        16.00
   14434.303     0.943750         6387        17.78
   14557.183     0.950000         6430        20.00
   14671.871     0.956250         6471        22.86
   14802.943     0.962500         6513        26.67
   14950.399     0.968750         6557        32.00
   14999.551     0.971875         6581        35.56
   15032.319     0.975000         6598        40.00
   15122.431     0.978125         6618        45.71
   15278.079     0.981250         6641        53.33
   15400.959     0.984375         6661        64.00
   15425.535     0.985938         6671        71.11
   15441.919     0.987500         6683        80.00
   15482.879     0.989062         6692        91.43
   15540.223     0.990625         6705       106.67
   15605.759     0.992188         6716       128.00
   15613.951     0.992969         6720       142.22
   15638.527     0.993750         6724       160.00
   15679.487     0.994531         6729       182.86
   15753.215     0.995313         6735       213.33
   15802.367     0.996094         6741       256.00
   15818.751     0.996484         6743       284.44
   15826.943     0.996875         6745       320.00
   15843.327     0.997266         6749       365.71
   15851.519     0.997656         6751       426.67
   15859.711     0.998047         6754       512.00
   15867.903     0.998242         6755       568.89
   15884.287     0.998437         6756       640.00
   15892.479     0.998633         6757       731.43
   15908.863     0.998828         6759       853.33
   15925.247     0.999023         6761      1024.00
   15925.247     0.999121         6761      1137.78
   15925.247     0.999219         6761      1280.00
   15933.439     0.999316         6763      1462.86
   15933.439     0.999414         6763      1706.67
   15933.439     0.999512         6763      2048.00
   15941.631     0.999561         6765      2275.56
   15941.631     0.999609         6765      2560.00
   15941.631     0.999658         6765      2925.71
   15941.631     0.999707         6765      3413.33
   15941.631     0.999756         6765      4096.00
   15941.631     0.999780         6765      4551.11
   15941.631     0.999805         6765      5120.00
   15941.631     0.999829         6765      5851.43
   15958.015     0.999854         6766      6826.67
   15958.015     1.000000         6766          inf
#[Mean    =     9703.150, StdDeviation   =     2549.325]
#[Max     =    15949.824, Total count    =         6766]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  7335 requests in 1.00m, 107.26MB read
  Socket errors: connect 0, read 0, write 0, timeout 11
Requests/sec:    122.24
Transfer/sec:      1.79MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 107.829ms, rate sampling interval: 420ms
  Thread calibration: mean lat.: 131.526ms, rate sampling interval: 548ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   202.88ms  391.28ms   2.54s    90.81%
    Req/Sec    74.61      5.31   102.00     83.51%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   68.74ms
 75.000%  125.38ms
 90.000%  530.94ms
 99.000%    2.14s 
 99.900%    2.39s 
 99.990%    2.49s 
 99.999%    2.55s 
100.000%    2.55s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.391     0.000000            1         1.00
      18.287     0.100000         1653         1.11
      31.695     0.200000         3304         1.25
      55.583     0.300000         4956         1.43
      61.535     0.400000         6610         1.67
      68.735     0.500000         8270         2.00
      74.623     0.550000         9091         2.22
      83.903     0.600000         9913         2.50
      94.783     0.650000        10739         2.86
     108.223     0.700000        11565         3.33
     125.375     0.750000        12390         4.00
     141.055     0.775000        12804         4.44
     167.295     0.800000        13217         5.00
     210.943     0.825000        13629         5.71
     286.975     0.850000        14042         6.67
     392.703     0.875000        14456         8.00
     444.415     0.887500        14662         8.89
     530.943     0.900000        14868        10.00
     632.319     0.912500        15077        11.43
     750.591     0.925000        15282        13.33
     869.887     0.937500        15488        16.00
     959.999     0.943750        15592        17.78
    1044.479     0.950000        15694        20.00
    1130.495     0.956250        15798        22.86
    1207.295     0.962500        15901        26.67
    1343.487     0.968750        16004        32.00
    1562.623     0.971875        16056        35.56
    1738.751     0.975000        16107        40.00
    1886.207     0.978125        16159        45.71
    1951.743     0.981250        16211        53.33
    2001.919     0.984375        16262        64.00
    2023.423     0.985938        16288        71.11
    2057.215     0.987500        16314        80.00
    2107.391     0.989062        16341        91.43
    2146.303     0.990625        16368       106.67
    2183.167     0.992188        16391       128.00
    2197.503     0.992969        16404       142.22
    2209.791     0.993750        16418       160.00
    2226.175     0.994531        16432       182.86
    2234.367     0.995313        16443       213.33
    2256.895     0.996094        16456       256.00
    2283.519     0.996484        16462       284.44
    2289.663     0.996875        16470       320.00
    2314.239     0.997266        16477       365.71
    2332.671     0.997656        16482       426.67
    2347.007     0.998047        16488       512.00
    2353.151     0.998242        16491       568.89
    2357.247     0.998437        16496       640.00
    2365.439     0.998633        16498       731.43
    2381.823     0.998828        16501       853.33
    2387.967     0.999023        16504      1024.00
    2390.015     0.999121        16506      1137.78
    2408.447     0.999219        16508      1280.00
    2412.543     0.999316        16510      1462.86
    2420.735     0.999414        16511      1706.67
    2430.975     0.999512        16512      2048.00
    2433.023     0.999561        16514      2275.56
    2433.023     0.999609        16514      2560.00
    2457.599     0.999658        16515      2925.71
    2461.695     0.999707        16516      3413.33
    2461.695     0.999756        16516      4096.00
    2486.271     0.999780        16517      4551.11
    2486.271     0.999805        16517      5120.00
    2492.415     0.999829        16518      5851.43
    2492.415     0.999854        16518      6826.67
    2492.415     0.999878        16518      8192.00
    2508.799     0.999890        16519      9102.22
    2508.799     0.999902        16519     10240.00
    2508.799     0.999915        16519     11702.86
    2508.799     0.999927        16519     13653.33
    2508.799     0.999939        16519     16384.00
    2545.663     0.999945        16520     18204.44
    2545.663     1.000000        16520          inf
#[Mean    =      202.880, StdDeviation   =      391.283]
#[Max     =     2543.616, Total count    =        16520]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  17999 requests in 2.00m, 263.21MB read
Requests/sec:    149.98
Transfer/sec:      2.19MB
Running main.py with provided arguments...
Running proposed method with args: bookinfo http://10.108.230.9:8080
filtered_path
filtered_path (['productpage-5', 'reviews-2', 'ratings-3'], 35)
filtered_path (['productpage-5', 'reviews-3', 'ratings-3'], 17)
filtered_path (['productpage-5', 'reviews-4', 'ratings-3'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-3'], 62)
filtered_path (['productpage-5', 'details-4'], 21)
filtered_path (['productpage-5', 'reviews-2', 'ratings-4'], 35)
filtered_path (['productpage-5', 'reviews-3', 'ratings-4'], 18)
filtered_path (['productpage-5', 'reviews-4', 'ratings-4'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-4'], 61)
filtered_path (['productpage-5', 'details-2'], 20)
filtered_path (['productpage-5', 'reviews-2', 'ratings-5'], 35)
filtered_path (['productpage-5', 'reviews-3', 'ratings-5'], 18)
filtered_path (['productpage-5', 'reviews-4', 'ratings-5'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-5'], 63)
filtered_path (['productpage-5', 'reviews-2', 'ratings-1'], 35)
filtered_path (['productpage-5', 'reviews-3', 'ratings-1'], 18)
filtered_path (['productpage-5', 'reviews-4', 'ratings-1'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-1'], 61)
filtered_path (['productpage-5', 'reviews-2', 'ratings-2'], 36)
filtered_path (['productpage-5', 'reviews-3', 'ratings-2'], 18)
filtered_path (['productpage-5', 'reviews-4', 'ratings-2'], 10)
filtered_path (['productpage-5', 'reviews-1', 'ratings-2'], 62)
filtered_path (['productpage-5', 'details-3'], 22)
filtered_path (['productpage-5', 'details-1'], 24)
filtered_path (['productpage-2', 'reviews-3', 'ratings-3'], 19)
filtered_path (['productpage-2', 'reviews-2', 'ratings-3'], 11)
filtered_path (['productpage-2', 'reviews-1', 'ratings-3'], 34)
filtered_path (['productpage-2', 'reviews-4', 'ratings-3'], 5)
filtered_path (['productpage-2', 'details-4'], 21)
filtered_path (['productpage-2', 'reviews-3', 'ratings-4'], 20)
filtered_path (['productpage-2', 'reviews-2', 'ratings-4'], 11)
filtered_path (['productpage-2', 'reviews-1', 'ratings-4'], 33)
filtered_path (['productpage-2', 'reviews-4', 'ratings-4'], 5)
filtered_path (['productpage-2', 'details-2'], 21)
filtered_path (['productpage-2', 'reviews-3', 'ratings-5'], 20)
filtered_path (['productpage-2', 'reviews-2', 'ratings-5'], 11)
filtered_path (['productpage-2', 'reviews-1', 'ratings-5'], 35)
filtered_path (['productpage-2', 'reviews-4', 'ratings-5'], 5)
filtered_path (['productpage-2', 'reviews-3', 'ratings-1'], 20)
filtered_path (['productpage-2', 'reviews-2', 'ratings-1'], 11)
filtered_path (['productpage-2', 'reviews-1', 'ratings-1'], 33)
filtered_path (['productpage-2', 'reviews-4', 'ratings-1'], 5)
filtered_path (['productpage-2', 'reviews-3', 'ratings-2'], 20)
filtered_path (['productpage-2', 'reviews-2', 'ratings-2'], 12)
filtered_path (['productpage-2', 'reviews-1', 'ratings-2'], 34)
filtered_path (['productpage-2', 'reviews-4', 'ratings-2'], 5)
filtered_path (['productpage-2', 'details-3'], 20)
filtered_path (['productpage-2', 'details-1'], 29)
filtered_path (['productpage-3', 'reviews-2', 'ratings-3'], 25)
filtered_path (['productpage-3', 'reviews-4', 'ratings-3'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-3'], 48)
filtered_path (['productpage-3', 'reviews-3', 'ratings-3'], 16)
filtered_path (['productpage-3', 'details-4'], 23)
filtered_path (['productpage-3', 'reviews-2', 'ratings-4'], 25)
filtered_path (['productpage-3', 'reviews-4', 'ratings-4'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-4'], 47)
filtered_path (['productpage-3', 'reviews-3', 'ratings-4'], 17)
filtered_path (['productpage-3', 'details-2'], 25)
filtered_path (['productpage-3', 'reviews-2', 'ratings-5'], 25)
filtered_path (['productpage-3', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-5'], 49)
filtered_path (['productpage-3', 'reviews-3', 'ratings-5'], 17)
filtered_path (['productpage-3', 'reviews-2', 'ratings-1'], 25)
filtered_path (['productpage-3', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-1'], 47)
filtered_path (['productpage-3', 'reviews-3', 'ratings-1'], 17)
filtered_path (['productpage-3', 'reviews-2', 'ratings-2'], 26)
filtered_path (['productpage-3', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-3', 'reviews-1', 'ratings-2'], 48)
filtered_path (['productpage-3', 'reviews-3', 'ratings-2'], 17)
filtered_path (['productpage-3', 'details-3'], 22)
filtered_path (['productpage-3', 'details-1'], 25)
filtered_path (['productpage-1', 'reviews-2', 'ratings-3'], 24)
filtered_path (['productpage-1', 'reviews-4', 'ratings-3'], 9)
filtered_path (['productpage-1', 'reviews-1', 'ratings-3'], 48)
filtered_path (['productpage-1', 'reviews-3', 'ratings-3'], 15)
filtered_path (['productpage-1', 'details-4'], 20)
filtered_path (['productpage-1', 'reviews-2', 'ratings-4'], 24)
filtered_path (['productpage-1', 'reviews-4', 'ratings-4'], 9)
filtered_path (['productpage-1', 'reviews-1', 'ratings-4'], 47)
filtered_path (['productpage-1', 'reviews-3', 'ratings-4'], 16)
filtered_path (['productpage-1', 'details-2'], 21)
filtered_path (['productpage-1', 'reviews-2', 'ratings-5'], 24)
filtered_path (['productpage-1', 'reviews-4', 'ratings-5'], 9)
filtered_path (['productpage-1', 'reviews-1', 'ratings-5'], 49)
filtered_path (['productpage-1', 'reviews-3', 'ratings-5'], 16)
filtered_path (['productpage-1', 'reviews-2', 'ratings-1'], 24)
filtered_path (['productpage-1', 'reviews-4', 'ratings-1'], 9)
filtered_path (['productpage-1', 'reviews-1', 'ratings-1'], 47)
filtered_path (['productpage-1', 'reviews-3', 'ratings-1'], 16)
filtered_path (['productpage-1', 'reviews-2', 'ratings-2'], 25)
filtered_path (['productpage-1', 'reviews-4', 'ratings-2'], 9)
filtered_path (['productpage-1', 'reviews-1', 'ratings-2'], 48)
filtered_path (['productpage-1', 'reviews-3', 'ratings-2'], 16)
filtered_path (['productpage-1', 'details-3'], 24)
filtered_path (['productpage-1', 'details-1'], 24)
filtered_path (['productpage-4', 'reviews-4', 'ratings-3'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-3'], 46)
filtered_path (['productpage-4', 'reviews-2', 'ratings-3'], 18)
filtered_path (['productpage-4', 'reviews-3', 'ratings-3'], 17)
filtered_path (['productpage-4', 'details-4'], 21)
filtered_path (['productpage-4', 'reviews-4', 'ratings-4'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-4'], 45)
filtered_path (['productpage-4', 'reviews-2', 'ratings-4'], 18)
filtered_path (['productpage-4', 'reviews-3', 'ratings-4'], 18)
filtered_path (['productpage-4', 'details-2'], 20)
filtered_path (['productpage-4', 'reviews-4', 'ratings-5'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-5'], 47)
filtered_path (['productpage-4', 'reviews-2', 'ratings-5'], 18)
filtered_path (['productpage-4', 'reviews-3', 'ratings-5'], 18)
filtered_path (['productpage-4', 'reviews-4', 'ratings-1'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-1'], 45)
filtered_path (['productpage-4', 'reviews-2', 'ratings-1'], 18)
filtered_path (['productpage-4', 'reviews-3', 'ratings-1'], 18)
filtered_path (['productpage-4', 'reviews-4', 'ratings-2'], 6)
filtered_path (['productpage-4', 'reviews-1', 'ratings-2'], 46)
filtered_path (['productpage-4', 'reviews-2', 'ratings-2'], 19)
filtered_path (['productpage-4', 'reviews-3', 'ratings-2'], 18)
filtered_path (['productpage-4', 'details-3'], 23)
filtered_path (['productpage-4', 'details-1'], 23)
original graph map
Node: productpage-5
  Upstream: []
  Downstream: ['details-4', 'reviews-2', 'details-2', 'details-3', 'reviews-3', 'reviews-4', 'details-1', 'reviews-1']
Node: ratings-3
  Upstream: ['reviews-2', 'reviews-4', 'reviews-3', 'reviews-1']
  Downstream: []
Node: details-4
  Upstream: ['productpage-1', 'productpage-3', 'productpage-5', 'productpage-4', 'productpage-2']
  Downstream: []
Node: ratings-4
  Upstream: ['reviews-2', 'reviews-4', 'reviews-3', 'reviews-1']
  Downstream: []
Node: productpage-2
  Upstream: []
  Downstream: ['details-4', 'reviews-3', 'details-2', 'reviews-2', 'details-1', 'details-3', 'reviews-1', 'reviews-4']
Node: productpage-3
  Upstream: []
  Downstream: ['details-3', 'details-4', 'details-2', 'reviews-2', 'details-1', 'reviews-4', 'reviews-1', 'reviews-3']
Node: reviews-1
  Upstream: ['productpage-1', 'productpage-3', 'productpage-4', 'productpage-5', 'productpage-2']
  Downstream: ['ratings-5', 'ratings-3', 'ratings-2', 'ratings-1', 'ratings-4']
Node: details-2
  Upstream: ['productpage-4', 'productpage-3', 'productpage-5', 'productpage-1', 'productpage-2']
  Downstream: []
Node: reviews-4
  Upstream: ['productpage-5', 'productpage-1', 'productpage-3', 'productpage-4', 'productpage-2']
  Downstream: ['ratings-1', 'ratings-2', 'ratings-3', 'ratings-4', 'ratings-5']
Node: ratings-5
  Upstream: ['reviews-2', 'reviews-4', 'reviews-1', 'reviews-3']
  Downstream: []
Node: ratings-1
  Upstream: ['reviews-2', 'reviews-4', 'reviews-3', 'reviews-1']
  Downstream: []
Node: reviews-3
  Upstream: ['productpage-5', 'productpage-3', 'productpage-1', 'productpage-4', 'productpage-2']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-4', 'ratings-5', 'ratings-3']
Node: ratings-2
  Upstream: ['reviews-2', 'reviews-3', 'reviews-4', 'reviews-1']
  Downstream: []
Node: details-3
  Upstream: ['productpage-3', 'productpage-5', 'productpage-1', 'productpage-4', 'productpage-2']
  Downstream: []
Node: productpage-1
  Upstream: []
  Downstream: ['details-1', 'details-4', 'reviews-2', 'reviews-4', 'reviews-1', 'details-3', 'details-2', 'reviews-3']
Node: reviews-2
  Upstream: ['productpage-1', 'productpage-3', 'productpage-5', 'productpage-4', 'productpage-2']
  Downstream: ['ratings-2', 'ratings-1', 'ratings-3', 'ratings-4', 'ratings-5']
Node: productpage-4
  Upstream: []
  Downstream: ['details-2', 'reviews-4', 'reviews-1', 'details-3', 'reviews-2', 'details-1', 'details-4', 'reviews-3']
Node: details-1
  Upstream: ['productpage-1', 'productpage-3', 'productpage-4', 'productpage-5', 'productpage-2']
  Downstream: []
--------------------
pair ('productpage', 'details')
Node productpage-1_out has demand -100
Node details-1_in has demand 125
Node details-2_in has demand 125
Node details-3_in has demand 125
Node details-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('reviews', 'ratings')
Node reviews-1_out has demand -100
Node ratings-1_in has demand 80
Node ratings-2_in has demand 80
Node ratings-3_in has demand 80
Node ratings-4_in has demand 80
Node ratings-5_in has demand 80
Node reviews-2_out has demand -100
Node reviews-3_out has demand -100
Node reviews-4_out has demand -100
Total demand in the graph: 0
--------------------
--------------------
pair ('productpage', 'reviews')
Node productpage-1_out has demand -100
Node reviews-1_in has demand 125
Node reviews-2_in has demand 125
Node reviews-3_in has demand 125
Node reviews-4_in has demand 125
Node productpage-2_out has demand -100
Node productpage-3_out has demand -100
Node productpage-4_out has demand -100
Node productpage-5_out has demand -100
Total demand in the graph: 0
--------------------
[('productpage', 'productpage-1', 'details', 'details-1', 25), ('productpage', 'productpage-1', 'details', 'details-2', 75), ('productpage', 'productpage-1', 'reviews', 'reviews-1', 25), ('productpage', 'productpage-1', 'reviews', 'reviews-2', 75), ('productpage', 'productpage-2', 'details', 'details-2', 50), ('productpage', 'productpage-2', 'details', 'details-3', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-2', 50), ('productpage', 'productpage-2', 'reviews', 'reviews-3', 50), ('productpage', 'productpage-3', 'details', 'details-3', 75), ('productpage', 'productpage-3', 'details', 'details-4', 25), ('productpage', 'productpage-3', 'reviews', 'reviews-3', 75), ('productpage', 'productpage-3', 'reviews', 'reviews-4', 25), ('productpage', 'productpage-4', 'details', 'details-4', 100), ('productpage', 'productpage-4', 'reviews', 'reviews-4', 100), ('productpage', 'productpage-5', 'details', 'details-1', 100), ('productpage', 'productpage-5', 'reviews', 'reviews-1', 100), ('reviews', 'reviews-1', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-1', 'ratings', 'ratings-5', 80), ('reviews', 'reviews-2', 'ratings', 'ratings-1', 40), ('reviews', 'reviews-2', 'ratings', 'ratings-2', 60), ('reviews', 'reviews-3', 'ratings', 'ratings-2', 20), ('reviews', 'reviews-3', 'ratings', 'ratings-3', 80), ('reviews', 'reviews-4', 'ratings', 'ratings-1', 20), ('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)]
service_routes (sorted)
('productpage', 'productpage-1', 'details', 'details-1', 25)
('productpage', 'productpage-1', 'details', 'details-2', 75)
('productpage', 'productpage-1', 'reviews', 'reviews-1', 25)
('productpage', 'productpage-1', 'reviews', 'reviews-2', 75)
('productpage', 'productpage-2', 'details', 'details-2', 50)
('productpage', 'productpage-2', 'details', 'details-3', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-2', 50)
('productpage', 'productpage-2', 'reviews', 'reviews-3', 50)
('productpage', 'productpage-3', 'details', 'details-3', 75)
('productpage', 'productpage-3', 'details', 'details-4', 25)
('productpage', 'productpage-3', 'reviews', 'reviews-3', 75)
('productpage', 'productpage-3', 'reviews', 'reviews-4', 25)
('productpage', 'productpage-4', 'details', 'details-4', 100)
('productpage', 'productpage-4', 'reviews', 'reviews-4', 100)
('productpage', 'productpage-5', 'details', 'details-1', 100)
('productpage', 'productpage-5', 'reviews', 'reviews-1', 100)
('reviews', 'reviews-1', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-1', 'ratings', 'ratings-5', 80)
('reviews', 'reviews-2', 'ratings', 'ratings-1', 40)
('reviews', 'reviews-2', 'ratings', 'ratings-2', 60)
('reviews', 'reviews-3', 'ratings', 'ratings-2', 20)
('reviews', 'reviews-3', 'ratings', 'ratings-3', 80)
('reviews', 'reviews-4', 'ratings', 'ratings-1', 20)
('reviews', 'reviews-4', 'ratings', 'ratings-4', 80)
Complete
Running second wrk2 load test with QPS=150...
Running 1m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 46.052ms, rate sampling interval: 147ms
  Thread calibration: mean lat.: 39.577ms, rate sampling interval: 129ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    44.05ms   35.06ms 680.96ms   95.82%
    Req/Sec    74.83      9.06   102.00     68.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   49.76ms
 75.000%   61.50ms
 90.000%   71.10ms
 99.000%  101.38ms
 99.900%  455.17ms
 99.990%  643.58ms
 99.999%  681.47ms
100.000%  681.47ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.123     0.000000            1         1.00
      12.823     0.100000          751         1.11
      17.551     0.200000         1503         1.25
      21.503     0.300000         2250         1.43
      28.703     0.400000         2999         1.67
      49.759     0.500000         3748         2.00
      52.895     0.550000         4128         2.22
      54.943     0.600000         4500         2.50
      57.215     0.650000         4876         2.86
      59.263     0.700000         5248         3.33
      61.503     0.750000         5626         4.00
      62.527     0.775000         5813         4.44
      63.519     0.800000         6002         5.00
      64.799     0.825000         6189         5.71
      66.367     0.850000         6380         6.67
      68.095     0.875000         6563         8.00
      69.375     0.887500         6653         8.89
      71.103     0.900000         6752        10.00
      72.447     0.912500         6842        11.43
      74.111     0.925000         6936        13.33
      75.583     0.937500         7028        16.00
      76.351     0.943750         7076        17.78
      77.311     0.950000         7122        20.00
      78.463     0.956250         7169        22.86
      79.807     0.962500         7216        26.67
      81.791     0.968750         7263        32.00
      83.263     0.971875         7286        35.56
      84.799     0.975000         7309        40.00
      85.951     0.978125         7333        45.71
      87.679     0.981250         7356        53.33
      90.367     0.984375         7379        64.00
      92.671     0.985938         7391        71.11
      95.743     0.987500         7404        80.00
      99.583     0.989062         7415        91.43
     104.319     0.990625         7426       106.67
     119.295     0.992188         7438       128.00
     140.415     0.992969         7444       142.22
     185.215     0.993750         7450       160.00
     233.599     0.994531         7456       182.86
     243.839     0.995313         7461       213.33
     282.879     0.996094         7467       256.00
     293.119     0.996484         7470       284.44
     299.007     0.996875         7473       320.00
     331.263     0.997266         7476       365.71
     370.687     0.997656         7479       426.67
     408.575     0.998047         7482       512.00
     411.391     0.998242         7484       568.89
     441.087     0.998437         7485       640.00
     441.599     0.998633         7486       731.43
     448.767     0.998828         7488       853.33
     455.167     0.999023         7489      1024.00
     489.727     0.999121         7490      1137.78
     537.087     0.999219         7491      1280.00
     537.087     0.999316         7491      1462.86
     538.111     0.999414         7492      1706.67
     586.239     0.999512         7493      2048.00
     586.239     0.999561         7493      2275.56
     635.391     0.999609         7494      2560.00
     635.391     0.999658         7494      2925.71
     635.391     0.999707         7494      3413.33
     643.583     0.999756         7495      4096.00
     643.583     0.999780         7495      4551.11
     643.583     0.999805         7495      5120.00
     643.583     0.999829         7495      5851.43
     643.583     0.999854         7495      6826.67
     681.471     0.999878         7496      8192.00
     681.471     1.000000         7496          inf
#[Mean    =       44.054, StdDeviation   =       35.057]
#[Max     =      680.960, Total count    =         7496]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  9000 requests in 1.00m, 131.61MB read
Requests/sec:    149.95
Transfer/sec:      2.19MB
Running 2m test @ http://10.97.31.177:9080/productpage
  2 threads and 10 connections
  Thread calibration: mean lat.: 52.686ms, rate sampling interval: 177ms
  Thread calibration: mean lat.: 43.657ms, rate sampling interval: 155ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    44.05ms   38.39ms 595.97ms   94.80%
    Req/Sec    74.65      8.57   136.00     79.91%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   51.52ms
 75.000%   59.65ms
 90.000%   66.37ms
 99.000%  173.18ms
 99.900%  476.42ms
 99.990%  562.69ms
 99.999%  596.48ms
100.000%  596.48ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       8.175     0.000000            1         1.00
      11.551     0.100000         1650         1.11
      14.871     0.200000         3301         1.25
      18.639     0.300000         4951         1.43
      22.447     0.400000         6600         1.67
      51.519     0.500000         8257         2.00
      53.439     0.550000         9096         2.22
      54.911     0.600000         9918         2.50
      56.447     0.650000        10732         2.86
      58.271     0.700000        11558         3.33
      59.647     0.750000        12389         4.00
      60.255     0.775000        12798         4.44
      60.959     0.800000        13211         5.00
      61.887     0.825000        13616         5.71
      62.943     0.850000        14030         6.67
      64.191     0.875000        14437         8.00
      65.119     0.887500        14647         8.89
      66.367     0.900000        14857        10.00
      68.287     0.912500        15057        11.43
      72.895     0.925000        15264        13.33
      77.439     0.937500        15468        16.00
      80.511     0.943750        15570        17.78
      84.415     0.950000        15675        20.00
      87.679     0.956250        15778        22.86
      92.863     0.962500        15879        26.67
     100.671     0.968750        15982        32.00
     105.855     0.971875        16034        35.56
     110.399     0.975000        16085        40.00
     116.351     0.978125        16137        45.71
     126.335     0.981250        16188        53.33
     140.031     0.984375        16240        64.00
     144.639     0.985938        16266        71.11
     156.415     0.987500        16291        80.00
     167.807     0.989062        16317        91.43
     179.583     0.990625        16343       106.67
     198.399     0.992188        16369       128.00
     204.159     0.992969        16383       142.22
     224.127     0.993750        16394       160.00
     243.071     0.994531        16407       182.86
     258.303     0.995313        16420       213.33
     297.215     0.996094        16433       256.00
     324.863     0.996484        16440       284.44
     361.727     0.996875        16446       320.00
     376.063     0.997266        16452       365.71
     415.999     0.997656        16459       426.67
     441.087     0.998047        16465       512.00
     452.095     0.998242        16469       568.89
     460.799     0.998437        16472       640.00
     464.639     0.998633        16475       731.43
     469.759     0.998828        16478       853.33
     476.415     0.999023        16481      1024.00
     476.927     0.999121        16483      1137.78
     480.255     0.999219        16485      1280.00
     506.623     0.999316        16486      1462.86
     517.631     0.999414        16488      1706.67
     518.911     0.999512        16489      2048.00
     524.799     0.999561        16490      2275.56
     532.991     0.999609        16491      2560.00
     534.527     0.999658        16492      2925.71
     558.591     0.999707        16493      3413.33
     558.591     0.999756        16493      4096.00
     560.127     0.999780        16494      4551.11
     560.127     0.999805        16494      5120.00
     562.687     0.999829        16495      5851.43
     562.687     0.999854        16495      6826.67
     562.687     0.999878        16495      8192.00
     582.655     0.999890        16496      9102.22
     582.655     0.999902        16496     10240.00
     582.655     0.999915        16496     11702.86
     582.655     0.999927        16496     13653.33
     582.655     0.999939        16496     16384.00
     596.479     0.999945        16497     18204.44
     596.479     1.000000        16497          inf
#[Mean    =       44.048, StdDeviation   =       38.387]
#[Max     =      595.968, Total count    =        16497]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  17999 requests in 2.00m, 263.21MB read
Requests/sec:    149.98
Transfer/sec:      2.19MB
deployment.apps "details-1" deleted
deployment.apps "details-2" deleted
deployment.apps "details-3" deleted
deployment.apps "details-4" deleted
deployment.apps "productpage-1" deleted
deployment.apps "productpage-2" deleted
deployment.apps "productpage-3" deleted
deployment.apps "productpage-4" deleted
deployment.apps "productpage-5" deleted
deployment.apps "ratings-1" deleted
deployment.apps "ratings-2" deleted
deployment.apps "ratings-3" deleted
deployment.apps "ratings-4" deleted
deployment.apps "ratings-5" deleted
deployment.apps "reviews-1" deleted
deployment.apps "reviews-2" deleted
deployment.apps "reviews-3" deleted
deployment.apps "reviews-4" deleted
Script execution completed.
Executing script: /home/dnc/master/paper2024/benchcode/bookinfo/proposed.sh

